(this["webpackJsonppm-frontend"]=this["webpackJsonppm-frontend"]||[]).push([[0],{1023:function(e,t,a){},1024:function(e,t,a){},1025:function(e,t,a){},1026:function(e,t,a){},1027:function(e,t,a){"use strict";a.r(t);var s=a(192),n=(a(448),a(286),a(496),a(0)),o=a.n(n),r=a(30),i=a.n(r),c=a(123),l=(a(681),a(416)),d=a(13),m=a(417),p=a(2),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP":return{};case"SIGN_UP_BASIC":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SIGN_UP_BASIC"});case"LOGIN_SUCCESSFULL":case"LOGIN_ERROR":return Object(p.a)(Object(p.a)({},e),{},{Logindata:t.payload,action:"LOGIN"});case"SOCIAL_LOGIN_SUCCESSFULL":case"SOCIAL_LOGIN_ERROR":return Object(p.a)(Object(p.a)({},e),{},{Socialdata:t.payload,action:"SOCIAL_LOGIN"});case"FORGET_PASSWORD":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"FORGET_PASSWORD"});case"RESET_PASSWORD":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"RESET_PASSWORD"});case"CONTACT_US":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"CONTACT_US"});case"GET_LEADERS_OUTER":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_LEADERS_OUTER"});case"EMPTY_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"EMPTY_DATA"});default:return e}},h=function(e,t){return{type:"CHANGE_BACKGROUND",color:e,imgUrl:t}},g=function(e){return{type:"ADD_HEADING",heading:e}},v=function(e){return{type:"GET_CANVAS",canvasData:e}},f=function(e){return{type:"SIDE_BAR",showSidebar2:e}},b=function(e){return{type:"FILTERS",filters:e}},E=function(e){return{type:"OBJECT_TYPE",objectType:e}},y=function(e){return{type:"ADJUSTMENTS",showAdjust:e}},S=function(e){return{type:"ACTIVE_INDEX",objectIndex:e}},w=function(e){return{type:" UNDO_REDO",undoRedo:e}},C=function(e){return{type:"FILE_MENU",head:e}},k=function(e){return{type:"TOOLS_MENU",data:e}},D=function(e){return{type:"MAIN_SIDE_BAR",showMainSideBar:e}},A=function(e){return{type:"CROP_STATE",cropState:e}},O=function(e){return{type:"SCROLL_STATE",scrollData:e}},N=function(e){return{type:"BGMODAL_STATE",bgModal:e}},T=function(e){return{type:"RESET_STATE",reset:e}},j=function(e){return{type:"LOADER_STATE",showLoader:e}},_=function(e,t){return{type:"VOLUME_STATE",volume:e,finalState:t||!1}},x=function(e){return{type:"UPLOAD_STATE",isUpload:e}},I=function(e){return{type:"BACKGROUND_STATE",isBackground:e}},L=function(e){return{type:"BACKGROUND_COLOR",isBackgroundColor:e}},M=function(e,t){return{type:"EMPTY_DATA",color:"",imgUrl:"",heading:"",filters:!1,showSidebar2:!1,objectIndex:-1,objectType:""}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{backgroundColor:"",backgroundImg:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CANVAS":return Object(p.a)(Object(p.a)({},e),{},{canvasData:t.canvasData});case"CHANGE_BACKGROUND":return Object(p.a)(Object(p.a)({},e),{},{backgroundColor:t.color,backgroundImg:t.imgUrl});case"EMPTY_DATA":return Object(p.a)(Object(p.a)({},e),{},{backgroundColor:t.color,backgroundImg:t.imgUrl,Heading:t.heading,filters:t.filters,showSidebar2:t.showSidebar2});case"ADD_HEADING":return Object(p.a)(Object(p.a)({},e),{},{Heading:t.heading});case"SIDE_BAR":return Object(p.a)(Object(p.a)({},e),{},{showSidebar2:t.showSidebar2});case"FILTERS":return Object(p.a)(Object(p.a)({},e),{},{filters:t.filters});case"OBJECT_TYPE":return Object(p.a)(Object(p.a)({},e),{},{objectType:t.objectType});case"ADJUSTMENTS":return Object(p.a)(Object(p.a)({},e),{},{showAdjust:t.showAdjust});case"ACTIVE_INDEX":return Object(p.a)(Object(p.a)({},e),{},{objectIndex:t.objectIndex});case"FILE_MENU":return Object(p.a)(Object(p.a)({},e),{},{data:t.head});case" UNDO_REDO":return Object(p.a)(Object(p.a)({},e),{},{undoState:t.undoRedo});case"TOOLS_MENU":return Object(p.a)(Object(p.a)({},e),{},{toolsState:t.data});case"MAIN_SIDE_BAR":return Object(p.a)(Object(p.a)({},e),{},{mainSidebar:t.showMainSideBar});case"CROP_STATE":return Object(p.a)(Object(p.a)({},e),{},{cropState:t.cropState});case"SCROLL_STATE":return Object(p.a)(Object(p.a)({},e),{},{scrollData:t.scrollData});case"BGMODAL_STATE":return Object(p.a)(Object(p.a)({},e),{},{bgModal:t.bgModal});case"RESET_STATE":return Object(p.a)(Object(p.a)({},e),{},{reset:t.reset});case"LOADER_STATE":return Object(p.a)(Object(p.a)({},e),{},{showLoader:t.showLoader});case"VOLUME_STATE":return Object(p.a)(Object(p.a)({},e),{},{volume:t.volume,finalState:t.finalState});case"UPLOAD_STATE":return Object(p.a)(Object(p.a)({},e),{},{isUpload:t.isUpload});case"BACKGROUND_STATE":return Object(p.a)(Object(p.a)({},e),{},{isBackground:t.isBackground});case"BACKGROUND_COLOR":return Object(p.a)(Object(p.a)({},e),{},{isBackgroundColor:t.isBackgroundColor});default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BACK_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_BACK_IMAGES"});case"GET_BACKGROUND_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_BACKGROUND_IMAGES"});case"GET_SVG_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_SVG_IMAGES"});case"GET_SHAPES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_SHAPES"});case"UPLOAD_USER_IMAGE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPLOAD_USER_IMAGE"});case"GET_USER_UPLOAD_IMAGE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_USER_UPLOAD_IMAGE"});case"DELETE_USER_UPLOAD_IMAGE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"DELETE_USER_UPLOAD_IMAGE"});case"SEARCH_PHOTOS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_PHOTOS"});case"SEARCH_ELEMENTS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_ELEMENTS"});case"SEARCH_BACKGROUND":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_BACKGROUND"});case"GET_UNSPLASH_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_UNSPLASH_IMAGES"});case"GET_GIPHY_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_GIPHY_IMAGES"});case"SEARCH_UNSPLASH_PHOTOS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_UNSPLASH_PHOTOS"});case"SEARCH_UNSPLASH_BACKGROUND":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_UNSPLASH_BACKGROUND"});case"SEARCH_GIPHY_IMAGES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_GIPHY_IMAGES"});case"UPLOAD_USER_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPLOAD_USER_VIDEO"});case"GET_USER_UPLOAD_VIDEOS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_USER_UPLOAD_VIDEOS"});case"DELETE_USER_UPLOAD_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"DELETE_USER_UPLOAD_VIDEO"});case"VIDEO_CONVERT":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"VIDEO_CONVERT"});case"VIDEO_LIST":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"VIDEO_LIST"});case"VIDEO_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"VIDEO_SEARCH"});case"PEXEL_VIDEO":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"PEXEL_VIDEO"});case"GET_MASK":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_MASK"});case"EMPTY_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"EMPTY_DATA"});default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CANVAS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SAVE_CANVAS"});case"LOAD_CANVAS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"LOAD_CANVAS"});case"GET_ALL_CANVAS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_ALL_CANVAS"});case"UPLOAD_CANVAS_IMAGE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPLOAD_CANVAS_IMAGE"});case"DELETE_USER_CANVAS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"DELETE_USER_CANVAS"});case"SEARCH_ALL_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_ALL_TEMPLATE"});case"USER_INFO":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"USER_INFO"});case"SHARE_CANVAS_DESIGN":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SHARE_CANVAS_DESIGN"});case"UPDATE_USER":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPDATE_USER"});case"USER_FEEDBACK":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"USER_FEEDBACK"});case"SOCIAL_COUNT":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SOCIAL_COUNT"});case"INVITE_MAILS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"INVITE_MAILS"});case"GET_LEADERS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_LEADERS"});case"EMPTY_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"EMPTY_DATA"});default:return e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TEMPLATES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SAVE_TEMPLATES"});case"GET_TEMPLATES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_TEMPLATES"});case"LOAD_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"LOAD_TEMPLATE"});case"UPLOAD_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPLOAD_TEMPLATE"});case"DELETE_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"DELETE_TEMPLATE"});case"UPLOAD_FONT_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"UPLOAD_FONT_TEMPLATE"});case"GET_FONT_TEMPLATES":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_FONT_TEMPLATES"});case"LOAD_FONT_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"LOAD_FONT_TEMPLATE"});case"SEARCH_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_TEMPLATE"});case"SEARCH_FC_TEMPLATE":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"SEARCH_FC_TEMPLATE"});case"GET_TRENDS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"GET_TRENDS"});case"EMPTY_DATA":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,action:"EMPTY_DATA"});default:return e}},B=function(e){return{type:"CANVAS_SIZE",data:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CANVAS_SIZE":return Object(p.a)(Object(p.a)({},e),{},{data:t.data});case"CATEGORY":return Object(p.a)(Object(p.a)({},e),{},{category:t.category});default:return e}},z=Object(d.c)({LoginReducer:u,CanvasReducer:R,SidebarReducer:P,CanvasExternalReducer:U,TemplateReducer:F,HomeReducer:G,routing:m.routerReducer}),V=a(15),H=a(6),J=a(3),Y=(a(93),a(336),a(184)),W=a.n(Y),X=a(9),q=a(10),K=a(12),Z=a(11),$=a(121),Q=a(419),ee=a.n(Q),te=a(420),ae=a.n(te),se=a(1034),ne=a(41),oe=a.n(ne),re=a(83),ie=a(7),ce=a(44),le=a.n(ce),de=a(187),me=a.n(de),pe=a(73),ue=a.n(pe),he="https://posterapplab.com/api/api/v1/",ge=a(124),ve=a.n(ge),fe=he;function be(){return localStorage.getItem("youLoggedIn")}function Ee(){var e=localStorage.getItem("access-token");return"Bearer "+JSON.parse(e)}function ye(e){for(var t in sessionStorage)t[0]+t[1]=="J-"&&sessionStorage.removeItem(t);var a=ue.a.create();a.defaults.headers.common.Authorization=Ee(),a.get(fe+"logout").then((function(t){Se(),console.log(e),Ce(e),window.location.href="/login"})).catch((function(t){Se(),Ce(e),window.location.href="/login"}))}function Se(){localStorage.removeItem("access-token")}function we(){Se(),Ce(),window.location.href="/login"}function Ce(e){e&&localStorage.removeItem("J-"+e),localStorage.removeItem("access-token"),localStorage.removeItem("useMe"),localStorage.removeItem("youLoggedIn"),sessionStorage.removeItem("LTID"),localStorage.removeItem("size"),localStorage.removeItem("canvasId"),localStorage.removeItem("videoId"),sessionStorage.removeItem("size"),sessionStorage.removeItem("canvasName")}function ke(e){e=e||1;var t=!0,a=localStorage.getItem("onSubmitTime");a?ve()().diff(ve.a.unix(a),"seconds")<=e?t=!1:localStorage.setItem("onSubmitTime",ve()().format("X")):localStorage.setItem("onSubmitTime",ve()().format("X"));return t}var De=a(194),Ae=a(108),Oe=a(1030),Ne=a(1031),Te=JSON.parse(sessionStorage.getItem("size")),je=[{x:-100,y:-50},{x:100,y:-50},{x:150,y:50},{x:-150,y:50}],_e=new Array(je,[{x:850,y:75},{x:958,y:137.5},{x:958,y:262.5},{x:850,y:325},{x:742,y:262.5},{x:742,y:137.5}],[{x:0,y:0},{x:100,y:50},{x:200,y:0},{x:150,y:100},{x:200,y:200},{x:100,y:150},{x:0,y:200},{x:50,y:100},{x:0,y:0}],[{x:350,y:75},{x:380,y:160},{x:470,y:160},{x:400,y:215},{x:423,y:301},{x:350,y:250},{x:277,y:301},{x:303,y:215},{x:231,y:161},{x:321,y:161}]);function xe(e,t,a,s,n,o,r,i,c,l,d){J.fabric.Object.prototype.transparentCorners=!1;var m=new Image;m.crossOrigin="anonymous",m.src=t,m.width=c,m.onload=function(n){var p=new J.fabric.Image(m,{});p.scaleToWidth(500);var u=new J.fabric.StaticCanvas;u.add(p),u.renderAll();var h=new J.fabric.Pattern({source:function(){return p.getScaledWidth()&&u.setDimensions({width:p.getScaledWidth()+0,height:p.getScaledHeight()+0}),u.renderAll(),u.getElement()},repeat:"no-repeat"});"bili"==o&&(p.scaleToWidth(700),p.scaleToHeight(1e3),e.add(new J.fabric.Path("M85.6,606.2c-13.2,54.5-3.9,95.7,23.3,130.7c27.2,35-3.1,55.2-25.7,66.1C60.7,814,52.2,821,50.6,836.5c-1.6,15.6,19.5,76.3,29.6,86.4c10.1,10.1,32.7,31.9,47.5,54.5c14.8,22.6,34.2,7.8,34.2,7.8c14,10.9,28,0,28,0c24.9,11.7,39.7-4.7,39.7-4.7c12.4-14.8-14-30.3-14-30.3c-16.3-28.8-28.8-5.4-33.5-11.7s-8.6-7-33.5-35.8c-24.9-28.8,39.7-19.5,62.2-24.9c22.6-5.4,65.4-34.2,65.4-34.2c0,34.2,11.7,28.8,28.8,46.7c17.1,17.9,24.9,29.6,47.5,38.9c22.6,9.3,33.5,7.8,53.7,21c20.2,13.2,62.2,10.9,62.2,10.9c18.7,6.2,36.6,0,36.6,0c45.1,0,26.5-15.6,10.1-36.6c-16.3-21-49-3.1-63.8-13.2c-14.8-10.1-51.4-25.7-70-36.6c-18.7-10.9,0-30.3,0-48.2c0-17.9,14-31.9,14-31.9h72.4c0,0,56-3.9,70.8,26.5c14.8,30.3,37.3,36.6,38.1,52.9c0.8,16.3-13.2,17.9-13.2,17.9c-31.1-8.6-31.9,41.2-31.9,41.2c38.1,50.6,112-21,112-21c85.6-7.8,79.4-133.8,79.4-133.8c17.1-12.4,44.4-45.1,62.2-74.7c17.9-29.6,68.5-52.1,113.6-30.3c45.1,21.8,52.9-14.8,52.9-14.8c15.6,2.3,20.2-17.9,20.2-17.9c20.2-22.6-15.6-28-16.3-84c-0.8-56-47.5-66.1-45.1-82.5c2.3-16.3,49.8-68.5,38.1-63.8c-10.2,4.1-53,25.3-63.7,30.7c-0.4-1.4-1.1-3.4-2.5-6.6c-6.2-14-74.7,30.3-74.7,30.3s-108.5,64.2-129.6,68.9c-21,4.7-18.7-9.3-44.3-7c-25.7,2.3-38.5,4.7-154.1-44.4c-115.6-49-326,29.8-326,29.8s-168.1-267.9-28-383.4C265.8,13,78.4-83.3,32.9,168.8C-12.6,420.9,98.9,551.7,85.6,606.2z",{crossorigin:"anonymous",width:c||50,height:l||50,fill:h,left:a||10,top:s||50,scaleX:r||.4,scaleY:i||.4,lockScalingFlip:!0,lockUniScaling:!0,myImage:t,minScaleLimit:.1,objectCaching:!1,maskname:"bili"}))),"heart"==o&&(p.scaleToWidth(700),e.add(new J.fabric.Path("M 272.70141,238.71731           C 206.46141,238.71731 152.70146,292.4773 152.70146,358.71731            C 152.70146,493.47282 288.63461,528.80461 381.26391,662.02535           C 468.83815,529.62199 609.82641,489.17075 609.82641,358.71731           C 609.82641,292.47731 556.06651,238.7173 489.82641,238.71731            C 441.77851,238.71731 400.42481,267.08774 381.26391,307.90481           C 362.10311,267.08773 320.74941,238.7173 272.70141,238.71731            z ",{crossorigin:"anonymous",width:c||400,height:l||400,fill:h,left:a||100,top:s||200,maskname:"heart",scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),lockScalingFlip:!0,lockUniScaling:!0,myImage:t,minScaleLimit:.1,objectCaching:!1}))),"circle"==o&&e.add(new J.fabric.Circle({crossorigin:"anonymous",radius:d||120,fill:h,left:a||100,top:s||200,maskname:"circle",scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),lockScalingFlip:!0,lockUniScaling:!0,myImage:t,minScaleLimit:.1,objectCaching:!1})),"rect"==o&&e.add(new J.fabric.Rect({crossorigin:"anonymous",width:c||300,height:l||300,left:a||100,top:s||200,maskname:"rect",fill:h,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),myImage:t,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1})),"triangle"===o&&e.add(new J.fabric.Triangle({crossorigin:"anonymous",width:c||400,height:l||400,left:a||100,top:s||200,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),maskname:"triangle",myImage:t,fill:h,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1})),"ellipse"===o&&e.add(new J.fabric.Ellipse({crossorigin:"anonymous",rx:175,ry:100,width:c||400,height:l||400,left:a||100,top:s||200,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),myImage:t,fill:h,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1,maskname:"ellipse"})),"polygon"===o&&e.add(new J.fabric.Polygon(_e[1],{crossorigin:"anonymous",width:c||400,height:l||400,left:a||100,top:s||200,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),maskname:"polygon",myImage:t,fill:h,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1})),"star1"===o&&e.add(new J.fabric.Polygon(_e[2],{crossorigin:"anonymous",maskname:"star1",myImage:t,fill:h,width:c||400,height:l||400,left:a||100,top:s||200,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1})),"star2"===o&&e.add(new J.fabric.Polygon(_e[3],{crossorigin:"anonymous",myImage:t,fill:h,maskname:"star2",width:c||400,height:l||400,left:a||100,top:s||200,scaleX:r||e.getZoom(),scaleY:i||e.getZoom(),lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1})),e.requestRenderAll()}}JSON.parse(sessionStorage.getItem("size"));var Ie=[new J.fabric.Image.filters.Grayscale,new J.fabric.Image.filters.Sepia,new J.fabric.Image.filters.Invert,new J.fabric.Image.filters.Vintage,new J.fabric.Image.filters.Technicolor,new J.fabric.Image.filters.Brownie,new J.fabric.Image.filters.Kodachrome,new J.fabric.Image.filters.BlackWhite,new J.fabric.Image.filters.Blur,new J.fabric.Image.filters.Resize,new J.fabric.Image.filters.Convolute({matrix:[1,1,1,1,.7,-1,-1,-1,-1]}),new J.fabric.Image.filters.Convolute({matrix:[0,-1,0,-1,5,-1,0,-1,0]}),new J.fabric.Image.filters.Gamma({brightness:200})];function Le(e,t,a){var s=JSON.parse(sessionStorage.getItem("size"));if(J.fabric.isWebglSupported()&&(J.fabric.textureSize=4096),"pos"==a){var n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=function(t){var a=new J.fabric.Image(n,{scaleX:1,scaleY:1,lockScalingFlip:!0,lockUniScaling:!0,angle:0});a.scaleToWidth(e.getWidth()),a.scaleToHeight(e.getHeight()),a.crossOrigin="anonymous",a.backgroundVpt=!1,a.myType="image",a.setControlsVisibility({mt:!1,mb:!1}),e.setActiveObject(a),e.add(a),a.viewportCenter(),e.counter++,e.renderAll()}}else{var o=new Image;o.crossOrigin="anonymous",o.src=t,o.onload=function(t){var a=new J.fabric.Image(o,{scaleX:s.width<500?5e-4:0,scaleY:s.height<500?5e-4:0,lockScalingFlip:!0,lockUniScaling:!0,angle:0});s&&s.width<500?(a.scaleToWidth(s?s.width:e.getWidth()-250),a.scaleToHeight(s?s.height:e.getHeight()-350),a.myType="image"):(a.scaleToWidth(s?s.width-250:e.getWidth()-250),a.scaleToHeight(s?s.height-350:e.getHeight()-350)),a.crossOrigin="anonymous",a.backgroundVpt=!1,a.myType="image",a.setControlsVisibility({mt:!1,mb:!1}),e.setActiveObject(a),a.center(),e.add(a),a.viewportCenter(),e.counter++,e.renderAll()}}}function Me(e,t,a){var s,n=JSON.parse(sessionStorage.getItem("size"));"pos"==a?((s=new Image).crossOrigin="anonymous",s.src=t,s.onload=function(){var t=new J.fabric.Image(s);t.set({scaleX:1,scaleY:1,angle:0,lockScalingFlip:!0,lockUniScaling:!0,crossOrigin:"anonymous",minScaleLimit:.2}),t.crossOrigin="anonymous",t.myType="image",t.scaleToWidth(e.getWidth()),t.scaleToHeight(e.getHeight()),t.set("minScaleLimit",.2),e.setActiveObject(t),e.add(t),t.viewportCenter(),e.renderAll()}):((s=new Image).crossOrigin="anonymous",s.src=t,s.onload=function(){var t=new J.fabric.Image(s);t.set({scaleX:0,scaleY:0,angle:0,lockScalingFlip:!0,lockUniScaling:!0,crossOrigin:"anonymous",minScaleLimit:.2}),t.crossOrigin="anonymous",n&&n.width<500&&(t.scaleToWidth(n?n.width:e.getWidth()-250),t.scaleToHeight(n?n.height:e.getHeight()-350),t.set("scaleX",5e-4),t.set("scaleY",5e-4),t.set("minScaleLimit",5e-4)),t.scaleToWidth(n?n.width/3:e.getWidth()-250),t.scaleToHeight(n?n.height/3:e.getHeight()-350),t.myType="image",t.set("minScaleLimit",.2),e.setActiveObject(t),e.add(t),t.viewportCenter(),e.renderAll()})}function Re(e,t){if(e.getActiveObject()){var a=t/100;e.getActiveObject().set("opacity",a),e.counter++,e.renderAll()}}function Pe(e,t){e.getActiveObject()&&(e.getActiveObject().set("fill",t),e.counter++,e.renderAll())}function Ue(e,t){JSON.parse(sessionStorage.getItem("size"));e.backgroundImage=0,e.counter++,e.setBackgroundColor(t,e.renderAll.bind(e))}function Fe(e,t){var a=JSON.parse(sessionStorage.getItem("size"));e.backgroundColor=0,e.setBackgroundImage(t,(function(){var t=e.backgroundImage;t.backgroundVpt=!1,t.crossOrigin="anonymous",t.crossOrigin="Anonymous",t.originX="left",t.originY="top",t.scaleX=a?a.width/t.width:e.getWidth()/t.height,t.scaleY=a?a.height/t.height:e.getHeight()/t.height,e.renderAll()}),{crossOrigin:"anonymous"})}var Be,Ge,ze,Ve=function(e){var t=e?e.getObjects("textbox"):{},a=e?e.getActiveObject():{},s=JSON.parse(sessionStorage.getItem("size")),n=null;if(t.length){var o=t[t.length-1]!==a&&null!==a?a:t[t.length-1],r=t[0];n=Math.round(o.height)+Math.round(o.top)>s.height-60?{top:Math.round(r.top),left:r.left}:{top:Math.round(o.top)+Math.round(o.height),left:o.left}}else n=null;return n};function He(e,t){var a=e.getActiveObject(),s=e.getActiveObject(),n=function(e,t){if(e.getActiveObject())return e.getActiveObject()?e.getActiveObject().type:""}(e);if(e.getActiveObject()){if(a&&"textbox"==n)return a=a.clone((function(t){var a=Ve(e);null!==a&&t.set({top:a.top-50,left:a.left+10}),e.add(t),e.discardActiveObject(),e.setActiveObject(t)})),e.counter++,e.renderAll(),void e.trigger("object:statechange");if(a&&"image"==n)return a=a.clone((function(t){t.set("top",s.top+15),t.set("left",s.left+15),e.add(t),e.discardActiveObject(),e.setActiveObject(t)})),e.renderAll(),e.counter++,void e.trigger("object:statechange");a=a.clone((function(t){t.set("top",s.top+15),t.set("left",s.left+15),e.add(t),e.discardActiveObject(),e.setActiveObject(t)})),e.renderAll(),e.counter++,e.trigger("object:statechange")}}function Je(e,t){e.getActiveObject()&&(e.getActiveObject().set("charSpacing",t),e.counter++,e.renderAll())}function Ye(e,t){if(e.getActiveObject()){if(""==t||void 0==t||null==t)return e.getActiveObject().set("lineHeight",.5);e.getActiveObject().set("lineHeight",t||.5),e.counter++,e.renderAll()}}function We(e,t,a){var s=e.getActiveObject();s&&(s.filters[t]=a,s.applyFilters(),e.counter++,e.renderAll())}function Xe(e,t){We(e,14,new J.fabric.Image.filters.Blur({blur:parseFloat(t,10)})),e.renderAll()}function qe(e,t,a){var s=e.getActiveObject();s&&("sFrame"!==a&&"polyFrame"!==a&&"circleFrame"!==a&&(e.getActiveObject().set("fill",t),e.renderAll()),s&&"line"==a&&(e.getActiveObject().set("fill",t),e.getActiveObject().set("stroke",t),e.renderAll()),s&&"sFrame"===a&&(e.getActiveObject().set("stroke",t),e.renderAll()),s&&"polyFrame"===a&&(e.getActiveObject().set("stroke",t),e.renderAll()),s&&"circleFrame"===a&&(e.getActiveObject().set("stroke",t),e.renderAll()))}function Ke(e){Be&&Ge&&(Be.evented=!0,Be.lockScalingFlip=!0,Be.selectable=!0,e.setActiveObject(Be),e.remove(Ge)),Ge=null,Be=null,e.renderAll()}function Ze(e){var t=Ge,a=t.left,s=t.top,n=t.width,o=t.height,r=t.scaleX,i=t.scaleY,c=Be.toDataURL({left:a-Be.left,top:s-Be.top,width:n*r,height:o*i});Be.lockScalingFlip=!0,Be.selectable=!1,function(e,t,a){if(!t)return $e(e,null,a),e.set("file",null),void e.set("src",null);if(t instanceof File){var s=new FileReader;s.onload=function(){$e(e,s.result,a),e.set("file",t),e.set("src",null)},s.readAsDataURL(t)}else $e(e,t,a),e.set("file",null),e.set("src",t)}(Be,c,e),e.historyUndo.pop(),!0,Ke(e)}function $e(e,t,a){var s=t;s||(s="./images/sample/transparentBg.png"),J.fabric.util.loadImage(s,(function(t){if("image"!==e.type)return e.setPatternFill({source:t,repeat:"repeat"},null),e.setCoords(),void a.renderAll();e.set("left",ze?ze.left+15:80),e.set("top",ze?ze.top+15:80),e.set("scaleX",1),e.set("scaleY",1),e.filters=[],e.setElement(t),e.setCoords(),a.renderAll()}))}function Qe(e,t,a,s,n,o,r,i,c,l,d){var m="vid"+Math.random();(function(e){return new Promise((function(t){var a=document.createElement("video");a.addEventListener("loadedmetadata",(function(){var e=this.videoHeight,a=this.videoWidth;t({height:e,width:a})}),!1),a.src=e}))})(t).then((function(p){var u=p.width,h=p.height,g=JSON.parse(sessionStorage.getItem("size")),v=document.createElement("video");v.width=u,v.height=h,v.src=t,v.setAttribute("crossOrigin","anonymous"),v.muted=!0,v.crossOrigin="anonymous",v.loop=!0,v.setAttribute("id",m),localStorage.setItem("videoId",m),v.setAttribute("controls","controls"),v.controls=!0,document.getElementById("body").appendChild(v).style.display="none";var f=document.createElement("source");f.src=t,f.type="video/mp4",v.appendChild(f),v.muted=!0;var b=t,E=new J.fabric.Image(v,{left:a||40,top:s||210,scaleX:n||1,scaleY:o||1,objectCaching:!1,opacity:i||1,flipX:c||!1,flipY:l||!1,locked:d||!1});E.set("video_src",b),E.set("videoId",m),E.set("videoVolume",!1),E.set("crossOrigin","anonymous"),o||n||(E.scaleToWidth(g.width/3),E.scaleToHeight(g.height/3),g&&g.width<500&&!n&&(E.scaleToWidth(g?g.width:e.getWidth()-250),E.scaleToHeight(g?g.height:e.getHeight()-350),E.set("scaleX",.05),E.set("scaleY",.05),E.set("minScaleLimit",5e-4))),E.crossOrigin="anonymous",e.add(E);var y=e.getObjects().length;if(r<y)for(var S=r;S<y-1;S++)e.sendBackwards(E);E.getElement().play(),J.fabric.util.requestAnimFrame((function t(){e.renderAll(),J.fabric.util.requestAnimFrame(t)})),a||E.viewportCenter()}))}function et(e,t){return e.remove(t)}function tt(e){var t=e.getActiveObject();t&&(t.set("hasControls",!1),t.set("lockMovementX",!0),t.set("lockMovementY",!0),t.set("lockRotation",!0),t.set("lockScalingX",!0),t.set("lockScalingY",!0),t&&"textbox"==t.type&&t.set("editable",!1),t.locked=!0,e.renderAll())}var at=he,st=ue.a.create();function nt(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"canvas/save-canvas",e||{}).then((function(e){t({type:"SAVE_CANVAS",payload:e.data})})).catch((function(e){e.response&&t({type:"SAVE_CANVAS",payload:e.response.data})}))}}function ot(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"canvas/load-canvas",e||{}).then((function(e){t({type:"LOAD_CANVAS",payload:e.data})})).catch((function(e){e.response&&t({type:"LOAD_CANVAS",payload:e.response.data})}))}}function rt(e){return st.defaults.headers.common.Authorization=Ee(),function(e){st.get(at+"canvas/user-canvas").then((function(t){e({type:"GET_ALL_CANVAS",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_ALL_CANVAS",payload:t.response.data})}))}}function it(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"canvas/user-canvas-image",e||{}).then((function(e){t({type:"UPLOAD_CANVAS_IMAGE",payload:e.data})})).catch((function(e){e.response&&t({type:"UPLOAD_CANVAS_IMAGE",payload:e.response.data})}))}}function ct(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.delete(at+"canvas/del-canvas/".concat(e)).then((function(e){t({type:"DELETE_USER_CANVAS",payload:e.data})})).catch((function(e){e.response&&t({type:"DELETE_USER_CANVAS",payload:e.response.data})}))}}function lt(){return st.defaults.headers.common.Authorization=Ee(),function(e){st.get(at+"user-info").then((function(t){e({type:"USER_INFO",payload:t.data})})).catch((function(t){t.response&&e({type:"USER_INFO",payload:t.response.data})}))}}function dt(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"search/touter-search",e||{}).then((function(e){t({type:"SEARCH_ALL_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_ALL_TEMPLATE",payload:e.response.data})}))}}function mt(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"canvas/share-design",e||{}).then((function(e){t({type:"SHARE_CANVAS_DESIGN",payload:e.data})})).catch((function(e){e.response&&t({type:"SHARE_CANVAS_DESIGN",payload:e.response.data})}))}}function pt(e){return function(t){st.post(at+"update-user",e||"").then((function(e){t({type:"UPDATE_USER",payload:e.data})})).catch((function(e){e.response&&t({type:"UPDATE_USER",payload:e.response.data})}))}}function ut(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"feedback",e||"").then((function(e){t({type:"USER_FEEDBACK",payload:e.data})})).catch((function(e){e.response&&t({type:"USER_FEEDBACK",payload:e.response.data})}))}}function ht(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"sscount/ss-count",e||"").then((function(e){t({type:"SOCIAL_COUNT",payload:e.data})})).catch((function(e){e.response&&t({type:"SOCIAL_COUNT",payload:e.response.data})}))}}function gt(e){return st.defaults.headers.common.Authorization=Ee(),function(t){st.post(at+"refer/invite-friends",e||"").then((function(e){t({type:"INVITE_MAILS",payload:e.data})})).catch((function(e){e.response&&t({type:"INVITE_MAILS",payload:e.response.data})}))}}function vt(){return st.defaults.headers.common.Authorization=Ee(),function(e){st.get(at+"refer/get-leaders").then((function(t){e({type:"GET_LEADERS",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_LEADERS",payload:t.response.data})}))}}function ft(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}st.defaults.headers.common.Authorization=Ee(),st.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t&&"authorization_fail"!=t&&"Your account has been deactivated"!=t||(we(),console.log(t)),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var bt=he,Et=ue.a.create();function yt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"temp/save-temp",e||{}).then((function(e){t({type:"SAVE_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"SAVE_TEMPLATE",payload:e.response.data})}))}}function St(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"temp/load-temp",e||{}).then((function(e){t({type:"LOAD_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"LOAD_TEMPLATE",payload:e.response.data})}))}}function wt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"temp/get-temp",e||{}).then((function(e){t({type:"GET_TEMPLATES",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_TEMPLATES",payload:e.response.data})}))}}function Ct(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"temp/upload-template",e||{}).then((function(e){t({type:"UPLOAD_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"UPLOAD_TEMPLATE",payload:e.response.data})}))}}function kt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.delete(bt+"temp/del-temp/".concat(e)).then((function(e){t({type:"DELETE_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"DELETE_TEMPLATE",payload:e.response.data})}))}}function Dt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"font/save-fcombi",e||{}).then((function(e){t({type:"UPLOAD_FONT_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"UPLOAD_FONT_TEMPLATE",payload:e.response.data})}))}}function At(){var e=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+e,function(e){Et.get(bt+"font/get-fcombi").then((function(t){e({type:"GET_FONT_TEMPLATES",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_FONT_TEMPLATES",payload:t.response.data})}))}}function Ot(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"font/load-fcombi",e||{}).then((function(e){t({type:"LOAD_FONT_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"LOAD_FONT_TEMPLATE",payload:e.response.data})}))}}function Nt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"search/t-search",e||{}).then((function(e){t({type:"SEARCH_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_TEMPLATE",payload:e.response.data})}))}}function Tt(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"search/fc-search",e||{}).then((function(e){t({type:"SEARCH_FC_TEMPLATE",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_FC_TEMPLATE",payload:e.response.data})}))}}function jt(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}function _t(e){var t=JSON.parse(localStorage.getItem("access-token"));return Et.defaults.headers.common.Authorization="Bearer "+t,function(t){Et.post(bt+"temp/get-trending",e||{}).then((function(e){t({type:"GET_TRENDS",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_TRENDS",payload:e.response.data})}))}}Et.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t&&"authorization_fail"!=t&&"Your account has been deactivated"!=t||(we(),console.log(t)),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var xt,It,Lt=[],Mt=0,Rt=!0,Pt=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;Object(X.a)(this,a);var n=JSON.parse(localStorage.getItem("useMe")),o=JSON.parse(sessionStorage.getItem("size")),r=sessionStorage.getItem("canvasName");return(s=t.call(this,e)).handleDropDown=function(){s.setState({showDropDown:!s.state.showDropDown})},s.logoutMe=function(){s.resetCanvas(),s.stateShare(),ye(s.state.cid)},s.handleInputChange=function(e){var t=e.target.value;"shareEmail"==e.target.name&&s.setState({shareLoading:""}),s.setState(Object(ie.a)({},e.target.name,t))},s.save_history=function(){var e=Object(re.a)(oe.a.mark((function e(t){var a,n,o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.state.canvas,n=a.toJSON(),e.next=4,n.objects.forEach((function(e){e.maskname&&(e.clipTo=null,e.fill=null)}));case 4:Mt<Lt.length-1&&(Lt=Lt.slice(0,Mt+1),Mt++,s.setState({undoClass:"disabled",redoClass:""})),(o=JSON.stringify(n))==Lt[Mt]&&1!=t||(Lt.push(o),Mt=Lt.length-1),Rt&&console.log("saved "+Lt.length+" "+Mt),s.setState({undoClass:"",redoClass:"disabled"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.UrlExists=function(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status},s.startRecording=function(e){try{e=e||1;var t=document.querySelector("canvas"),a=[],n=t.captureStream(),o=new MediaRecorder(n);o.ondataavailable=function(e){return a.push(e.data)},console.log(a,"chunks..."),setTimeout(o.onstop=function(e){return s.exportVid(new Blob(a,{type:"video/mp4"}))},1e3),o.start(),setTimeout((function(){return o.stop()}),1e3*e)}catch(r){console.log(r)}},s.download_imgJpg=function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=s.state.canvas,n=a.viewportTransform.slice();a.viewportTransform=[1,0,0,1,0,0];var o=s.state.imageName?s.state.imageName:"Untitled",r=a.toDataURL({url:"image/jpg",multiplier:0,left:0,top:0,width:t?t.width:1e3,height:t?t.height:1e3}).replace("image/jpg","image/octet-stream"),i=document.createElement("a");i.download=o+".jpg",i.href=r,i.click(),a.viewportTransform=n,s.setState({showDownload:!1})},s.download_imgPng=function(e){var t=JSON.parse(sessionStorage.getItem("size"));if(console.log(t),s.state.fileDownload){var a=s.state.canvas,n=a.viewportTransform.slice();a.viewportTransform=[1,0,0,1,0,0];var o=s.state.imageName?s.state.imageName:"Untitled",r=a.toDataURL({url:"image/png",multiplier:0,left:0,top:0,width:t?t.width:1e3,height:t?t.height:1e3}).replace("image/png","image/octet-stream"),i=document.createElement("a");i.download=o+".png",i.href=r,i.click(),a.viewportTransform=n,s.setState({showDownload:!1})}s.setState({fileMenu:!1})},s.download_pdf=function(e){var t=JSON.parse(sessionStorage.getItem("size"));if(s.state.fileDownload){var a=s.state.canvas,n=a.viewportTransform.slice();a.viewportTransform=[.75,0,0,0,0,.75];var o,r=a.toDataURL({url:"image/png",multiplier:0,left:0,top:0,width:t.width,height:t.height}),i=t.width,c=t.height;if(i<c)(o=new De({orientation:"p",unit:"px",format:[i,c]})).addImage(r,"PNG",0,0,i,c),o.save("download.pdf");if(i==c)(o=new De({orientation:"l",unit:"px",format:[i,c]})).addImage(r,"PNG",0,0,i,c),o.save("download.pdf");if(i>c)(o=new De({orientation:"l",unit:"px",format:[i,c]})).addImage(r,"PNG",0,0,i,c),o.save("download.pdf");a.viewportTransform=n,s.setState({showDownload:!1})}s.setState({fileMenu:!1,downloadType:"PNG"})},s.deSelect=function(){s.state.canvas},s.handleDownloadMenu=function(){var e=s.state.canvas;e.discardActiveObject(),e.renderAll(),s.setState({fileMenu:!1});var t=s.state.showDownload;t&&s.setState({showDownload:!1,videoType:"mp4"}),t||s.setState({showDownload:!0,videoType:"mp4",showShareMenu:!1})},s.handleDownload=function(e){var t=s.state.canvas,a=s.state.downloadType,n=t.getObjects();n&&n.length&&n.map((function(e,t){e&&e.video_src&&(a="video")})),"PNG"===a&&s.download_imgPng(),"JPG"===a&&s.download_imgJpg(),"PDF"===a&&s.download_pdf(),"video"==a&&s.recodeMe()},s.handleFileMenu=function(){s.setState({fileMenu:!1,showDownload:!1,saving:!1}),setTimeout((function(){s.stateShare()}),0)},s.stateShare=function(){var e={fileMenu:s.state.fileMenu,showDownload:s.state.showDownload};s.props.headerMenu(e)},s.saveJson=Object(re.a)(oe.a.mark((function e(){var t,a,n,o,r,i,c,l,d,m,p,u,h,g,v,f,b,E;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=s.state.canvas)&&t.discardActiveObject().renderAll(),a=sessionStorage.getItem("size"),!s.state.saveShow){e.next=42;break}for(n=s.state.userEmail,o=s.state.canvas,r=o._activeObject?o._activeObject.type:"",i=o._objects.find((function(e){return"group"==e.type})),"testing@yopmail.com"!==n&&"testingadmin@yopmail.com"!==n||("group"==r||i&&"group"==i.type&&i._objects&&i._objects.length<10?(o.backgroundImage=null,o.setBackgroundColor(null,o.renderAll.bind(o))):(""==o.backgroundColor&&""==o.backgroundImage||null==o.backgroundColor&&null==o.backgroundImage||""==o.backgroundColor&&null==o.backgroundImage)&&Ue(o,"#ffffff")),"testing@yopmail.com"!==n&&"testingadmin@yopmail.com"!==n&&(""!=o.backgroundImage&&void 0!=o.backgroundImage&&null!=o.backgroundImage||null!=o.backgroundColor&&void 0!=o.backgroundColor&&""!=o.backgroundColor||Ue(o,"#ffffff")),(c=new Image).setAttribute("crossOrigin","anonymous"),c.crossOrigin="anonymous",c.src="/images/template",l=o.toDataURL("image/png"),d=l.replace(/^data:image\/png/,"data:application/octet-stream"),(m=document.createElement("a")).download="lol.png",m.href=d,p=atob(l.split(",")[1]),u=[],h=0;h<p.length;h++)u.push(p.charCodeAt(h));return g=new Blob([new Uint8Array(u)],{type:"image/png"}),o.historyUndo=[],v=o.toJSON(),e.next=27,v.objects.forEach((function(e){e.maskname&&(e.clipTo=null,e.fill=null)}));case 27:if(f=s.state.imageName?s.state.imageName:Math.random(),b=new FormData,!("group"==r||i&&"group"==i.type&&i._objects&&i._objects.length<10)){e.next=33;break}"testing@yopmail.com"!==n&&"testingadmin@yopmail.com"!==n||(b.append("image",g,f),b.append("fc_name",s.state.imageName?s.state.imageName+".png":Math.random()+".png"),b.append("fc_template",JSON.stringify(v)),b.append("fc_size",a||JSON.stringify(s.state.canvasSize)),b.append("fcId",s.state.loadedTemplateId),b.append("category",s.state.cg),b.append("tag",s.state.tags),s.props.uploadFcTemplate(b)),e.next=41;break;case 33:if("testing@yopmail.com"!==n&&"testingadmin@yopmail.com"!==n){e.next=41;break}if(E=!1,void 0==s.state.cat||null==s.state.cat||""==s.state.cat.trim()?(s.setState({error:!0}),E=!0):(s.setState({error:!1}),E=!1),void 0==s.state.mainTag||null==s.state.mainTag||""==s.state.mainTag.trim()?(s.setState({error:!0}),E=!0):(s.setState({error:!1}),E=!1),void 0==s.state.imageName||null==s.state.imageName||""==s.state.imageName.trim()?(s.setState({nameError:!0}),E=!0):(s.setState({nameError:!1}),E=!1),1!=E){e.next=40;break}return e.abrupt("return");case 40:0==E&&(b.append("image",g,f),b.append("template_name",s.state.imageName?s.state.imageName+".png":Math.random()+".png"),b.append("template",JSON.stringify(v)),b.append("template_size",a||JSON.stringify(s.state.canvasSize)),b.append("category",s.state.cg?s.state.cg:"cus"),b.append("tags",s.state.cat),b.append("main_tag",s.state.mainTag),b.append("templateId",s.state.loadedTemplateId),s.props.uploadTemplate(b));case 41:"testing@yopmail.com"!==n&&"testingadmin@yopmail.com"!==n&&(b.append("image",g,f),b.append("canvas_name",s.state.imageName?s.state.imageName:"untitled"+Math.random()+".png"),b.append("canvas_size",a||JSON.stringify(s.state.canvasSize)),b.append("canvas_object",JSON.stringify(v)),b.append("canvasId",s.state.loadedCanvasId),b.append("canvas_id",s.state.cid),b.append("category",s.state.cg),b.append("userId",s.state.userId?s.state.userId:""),s.props.uploadCanvasImage(b),s.setState({saving:!0}));case 42:case"end":return e.stop()}}),e)}))),s.resetCanvas=function(){var e=s.state.canvas,t=e.getObjects(),a=Math.random().toString(36).substring(7),n=s.state.cg?s.state.cg:"cus",o=Object(se.a)();if(t&&t.length)for(var r=0;r<=t.length;r++)if(t&&t[r]&&t[r].videoId){var i=document.querySelector("video"),c=i.getAttribute("name");i&&"displayFor"!==c&&(i.muted="muted",i.pause(),i.src="",i.removeAttribute("src"),i.parentNode.removeChild(i))}e.clear(),sessionStorage.removeItem("J-"+s.props.match.params.id),sessionStorage.removeItem("LTID"),s.setState({fileMenu:!1,imageName:"",canvas:"",loadedTemplateId:"",loadedCanvasUserId:"",loadedCanvasId:"",undoClass:"disabled",redoClass:"disabled",cat:"",canvasImage:""}),Lt=[],!0,Mt=0,Rt=!0,s.props.getSelectedType("");"textbox"!==s.state.selectedType&&s.props.sideBar2(!1),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1,templateChange:!1}),s.props.showFilters(!1),s.props.showAdjustments(!1),s.props.mainSideBarState(!0),s.setState({cid:o,cg:n}),s.props.history.push("/design/".concat(o,"/edit/").concat(n,"&cat=").concat(a))},s.onFocusName=function(){s.setState({showDownload:!1,fileMenu:!1})},s.showInputActive=function(){document.getElementById("untitled-input").focus(),s.setState({activeInput:!s.state.activeInput})},s.redo=function(){var e=s.state.canvas;if(Lt[Mt+1]){!1;var t=JSON.parse(Lt[Mt+1]);console.log(t);var a=t;if(a&&a.objects.map((function(e,t){if(e.video_src){var a=document.querySelector("video");a&&(a.muted="muted",a.pause(),a.src="",a.removeAttribute("src"),a.parentNode.removeChild(a))}})),a){e.loadFromJSON(JSON.stringify(a),(function(){e.renderAll.bind(a);for(var t=a.objects,s=0;s<t.length;s++)" image"!==t[s].type&&"path"==t[s].type&&t[s].maskname&&t[s],t[s].hasOwnProperty("video_src")&&Qe(e,t[s].video_src,t[s].left,t[s].top,t[s].scaleX,t[s].scaleY,s,t[s].opacity,t[s].flipX,t[s].flipY)}),function(){var t=Object(re.a)(oe.a.mark((function t(a,s){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,a){if(s&&s.maskname&&null==s.fill&&s.myImage){J.fabric.Object.prototype.transparentCorners=!1;var n=new Image;n.crossOrigin="anonymous",n.src=s.myImage,n.onload=function(t){var a=new J.fabric.Image(n,{});"heart"==s.maskname?a.scaleToWidth(700):"bili"===s.maskname?(a.scaleToWidth(700),a.scaleToHeight(1e3)):a.scaleToWidth(500);var o=new J.fabric.StaticCanvas;o.add(a),o.renderAll();var r=new J.fabric.Pattern({source:function(){return a.getScaledWidth()&&o.setDimensions({width:a.getScaledWidth()+0,height:a.getScaledHeight()+0}),o.renderAll(),o.getElement()},repeat:"no-repeat"});s.set({fill:r}),e.requestRenderAll()}}}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}Mt++,Rt&&console.log("redo "+Lt.length+" "+Mt),s.setState({undoClass:"",fileMenu:!1}),s.props.closeUploads(!1),s.props.getCanvas(e);s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})}else s.setState({redoClass:"disabled",fileMenu:!1,undo:!0});s.props.showFilters(!1),s.props.showAdjustments(!1),!1===s.state.showMainSideBar?s.props.mainSideBarState(!1):s.props.mainSideBarState(!0),s.props.getSelectedType("")},s.undo=function(){var e=s.state.canvas;if(Mt>0){!1;var t=JSON.parse(Lt[Mt-1]);if(t&&t.objects.map((function(e,a){if("rect"!==e.type||"rgba(0, 0, 0, 0.3)"!==e.fill||s.state.cropActive||t.objects.pop(),e.video_src){var n=document.querySelector("video");n&&(n.muted="muted",n.pause(),n.src="",n.removeAttribute("src"),n.parentNode.removeChild(n))}})),t){e.loadFromJSON(JSON.stringify(t),(function(){e.renderAll.bind(t);for(var a=t.objects,s=0;s<a.length;s++)" image"!==a[s].type&&"path"==a[s].type&&a[s].maskname&&a[s],a[s].hasOwnProperty("video_src")&&Qe(e,a[s].video_src,a[s].left,a[s].top,a[s].scaleX,a[s].scaleY,s,a[s].opacity,a[s].flipX,a[s].flipY),"rect"==a[s].type&&"rgba(0, 0, 0, 0.3)"==a[s].fill&&et(e,a[s])}),function(){var t=Object(re.a)(oe.a.mark((function t(a,s){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,a){if(s&&s.maskname&&null==s.fill&&s.myImage){J.fabric.Object.prototype.transparentCorners=!1;var n=new Image;n.crossOrigin="anonymous",n.src=s.myImage,n.onload=function(t){var a=new J.fabric.Image(n,{});"heart"==s.maskname?a.scaleToWidth(700):"bili"===s.maskname?(a.scaleToWidth(700),a.scaleToHeight(1e3)):a.scaleToWidth(500);var o=new J.fabric.StaticCanvas;o.add(a),o.renderAll();var r=new J.fabric.Pattern({source:function(){return a.getScaledWidth()&&o.setDimensions({width:a.getScaledWidth()+0,height:a.getScaledHeight()+0}),o.renderAll(),o.getElement()},repeat:"no-repeat"});s.set({fill:r}),e.requestRenderAll()}}}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}Mt--,Rt&&console.log("undo "+Lt.length+" "+Mt),s.setState({redoClass:"",fileMenu:!1});s.props.closeUploads(!1),s.props.getCanvas(e),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})}else s.setState({undoClass:"disabled",fileMenu:!1,redo:!0,undo:!1});s.props.showFilters(!1),s.props.showAdjustments(!1),!1===s.state.showMainSideBar?s.props.mainSideBarState(!1):s.props.mainSideBarState(!0),s.props.getSelectedType(""),console.log(e._objects)},s.startDownloadJpg=function(e,t){for(var a=s.state.canvas,n=localStorage.getItem("videoId"),o=localStorage.getItem("canvasId"),r=0,i=1,c=a._objects,l="",d=0;d<c.length;d++){if(c[d].hasOwnProperty("gif_src")||c[d].hasOwnProperty("video_src")){var m;if(c[d].hasOwnProperty("video_src"))l=(m=document.getElementById(n)).src.replace(".mp4",".mp3"),l=s.UrlExists(l)?l:"";console.log(l,"audiourl"),r=1,(m=document.getElementById(n)).currentTime=0,m.duration>i&&(i=m.duration)}c[d].hasOwnProperty("video_src")&&!0}if(1==r)try{var p=document.getElementById(o),u=[],h=p.captureStream()?a.captureStream():a.mozCaptureStream(),g=new MediaRecorder(h);g.ondataavailable=function(e){return u.push(e.data)},console.log(u,"chunks...."),g.onstop=function(e){return s.logVideoDuration(new Blob(u,{type:"video/mp4"}))},g.start(),setTimeout((function(){return g.stop()}),1e3*i)}catch(v){alert("Please enable Mediarecorder on your browser to download canvas video.")}},s.logVideoDuration=function(e){var t=document.createElement("video");t.src=URL.createObjectURL(e),t.play().then((function(){t.pause(),t.onseeked=function(e){return console.log("poster",t.duration)},t.currentTime=1e26}));var a=document.createElement("a");a.download="posterMaker.mp4",a.href=t.src,a.click()},s.recodeMe=function(){s.props.loader(!0);var e,t=s.state.canvas,a=document.querySelector("canvas"),n=t._objects,o=s.state.imageName,r=s.state.videoType,i=3e4,c="",l=a.captureStream()?a.captureStream():a.mozCaptureStream();if(n&&n.length){var d=!1;for(var m in n)if(!0===n[m].videoVolume){d=!0;break}n.map((function(t,a){if(t.video_src&&(t.videoId&&void 0!==d&&0==d&&(t.set("videoVolume",t.videoVolume),c=t.videoId),t.videoVolume)){var s=t.videoId,n=document.getElementById(s);n.muted=!1,n.currentTime=0,e=1e3*n.duration.toFixed(1);var o=(xt=xt||new AudioContext).createMediaStreamDestination();It&&It.disconnect(),(It=It||xt.createMediaElementSource(n)).connect(o),It.connect(xt.destination);var r=o.stream.getAudioTracks()[0];r.label&&l.addTrack(r)}}))}var p=[],u={mimeType:"video/webm; codecs=vp9"};u=MediaRecorder.isTypeSupported("video/webm; codecs=vp9")?{mimeType:"video/webm; codecs=vp9"}:{mimeType:"video/webm; codecs=vp8"};var h=new MediaRecorder(l,u);e<9e3&&(i=9e3),e<i&&e>9e3&&(i=e),h.ondataavailable=function(e){e.data.size>0&&(p.push(e.data),"mp4"==r&&function(){var e=new Blob(p,{type:"video/mp4"}),t=URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),a.crossOrigin="anonymous",a.setAttribute("crossorigin","anonymous"),a.style="display: none",a.href=t,a.download=o||"posterMaker",a.click(),window.URL.revokeObjectURL(t)}(),"webm"==r&&function(){var e=new Blob(p,{type:"video/webm"}),t=URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=t,a.download=o||"posterMaker",a.click(),window.URL.revokeObjectURL(t)}(),"3gp"==r&&function(){var e=new Blob(p,{type:"video/3gp"}),t=URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=t,a.download=o?o+".3gp":"posterMaker.3gp",a.click(),window.URL.revokeObjectURL(t)}(),"mov"==r&&function(){var e=new Blob(p,{type:"video/mov"}),t=URL.createObjectURL(e),a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=t,a.download=o?o+".mov":"posterMaker.mov",a.click(),window.URL.revokeObjectURL(t)}())},h.start(),setTimeout((function(e){console.log("stopping"),h.stop(),s.props.loader(!1),s.setState({showDownload:!1}),n&&n.length&&(n.map((function(e,t){s.state.canvas;if(e&&e.video_src){var a=e.videoId,n=document.getElementById(a);1==e.videoVolume&&(e.set("videoVolume",!0),c==e.videoId&&e.set("videoVolume",!1)),0==e.videoVolume&&(e.set("videoVolume",!1),n.muted=!0)}})),s.props.getSelectedType(""))}),i)},s.takeMeToHome=function(){console.log(s.state.cid),sessionStorage.removeItem("J-"+s.state.cid),sessionStorage.removeItem("size"),s.props.history.push("/home")},s.showShareMenu=function(){s.saveJson(),s.setState({showShareMenu:!0,shareEmail:"",shareEmailError:"",shareLoading:"",showDownload:!1,canvasImage:""})},s.dismissShareMenu=function(){s.setState({showShareMenu:!1,shareEmail:"",shareEmailError:"",shareLoading:"",showDownload:!1,canvasImage:""})},s.shareOnEmail=function(){var e=!1;if(void 0!=s.state.shareEmail&&null!=s.state.shareEmail&&""!=s.state.shareEmail.trim()||(s.setState({shareEmailError:"fieldError"}),e=!0),!le.a.isEmail(s.state.shareEmail))return s.setState({formError:!0,shareEmailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(e=!0);1!=e&&(s.setState({shareActive:!0,shareLoading:"sharing..."}),s.saveJson())},s.posterShared=function(e,t){var a=s.state.userInfo?s.state.userInfo:{},n={shared_on:e||"",name:a.name,email:a.email,shared_template:t||""};s.props.socialShareCount(n)},s.state={cid:s.props.match.params.id,userInfo:n||{},cg:s.props.match.params.cg,userId:n?n._id:"",showDropDown:!1,canvas:"",imageName:r||"",showDownload:!1,fileMenu:!1,showSelect:!1,downloadType:"PNG",userEmail:n?n.email:"",loadedTemplate:{},loadedTemplateId:"",loadedCanvas:{},loadedCanvasId:s.props.match.params.id,loadedCanvasUserId:"",changeMade:!1,saving:!1,undoButton:!1,redoButton:!1,headerState:{},saveShow:!0,fileDownload:!0,nameActive:!1,historyUndoIndex:-1,objectMoved:!0,activeInput:!0,filtersLength:-1,currentIndex:-1,cropActive:!1,undoClass:"disabled",redoClass:"disabled",isVideo:!1,videoType:"mp4",canvasSize:o||{},cat:"",counter:0,backgroundData:{},backgroundColorInfo:"#ffffff",isBackground:!1,isBackgroundColor:!1,showShareMenu:!1,shareEmail:"",shareEmailError:"",shareLoading:"",canvasImage:"",canvasShare:"",mainTag:""},s}return Object(q.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var s=this;this.state.canvas;if(1==this.state.isBackground&&(this.save_history(),this.setState({isBackground:!1}),this.props.backgroundChange(!1)),1==this.state.isBackgroundColor&&(this.save_history(),this.setState({isBackgroundColor:!1}),this.props.backgroundColorChange(!1)),e.canvas!==t.canvas){var n=this.state.canvas;n&&n.observe("after:render",(function(){var e=n.getActiveObject();e&&"rect"!==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive&&e.src&&(s.save_history(),s.setState({counter:0}))})),n&&(n.observe("object:modified",(function(){var e=n.getActiveObject();(e&&"rect"!==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive&&e.myImage)&&s.save_history()})),n.observe("mouse:up",(function(){var e=n.getActiveObject();(e&&"rect"!==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive&&e.myImage)&&s.save_history()})),n.observe("object:selected",(function(){var e=n.getActiveObject();(e&&"rect"!==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive&&e.myImage)&&s.save_history()})),this.state.templateChange||this.state.undo||n.observe("mouse:down",(function(){var e=n.getActiveObject();(e&&"rect"!==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive||e&&"rect"==e.type&&"rgba(0, 0, 0, 0.3)"!==e.fill&&0==s.state.cropActive&&e.myImage)&&s.save_history()})))}if(t.canvas){var o=e.canvas?e.canvas.getActiveObject():{};o&&o.filters&&o.filters.length!==this.state.filtersLength&&(this.save_history(),this.setState({filtersLength:o.filters.length}))}}},{key:"exportVid",value:function(e){alert("exporting video..."),console.log(e,"blob");var t=document.createElement("video");t.src=URL.createObjectURL(e),t.controls=!0,t.preload="auto",t.style.display="none",document.body.appendChild(t);var a=document.createElement("a");a.download="posterMaker.mp4",a.href=t.src,a.click()}},{key:"recordRtc",value:function(e,t){for(var a=this.state.canvas,s=localStorage.getItem("videoId"),n=a.toJSON().objects,o=0,r=0,i="",c="",l=0;l<n.length;l++)if(n[l].hasOwnProperty("gif_src")||n[l].hasOwnProperty("video_src")){o=1;var d=document.getElementById(s);console.log(d),d.currentTime=0,d.volume=0,d.duration>r&&(r=d.duration),n[l].hasOwnProperty("video_src")&&(!0,c=d,i=d.src.replace(".mp4",".mp3"))}if(1==o){var m=this.UrlExists(i);""!=c&&(c.currentTime=0),this.startRecording(e,r,m?i:"",t)}}},{key:"startRecording",value:function(e,t,a,s){var n=document.querySelector("canvas");console.log(n);var o=n.captureStream(),r=new MediaStream;me.a.getTracks(o,"video").forEach((function(e){r.addTrack(e)})),console.log("changing");var i=new me.a(r,{type:"video",mimeType:"video/webm=;codecs=vp8",bitsPerSecond:3e6,disableLogs:!1,audioBitsPerSecond:3e6,videoBitsPerSecond:3e6,frameRate:120,sampleRate:96e3,desiredSampRate:96e3,bufferSize:98304,bitrate:3e6});i.startRecording();var c=!1;!function e(){c?i.stopRecording((function(){var e=i.getBlob();console.log("blob in #########",e);new File([e],"meme.webm",{type:"video/webm"});o.stop()})):setTimeout(e,100)}(),setTimeout((function(){c=!0}),1e3*(t-.3))}},{key:"shouldComponentUpdate",value:function(e,t){return e!=t}},{key:"render",value:function(){var e=this,t=this.state.canvas;Lt.map((function(e,t){}));var a=!1;t&&t.getObjects().map((function(e,t){e&&e.video_src&&(a=!0)}));return o.a.createElement("div",null,o.a.createElement(Ae.a,null,o.a.createElement("meta",{charSet:"utf-8"}),o.a.createElement("title",null,"Poster Maker"),o.a.createElement("link",{rel:"canonical",href:"https://posterapplab.com"}),o.a.createElement("meta",{property:"og:url",content:"https://posterapplab.com"}),o.a.createElement("meta",{property:"og:type",content:"web"}),o.a.createElement("meta",{property:"og:title",content:"Poster Maker Design Tool"}),o.a.createElement("meta",{property:"og:description",content:"Ultimate Design Tool"}),o.a.createElement("meta",{property:"og:image",content:this.state.canvasImage})),o.a.createElement("div",{className:"poster-conatiner p-0",onClick:this.deSelect},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("div",{className:"top-menu"},o.a.createElement("div",{className:"menu-block"},o.a.createElement("ul",{className:"menu-left-ul"},o.a.createElement("li",{className:"file"},o.a.createElement("a",{onClick:this.takeMeToHome,className:""},o.a.createElement("img",{src:"/img/home_ic.svg",onContextMenu:function(e){return e.preventDefault()}})),this.state.fileMenu&&o.a.createElement("ul",{className:"print-dropdown file-dropdown"},o.a.createElement("li",{className:this.state.nameError?"file-dropdown fieldError":"file-dropdown"},o.a.createElement("input",{type:"text",id:"untitled-input",className:this.state.activeInput?"untitled-input":"untitled-input active-untitled-input",placeholder:"Untitled design - Poster",value:this.state.imageName,onChange:this.handleInputChange,name:"imageName",autoComplete:"off",disabled:this.state.activeInput}),o.a.createElement("span",{className:"d-block",onClick:this.showInputActive},o.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"}))),o.a.createElement("li",{className:"b-border",onClick:this.resetCanvas},"Create new design"),o.a.createElement("li",{onClick:this.saveJson,className:this.state.saveShow?"b-border":"b-border disabled-file-menu"},"Save",this.state.changeMade&&!this.state.saving&&o.a.createElement("span",{className:"all-saved"},"Unsaved Changes"),this.state.saving&&!this.state.changeMade&&o.a.createElement("span",{className:"all-saved"},"Saving..."),!this.state.saving&&!this.state.changeMade&&o.a.createElement("span",{className:"all-saved"},"All changes saved")),o.a.createElement("li",{className:this.state.fileDownload?"b-border":"b-border disabled-file-menu",onClick:this.download_imgPng},"Download"))),o.a.createElement("li",null,o.a.createElement("a",{onClick:this.resetCanvas,className:"button button-dark button-iconed ml-3"},o.a.createElement("img",{src:"/img/add_ic.svg"}),"Create new design")),Lt&&Lt.length>1&&o.a.createElement("li",{className:this.state.undoClass||Mt<=0?"redo-img disabled ml-3":"redo-img ml-3",onClick:function(){return e.undo()},name:"undo","data-id":1},o.a.createElement("a",{name:"undo"},o.a.createElement("img",{src:"/img/undo.png",name:"undo"}))),Lt&&Lt.length>1&&o.a.createElement("li",{className:this.state.redoClass||Mt==Lt.length-1?"redo-img disabled":"redo-img",onClick:function(){return e.redo()},name:"redo"},o.a.createElement("a",{name:"redo"},o.a.createElement("img",{src:"/img/redo.png",name:"redo"})))),o.a.createElement("ul",{className:"print-section"},o.a.createElement("li",{className:"input-li"},o.a.createElement("input",{type:"text",name:"imageName",placeholder:"Untitled design - Poster Maker",value:this.state.imageName,onChange:this.handleInputChange,autoComplete:"off",onFocus:this.onFocusName,className:this.state.nameError?"fieldError":"posterName"})),("testing@yopmail.com"===this.state.userEmail||"testingadmin@yopmail.com"===this.state.userEmail)&&o.a.createElement("li",{className:"input-li ml-3"},o.a.createElement("input",{type:"text",name:"cat",placeholder:"tags",value:this.state.cat,onChange:this.handleInputChange,autoComplete:"off",onFocus:this.onFocusName,className:this.state.error?"fieldError":"posterName"})),("testing@yopmail.com"===this.state.userEmail||"testingadmin@yopmail.com"===this.state.userEmail)&&o.a.createElement("li",{className:"input-li ml-3"},o.a.createElement("input",{type:"text",name:"mainTag",placeholder:"main tag",value:this.state.mainTag,onChange:this.handleInputChange,autoComplete:"off",onFocus:this.onFocusName,className:this.state.error?"fieldError":"posterName"}))),o.a.createElement("ul",{className:"print-section"},this.state.changeMade&&!this.state.saving&&o.a.createElement("span",{className:"changes"},"Unsaved Changes"),this.state.saving&&!this.state.changeMade&&o.a.createElement("span",{className:"changes"},"Saving..."),!this.state.saving&&!this.state.changeMade&&o.a.createElement("span",{className:"changes"},"All changes saved"),o.a.createElement("a",{className:"button button-dark button-iconed ml-3",onClick:this.saveJson},o.a.createElement("img",{src:"/img/save_ic.svg"}),"Save"),o.a.createElement("li",{style:{position:"relative"}},o.a.createElement("a",{onClick:this.showShareMenu,className:"button button-dark button-iconed ml-3"},o.a.createElement("img",{src:"/img/share.svg"}),"Share"),o.a.createElement("ul",{className:this.state.showShareMenu?"print-dropdown download-dropdown inner-print-dropdown mt-2 share-dropdown":"noDisplay"},o.a.createElement("li",{className:"download-drop"},o.a.createElement("span",{className:"download"},"Share Design"),o.a.createElement("span",{className:"float-right",onClick:this.dismissShareMenu},o.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}))),o.a.createElement("li",null,o.a.createElement("div",{className:"dropdown "},o.a.createElement("h6",{className:"mb-2"},"Enter Email"),o.a.createElement("input",{type:"email",name:"shareEmail",className:this.state.shareEmailError?"form-control fieldError":"form-control",value:this.state.shareEmail,onChange:this.handleInputChange,required:!0})),o.a.createElement("button",{className:"button button-dark w-100",style:{marginTop:"10px"},onClick:function(t){return e.shareOnEmail(t)}},this.state.shareLoading?this.state.shareLoading:"Share on Email")),o.a.createElement("li",{style:{borderTop:"1px solid #dcdcdc"}},o.a.createElement(Oe.a,{url:this.state.canvasShare?this.state.canvasShare:this.state.canvasImage?this.state.canvasImage:"",quote:"Hey, I have just created the design over Poster Maker ".concat(this.state.canvasImage),hashtag:"#postermaker",style:{width:"100%"},onShareWindowClose:function(t,a){return e.posterShared("facebook",e.state.canvasImage)},disabled:!this.state.canvasImage},o.a.createElement("span",{className:"button button-dark w-100 fb-share-button",type:"button",style:{color:"#fff",backgroundColor:"#1778f2"},"data-href":"https://posterapplab.com"},o.a.createElement("span",null,"Share on Facebook"))),o.a.createElement(Ne.a,{url:this.state.canvasShare?this.state.canvasShare:this.state.canvasImage?this.state.canvasImage:"",title:"Hey, I have just created the design over Poster Maker",hashtag:"#postermaker",via:"posterapplab.com",style:{width:"100%"},onShareWindowClose:function(t,a){return e.posterShared("twitter",e.state.canvasImage)},disabled:!this.state.canvasImage},o.a.createElement("span",{className:"button button-dark w-100 fb-share-button mt-2",type:"button",style:{color:"#fff",backgroundColor:"#00acee"},"data-href":"https://posterapplab.com"},o.a.createElement("span",null,"Share on Twitter")))))),o.a.createElement("li",{className:"downlaod-poster downloadIcon"},o.a.createElement("a",{onClick:this.handleDownloadMenu,className:"button button-light button-iconed ml-3"},o.a.createElement("img",{src:"/img/downlaod_ic.svg"}),"Download"),o.a.createElement("ul",{className:this.state.showDownload?"print-dropdown download-dropdown inner-print-dropdown mt-2":"noDisplay"},o.a.createElement("li",{className:"download-drop"},o.a.createElement("span",{className:"download"},"Download"),o.a.createElement("span",{className:"float-right",onClick:this.handleDownloadMenu},o.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}))),o.a.createElement("li",null,o.a.createElement("div",{className:"dropdown "},o.a.createElement("h6",{className:"mb-2"},"File Type"),!a&&o.a.createElement("select",{className:"download-menu form-control",value:this.state.downloadType,onChange:this.handleInputChange,name:"downloadType"},o.a.createElement("option",{value:"PNG"},"PNG"),o.a.createElement("option",{value:"JPG"},"JPG"),o.a.createElement("option",{value:"PDF"},"PDF")),a&&o.a.createElement("select",{className:"download-menu form-control",value:this.state.videoType,onChange:this.handleInputChange,name:"videoType"},o.a.createElement("option",{value:"mp4"},"MP4"),o.a.createElement("option",{value:"webm"},"Webm"),o.a.createElement("option",{value:"3gp"},"3gp"),o.a.createElement("option",{value:"mov"},"Mov")))),o.a.createElement("li",null,o.a.createElement("button",{className:"button button-dark w-100",onClick:function(t){return e.handleDownload(t)}},"Download")))),o.a.createElement("li",{className:"downlaod-poster logoutIcon",onClick:this.logoutMe},o.a.createElement("a",{className:"button button-dark button-iconed ml-3"},o.a.createElement("img",{src:"/img/logout_ic.svg"}),"Logout")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&e.canvas!==t.canvas&&(a.changeMade=!0),void 0!==e.canvas&&(a.canvas=e.canvas?e.canvas:"",a.canvas)){a.historyUndoIndex=a.canvas.historyUndo?a.canvas.historyUndo.length:0;var s=a.canvas?a.canvas.getObjects():[];s&&s.length<=0&&(a.saveShow=!1,a.fileDownload=!1),s&&s.length<=0&&a.canvas.backgroundColor&&(a.saveShow=!0,a.fileDownload=!0),s&&s.length<=0&&a.canvas.backgroundImage&&(a.saveShow=!0,a.fileDownload=!0),s&&s.length>=1&&(a.saveShow=!0,a.fileDownload=!0)}if(void 0!==e.headerState&&e.headerState!==t.headerState&&e.headerTime!==t.headerTime&&(a.headerState=e.headerState,a.headerTime=e.headerTime,a.fileMenu=!!e.headerState&&e.headerState.fileMenu,a.showDownload=!!e.headerState&&e.headerState.showDownload),void 0!==e.undoRedo&&e.undoRedo!==t.undoRedo&&(a.undoRedo=e.undoRedo?e.undoRedo:{},a.undoButton=!!e.undoRedo&&e.undoRedo.undoButton,a.redoButton=!!e.undoRedo&&e.undoRedo.redoButton),void 0!==e.loadedTemplate&&e.loadedTemplate!==t.loadedTemplate&&(a.loadedTemplate=e.loadedTemplate,a.loadedTemplateId=e.loadedTemplate?e.loadedTemplate._id:""),void 0!==e.loadedCanvas&&e.loadedCanvas!==t.loadedCanvas&&(a.loadedCanvas=e.loadedCanvas,a.loadedCanvasId=e.loadedCanvas?e.loadedCanvas._id:"",a.loadedCanvasUserId=e.loadedCanvas?e.loadedCanvas.userId:""),void 0!==e.TemplateData&&e.TemplateData!==t.TemplateData){a.saving=!1,a.changeMade=!1,a.cat="",a.imageName="",a.error="",a.nameError="";var n={category:t.cg};e.getTemplates(n),a.fileMenu=!1}if(void 0!==e.savedCanvas&&e.savedCanvas!==t.savedCanvas&&e.savedCanvasDate!==t.savedCanvasDate&&(a.savedCanvasDate=e.savedCanvasDate,a.fileMenu=!1,a.saving=!1,a.changeMade=!1,a.canvasImage=e.savedCanvas.data?e.savedCanvas.data.canvas_image:"",a.canvasShare=e.savedCanvas.data?e.savedCanvas.data.canvas_share:"",e.getUserCanvas(),e.savedCanvas&&t.shareActive)){var o={email:t.shareEmail,canvas_id:e.savedCanvas.data?e.savedCanvas.data.canvas_id:"",link:e.savedCanvas.data?e.savedCanvas.data.canvas_image:""};e.shareDesign(o),a.shareActive=!1}return void 0!==e.savedFontCombi&&e.savedFontCombi!==t.savedFontCombi&&e.savedFontDate!==t.savedFontDate&&(a.savedFontDate=e.savedFontDate,a.saving=!1,a.changeMade=!1,e.getFontTemplates(),a.fileMenu=!1),void 0!==e.cropActive&&""!==e.cropActive&&e.cropActive!==t.cropActive&&e.cropStateDate!==t.cropStateDate&&(a.cropActive=e.cropActive,a.cropStateDate=e.cropStateDate,a.counter=1),void 0!==e.toolsState&&e.toolsState!==t.toolsState&&(a.templateChange=!!e.toolsState&&e.toolsState.templateChange,e.toolsState&&e.toolsState.category&&(a.cg=e.toolsState.category?e.toolsState.category:"cus"),e.toolsState&&e.toolsState.cid&&1==e.toolsState.template&&(a.loadedCanvasId="",a.cid=e.toolsState.cid?e.toolsState.cid:Object(se.a)()),e.toolsState&&e.toolsState.cid&&0==e.toolsState.template&&1==e.toolsState.myDesign&&(a.cid=e.toolsState.cid?e.toolsState.cid:Object(se.a)())),void 0!==e.isBackground&&e.isBackground!==t.isBackground&&(a.isBackground=e.isBackground),void 0!==e.isBackgroundColor&&e.isBackgroundColor!==t.isBackgroundColor&&(a.isBackgroundColor=e.isBackgroundColor),e.sharedData&&200==e.sharedData.code&&e.sharedDate!==t.sharedDate&&(a.sharedDate=e.sharedDate,a.shareLoading="Shared"),void 0!==e.showMainSideBar&&e.showMainSideBar!==t.showMainSideBar&&(a.showMainSideBar=e.showMainSideBar),a}}]),a}(n.Component),Ut=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{},t.undoRedo=a?a.data:{},t.headerState=a?a.data:{},t.headerTime=new Date,t.cropActive=a.cropState,t.cropStateDate=new Date,t.toolsState=a.toolsState,t.volume=a.volume,t.isBackground=!!a&&a.isBackground,t.isBackgroundColor=!!a&&a.isBackgroundColor,t.showMainSideBar=a.mainSidebar),"UPLOAD_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.TemplateData=e.TemplateReducer.data),"LOAD_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.loadedTemplate=e.TemplateReducer.data),"LOAD_CANVAS"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):t.loadedCanvas=e.CanvasExternalReducer.data),"UPLOAD_CANVAS_IMAGE"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.savedCanvas=e.CanvasExternalReducer.data,t.savedCanvasDate=new Date)),"UPLOAD_FONT_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.savedFontCombi=e.TemplateReducer.data,t.savedFontDate=new Date)),"SHARE_CANVAS_DESIGN"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.sharedData=e.CanvasExternalReducer.data,t.sharedDate=new Date)),t}),(function(e){return Object(d.b)({saveCanvas:nt,saveTemplate:yt,uploadCanvasImage:it,uploadTemplate:Ct,getTemplates:wt,getUserCanvas:rt,uploadFcTemplate:Dt,getFontTemplates:At,getCanvas:v,headerMenu:C,getSelectedType:E,mainSideBarState:D,sideBar2:f,toolsMenu:k,showFilters:b,showAdjustments:y,loader:j,isVolume:_,closeUploads:x,backgroundChange:I,backgroundColorChange:L,shareDesign:mt,socialShareCount:ht},e)}))(Object(H.g)(Pt)),Ft=a(185),Bt=a(59),Gt=a.n(Bt);JSON.parse(sessionStorage.getItem("size"));function zt(e){return o.a.createElement("a",{href:"https://api.whatsapp.com/send?phone=+917888399184&text=Hello, I am ".concat(e.name?e.name:""," want to share something!"),className:"float",target:"_blank"},o.a.createElement("i",{className:"fa fa-whatsapp my-float"}))}var Vt=a(424),Ht=a.n(Vt);function Jt(e){return o.a.createElement(Ht.a,{pageId:"106422244560257",appId:"820380105156616",themeColor:"#424242"})}var Yt=a(75),Wt=a.n(Yt),Xt=(a(362),a(801),a(263)),qt=a.n(Xt),Kt=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;Object(X.a)(this,a),(s=t.call(this,e)).handleChangeStart=function(){},s.handleChangeOpcaity=function(e){var t=s.props.canvas;Re(t,0==e||1==e?1:e),s.setState({opacity:e}),setTimeout((function(){s.props.getCanvas(t)}),500)},s.handleChangeLineHeight=function(e){Ye(s.props.canvas,e),s.setState({lineHeight:e})},s.handleChangeLineSpace=function(e){Je(s.props.canvas,e),s.setState({lineSpace:e})},s.handleInputChange=function(e){var t=s.props.canvas,a=e.target,n="checkbox"===a.type?a.checked:a.value;"opacity"==a.name&&Re(t,n),"lineSpace"==a.name&&Je(t,n),"lineHeight"==a.name&&Ye(t,n),"fontFamily"===e.target.name&&function(e,t){e.getActiveObject()&&(e.getActiveObject().set("fontFamily",t),e.counter++),e.requestRenderAll()}(s.props.canvas,n),"fontSize"===e.target.name&&function(e,t){e.getActiveObject()&&(e.getActiveObject().set("fontSize",t),e.counter++,e.renderAll())}(s.props.canvas,n),s.setState(Object(ie.a)({},e.target.name,n))},s.handleChangeComplete=function(){},s.showOpacityTool=function(){s.setState({showOpacity:!s.state.showOpacity,showPositionDropdown:!1,showFlip:!1}),setTimeout((function(){var e={showOpacity:s.state.showOpacity,showPositionDropdown:!1,showFlip:!1};s.props.toolsMenu(e)}),0)},s.setUnderline=function(){s.setState({underline:!s.state.underline});var e=s.props.canvas;setTimeout((function(){var t=!s.state.underline;!function(e,t){e.getActiveObject()&&(e.getActiveObject().set("underline",t),e.counter++,e.renderAll())}(e,t)}),0)},s.fontCase=function(){var e=s.props.canvas;s.setState({fontCase:!s.state.fontCase}),setTimeout((function(){var t=s.state.fontCase;!function(e,t){var a=e.getActiveObject();if(a){a.set("fontCase",t);var s=a.text;a.text=t?s.toLowerCase():s.toUpperCase(),e.counter++,e.renderAll()}}(e,t)}),0)},s.textAlign=function(){var e=s.props.canvas,t=s.state.align,a="left";"left"==t&&(a="center",s.setState({align:"center",alignPic:"img/align-center.png",fontSize:60})),"center"==t&&(a="right",s.setState({align:"right",alignPic:"img/align-right.png",fontSize:45})),"right"==t&&(a="left",s.setState({align:"left",alignPic:"img/align-left.png",fontSize:35})),function(e,t){e.getActiveObject()&&(e.getActiveObject().set("textAlign",t),e.renderAll())}(e,a)},s.show2ndModal=function(){s.props.emptyData();var e=s.state.show2ndSideBar;1==s.state.show2ndSideBar?s.props.mainSideBarState(!0):s.props.mainSideBarState(!1),s.props.showAdjustments(!1),s.props.showFilters(!1),e&&s.props.sideBar2(!1),e||s.props.sideBar2(!0)},s.showFiltersModal=function(){s.props.emptyData();var e=s.state.showFilters;0==s.state.showFilters?s.props.mainSideBarState(!0):s.props.mainSideBarState(!1),e&&s.props.showFilters(!1),e||s.props.showFilters(!0);s.props.showAdjustments(!1),s.props.sideBar2(!1),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})},s.cloneMe=function(){He(s.props.canvas)},s.showLineModal=function(){s.setState({showLine:!s.state.showLine}),s.setState({showFlip:!1,showOpacity:!1,showPositionDropdown:!1}),setTimeout((function(){var e={showOpacity:!1,showPositionDropdown:!1,showLine:s.state.showLine,showFlip:!1};s.props.toolsMenu(e)}),0)},s.handleShowFlip=function(){s.setState({showFlip:!s.state.showFlip,showLine:!1,showOpacity:!1,showPositionDropdown:!1}),setTimeout((function(){var e={showOpacity:s.state.showOpacity,showPositionDropdown:!1,showLine:!1,showFlip:s.state.showFlip};s.props.showAdjustments(!1),s.props.showFilters(!1),s.props.toolsMenu(e)}),0)},s.doFlipX=function(){!function(e,t){e.getActiveObject()&&(e.getActiveObject().set("flipX",t),e.counter++,e.renderAll())}(s.props.canvas,s.state.moveFlipX),s.setState({moveFlipX:!s.state.moveFlipX})},s.doFlipY=function(){!function(e,t){e.getActiveObject()&&(e.getActiveObject().set("flipY",t),e.counter++,e.renderAll())}(s.props.canvas,s.state.moveFlipY),s.setState({moveFlipY:!s.state.moveFlipY})},s.swicthToAdjust=function(){var e=s.state.showAdjust;e?s.props.mainSideBarState(!0):s.props.mainSideBarState(!1),s.props.showFilters(!1),e&&s.props.showAdjustments(!1),e||s.props.showAdjustments(!0);s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})},s.handlePosition=function(e){var t=s.state.cg,a=s.props.canvas;"front"==e?function(e,t){var a=e.getActiveObject();a&&(e.bringForward(a),e.renderAll())}(a):"back"==e?function(e,t){var a=e.getActiveObject();a&&(e.sendBackwards(a),e.renderAll())}(a):function(e,t,a){var s=t.getActiveObject(),n=JSON.parse(sessionStorage.getItem("size"));if(s&&n)switch(e){case"left":s.imageType?s.set({left:30}):s.set({left:45});break;case"right":s.imageType?s.set({left:n.width-s.width*s.scaleX-30}):s.set({left:n.width-s.width*s.scaleX-45});break;case"top":s.imageType?s.set({top:"pos"==a?210:150}):s.set({top:"pos"==a?210:140});break;case"bottom":s.imageType?s.set({top:n.height-s.height*s.scaleY-30}):s.set({top:n.height-s.height*s.scaleY-45});break;case"middle":s.imageType&&s.viewportCenter(),s.type,s.viewportCenter();break;case"center":s.imageType?s.set({left:n.width/2-s.width*s.scaleX/2+20}):s.set({left:n.width/2-s.width*s.scaleX/2})}s&&(s.setCoords(),t.setActiveObject(s)),t.renderAll()}(e,a,t)},s.handlePositionDropdown=function(){var e=s.props.canvas;s.setState({showPositionDropdown:!s.state.showPositionDropdown,showLine:!1,showOpacity:!1,showFlip:!1}),setTimeout((function(){var t={showOpacity:!1,showPositionDropdown:s.state.showPositionDropdown,showLine:!1,showFlip:!1};s.props.toolsMenu(t),s.props.getCanvas(e)}),0)},s.changeHandler=function(e){var t=s.props.canvas;"textbox"==s.state.objectType&&function(e,t){var a=e.getActiveObject();a&&a.isType("textbox")&&(e.getActiveObject().set("backgroundColor",t),e.requestRenderAll())}(t,e.color),"circle"!=s.state.objectType&&"rect"!=s.state.objectType&&"line"!=s.state.objectType&&"triangle"!=s.state.objectType&&"polygon"!=s.state.objectType&&"ellipse"!=s.state.objectType||qe(t,e.color,s.state.objectType),"sFrame"==s.state.objectType&&qe(t,e.color,s.state.objectType),"polyFrame"==s.state.objectType&&qe(t,e.color,s.state.objectType),"circleFrame"==s.state.objectType&&qe(t,e.color,s.state.objectType)},s.closeHandler=function(e){},s.handleCrop=function(){var e=0,t=s.props.canvas;if(t){var a=t.getActiveObject();a&&(t.bringToFront(a),a.set("angle",0),a.setCoords())}if(t.getObjects().map((function(t,a){"image"==t.type&&e++})),t.renderAll(),e>0){s.setState({cropActive:!0}),function(e){if(ze=e.getActiveObject(),Be=e?e.getActiveObject():""){var t=Be;t.left,t.top;Ge=new J.fabric.Rect({width:ze.width-90,height:ze.height-90,scaleX:ze.scaleX,scaleY:ze.scaleY,angle:0,left:ze.left+5,top:ze.top+5,borderDashArray:[5,5],hasRotatingPoint:!1,fill:"rgba(0, 0, 0, 0.3)",cornerPadding:2}),e.add(Ge),e.setActiveObject(Ge),Be.selectable=!1,Be.evented=!1,e.renderAll()}}(t),s.props.showAdjustments(!1),s.props.showFilters(!1);s.props.cropState(!0),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})}},s.dismissCrop=function(){var e=s.props.canvas;s.props.getSelectedType("image"),Ke(e),s.setState({cropActive:!1,objectType:"image"}),s.props.emptyData(),s.props.cropState(!1)},s.finishCrop=function(){var e=s.props.canvas;Ze(e);var t=e.getObjects();t&&t.map((function(t,a){"rgba(0, 0, 0, 0.3)"==t.fill&&e.remove(t)})),s.setState({cropActive:!1,objectType:"image",cropComplete:!0,templateChange:!1}),s.props.cropState(!1),s.props.getSelectedType("image")},s.addShadow=function(e){var t=s.props.canvas;s.state.isShadow||(!function(e){var t=e.getActiveObject();t&&"textbox"==t.type&&t.setShadow("10px 10px 5px rgba(0, 0, 0, 0.6)"),e.renderAll()}(t),s.setState({isShadow:!0})),s.state.isShadow&&(!function(e){var t=e.getActiveObject();t&&"textbox"==t.type&&t.setShadow(""),e.renderAll()}(t),s.setState({isShadow:!1}))},s.handleVolume=function(e){s.setState({volume:!s.state.volume});var t=s.props.canvas.getActiveObject();if(t){var a=t.videoId;document.getElementById(a).muted=s.state.volume,t.set("videoVolume",e)}},s.handlePlay=function(e){console.log(e),s.setState({videoPlay:!s.state.videoPlay});var t=s.props.canvas.getActiveObject();if(t){var a=t.videoId,n=document.getElementById(a);0==e?n.pause():n.play()}},s.groupItems=function(){!function(e,t){var a=[];if(!t){a=e._objects.filter((function(e){return e}));var s=new J.fabric.Group(a,{originX:"center",originY:"center",subTargetCheck:!0});e.getObjects().forEach((function(t){e.remove(t)})),e.add(s),e.setActiveObject(s),s.setCoords(),e.renderAll()}if(t){a=t.filter((function(e){return e}));s=new J.fabric.Group(a,{top:280,left:280});e.add(s),s.setCoords(),e.renderAll()}}(s.props.canvas),s.setState({grouping:!0}),s.props.getSelectedType("group")},s.ungroupItems=function(){!function(e){var t=e.getActiveObject();if(t&&"group"==t.type){var a=t._objects;t._restoreObjectsState(),e.remove(t);for(var s=0;s<a.length;s++)a[s].selectable=!0,a[s].dirty=!0,e.add(a[s]),e.item(e.size()-1).hasControls=!0;e.renderAll()}}(s.props.canvas),s.setState({grouping:!1})},s.lockObject=function(){console.log("inside");var e=s.props.canvas;tt(e),e.getActiveObject()&&s.setState({locking:!0})},s.unlockObject=function(){var e=s.props.canvas;!function(e){var t=e.getActiveObject();t&&(t.set("hasControls",!0),t.set("lockMovementX",!1),t.set("lockMovementY",!1),t.set("lockRotation",!1),t.set("lockScalingX",!1),t.set("lockScalingY",!1),t.locked=!1,t&&"textbox"==t.type&&t.set("editable",!0),e.renderAll())}(e),e.getActiveObject()&&s.setState({locking:!1})};var n=JSON.parse(localStorage.getItem("useMe")),o=localStorage.getItem("canvasId");return s.state={cg:s.props.match.params.cg?s.props.match.params.cg:"",showOpacity:!1,opacity:100,colorDisplay:"white",underline:!0,fontSize:60,fontFamily:"arial",canvasDetails:"",align:"left",alignPic:"img/align-left.png",fontCase:!0,show2ndSideBar:!1,showFilters:!1,lineSpace:0,lineHeight:1.6,showLine:!1,showFlip:!1,objectType:"",moveFlipX:!0,moveFlipY:!0,showAdjust:!1,showPositionDropdown:!1,activeIndex:-1,textBackgroundColor:"#fff",userEmail:n?n.email:"",cropActive:!1,canvasId:o||"",toolsState:{},giphy:!1,templateChange:!1,cropComplete:!1,objectArray:0,isShadow:!1,isVideo:!1,volume:!1,volumeChanged:!1,videoPlay:!1,grouping:!1,locking:!1,objLength:0,canvasObjLen:0,showGTools:!1,showMaskState:!1,isMask:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.canvas;if(this.props.activeIndex>-1)a.toObject()}},{key:"handleTextBackground",value:function(){}},{key:"render",value:function(){var e=this,t=(this.props.canvas,Math.round(this.state.opacity));if(this.props.canvas)this.props.canvas;var a=this.state.lineHeight?this.state.lineHeight.toFixed(2):0;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("div",{className:"canvas-header"},!this.state.templateChange&&o.a.createElement("div",{className:this.state.locking?"noDisplay":"canvas-left-header"},o.a.createElement("ul",{className:"effects-ul"},("image"==this.state.objectType||"giphy"==this.state.objectType)&&o.a.createElement("li",{className:this.state.cropActive||this.state.isVideo?"noDisplay":"",onClick:this.showFiltersModal},"Filters"),("image"==this.state.objectType||"giphy"==this.state.objectType)&&o.a.createElement("li",{className:this.state.cropActive||this.state.isVideo?"noDisplay":"",onClick:this.swicthToAdjust},"Adjust"),"image"==this.state.objectType&&!this.state.giphy&&o.a.createElement("li",{className:this.state.cropActive||this.state.isVideo||this.state.showMaskState?"noDisplay":"",onClick:this.handleCrop},"Crop"),("rect"==this.state.objectType||"image"===this.state.objectType)&&this.state.cropActive&&o.a.createElement("li",{className:this.state.cropActive?"close-li":"noDisplay",onClick:this.dismissCrop},o.a.createElement("img",{src:"/img/close.png"}),"Cancel"),("rect"==this.state.objectType||"image"===this.state.objectType)&&this.state.cropActive&&o.a.createElement("li",{className:this.state.cropActive?"tick-li":"noDisplay",onClick:this.finishCrop},o.a.createElement("img",{src:"/img/tick.png"}),"Done"),("image"==this.state.objectType||"giphy"==this.state.objectType)&&o.a.createElement("li",{className:this.state.cropActive?"noDisplay":""},o.a.createElement("a",{onClick:this.handleShowFlip}," Flip"),this.state.showFlip&&o.a.createElement("ul",{className:"flip-ul"},o.a.createElement("li",{onClick:this.doFlipY},o.a.createElement("img",{src:"/img/v-flip.png"})," Flip Vertical"),o.a.createElement("li",{onClick:this.doFlipX},o.a.createElement("img",{src:"/img/h-flip.png"})," Flip Horizontal")))),o.a.createElement("ul",{className:""},this.state.objectType&&"textbox"==this.state.objectType||4==this.state.objectType.length&&o.a.createElement("li",{className:this.state.cropComplete||this.state.showMaskState?"noDisplay":"color-patches"},!this.state.cropActive&&"image"!==this.state.objectType&&o.a.createElement(qt.a,{color:this.state.textBackgroundColor,alpha:100,onChange:this.changeHandler,placement:"bottomLeft"})),this.state.objectType&&this.state.objectType.length>5&&o.a.createElement("li",{className:this.state.cropActive||this.state.showMaskState?"noDisplay":"color-patches"},o.a.createElement(qt.a,{color:this.state.textBackgroundColor,alpha:100,onChange:this.changeHandler,placement:"bottomLeft"})),o.a.createElement("li",{className:"textbox"==this.state.objectType&&0==this.state.locking?"font-family":"noDisplay"},o.a.createElement("select",{value:this.state.fontFamily,onChange:this.handleInputChange,name:"fontFamily",className:"textbox"==this.state.objectType?"":"noDisplay"},o.a.createElement("option",{value:"arial"},"Arial"),o.a.createElement("option",{value:"arial black"},"Arial Black"),o.a.createElement("option",{value:"Bookman"},"Bookman"),o.a.createElement("option",{value:"Caveat"},"Caveat"),o.a.createElement("option",{value:"comic sans ms"},"Comic Sans MS"),o.a.createElement("option",{value:"Concert One"},"Concert One"),o.a.createElement("option",{value:"courier"},"Courier"),o.a.createElement("option",{value:"Courier New"},"Courier New"),o.a.createElement("option",{value:"Dancing Script"},"Dancing Script"),o.a.createElement("option",{value:"engagement"},"Engagement"),o.a.createElement("option",{value:"georgia"},"Georgia"),o.a.createElement("option",{value:"Grenze Gotisch"},"Grenze Gotisch"),o.a.createElement("option",{value:"helvetica"},"Helvetica"),o.a.createElement("option",{value:"hoefler text"},"Hoefler Text"),o.a.createElement("option",{value:"impact"},"Impact"),o.a.createElement("option",{value:"Indie Flower"},"Indie Flower"),o.a.createElement("option",{value:"Lexend Zetta"},"Lexend Zetta"),o.a.createElement("option",{value:"Lobster"},"Lobster"),o.a.createElement("option",{value:"Modak"},"Modak"),o.a.createElement("option",{value:"monaco"},"Monaco"),o.a.createElement("option",{value:"monospace"},"Monospace"),o.a.createElement("option",{value:"optima"},"Optima"),o.a.createElement("option",{value:"palatino"},"palatino"),o.a.createElement("option",{value:"Raleway"},"Raleway"),o.a.createElement("option",{value:"Source Sans Pro"},"Source Sans Pro"),o.a.createElement("option",{value:"Tahoma"},"Tahoma"),o.a.createElement("option",{value:"Times New Roman"},"Times New Roman"),o.a.createElement("option",{value:"Ultra"},"Ultra"),o.a.createElement("option",{value:"verdana"},"Verdana"))),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"font-size"},o.a.createElement("select",{value:this.state.fontSize,onChange:this.handleInputChange,name:"fontSize"},o.a.createElement("option",{value:"20"},"6"),o.a.createElement("option",{value:"25"},"8"),o.a.createElement("option",{value:"35"},"10"),o.a.createElement("option",{value:"40"},"12"),o.a.createElement("option",{value:"55"},"14"),o.a.createElement("option",{value:"70"},"18"),o.a.createElement("option",{value:"80"},"20"),o.a.createElement("option",{value:"90"},"22"),o.a.createElement("option",{value:"100"},"24"),o.a.createElement("option",{value:"110"},"27"),o.a.createElement("option",{value:"120"},"30"),o.a.createElement("option",{value:"130"},"33"),o.a.createElement("option",{value:"140"},"36"),o.a.createElement("option",{value:"145"},"39"),o.a.createElement("option",{value:"150"},"42"),o.a.createElement("option",{value:"155"},"46"),o.a.createElement("option",{value:"160"},"60"))),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"font-color",onClick:this.show2ndModal},o.a.createElement("span",{className:"d-block"},o.a.createElement("img",{src:"/img/text-color.png"})),o.a.createElement("span",{className:"d-block color-change",style:{background:this.state.colorDisplay}})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"bold","data-toggle":"tooltip","data-placement":"bottom",title:"Bold",onClick:function(){return e.props.fontBold()}},o.a.createElement("img",{src:"/img/bold.png"})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"italic","data-toggle":"tooltip","data-placement":"bottom",title:"Italic",onClick:function(){return e.props.fontItalic()}},o.a.createElement("img",{src:"/img/italic.png"})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"underline","data-toggle":"tooltip","data-placement":"bottom",title:"Underline"},o.a.createElement("img",{src:"/img/underline.png",onClick:this.setUnderline})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"align","data-toggle":"tooltip","data-placement":"bottom",title:"Align",onClick:this.textAlign},o.a.createElement("img",{src:"/"+this.state.alignPic})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"uppercase","data-toggle":"tooltip","data-placement":"bottom",title:"Uppercase"},o.a.createElement("img",{src:"/img/uppercase.png",onClick:this.fontCase})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"uppercase","data-toggle":"tooltip","data-placement":"bottom",title:"Shadow"},o.a.createElement("img",{src:"/img/shadow.png",onClick:this.addShadow})),"textbox"==this.state.objectType&&o.a.createElement("li",{className:"spacing","data-toggle":"tooltip","data-placement":"bottom",title:"Spacing"},o.a.createElement("img",{src:"/img/spacing.png",onClick:this.showLineModal}),this.state.showLine&&o.a.createElement("ul",{className:"spacing-ul"},o.a.createElement("li",{className:"w-100"},o.a.createElement("span",{className:"d-inline"},"Letter Spacing"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:-200,max:800,value:this.state.lineSpace,onChangeStart:this.handleChangeStart,onChange:this.handleChangeLineSpace,onChangeComplete:this.handleChangeComplete,tooltip:!1})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:this.state.lineSpace,onChange:this.handleInputChange,name:"lineSpace",disabled:!0}))),o.a.createElement("li",{className:"w-100"},o.a.createElement("span",{className:"d-inline"},"Line Height"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:0,max:2.5,step:.1,value:this.state.lineHeight,onChangeStart:this.handleChangeStart,onChange:this.handleChangeLineHeight,onChangeComplete:this.handleChangeComplete,tooltip:!1})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:a,onChange:this.handleInputChange,name:"lineHeight",disabled:!0}))))))),!this.state.templateChange&&o.a.createElement("div",{className:this.state.cropActive?"noDisplay":"canvas-right-header"},""==this.state.objectType&&o.a.createElement("ul",null),""==!this.state.objectType&&o.a.createElement("ul",{className:""},!this.state.grouping&&!this.state.showGTools&&o.a.createElement("li",{className:this.state.locking||this.state.objectArray<=1||this.state.showMaskState||this.state.isMask?"noDisplay":"ungroup",onClick:function(){e.groupItems()}},"Group"),this.state.grouping&&!this.state.showGTools&&o.a.createElement("li",{className:this.state.locking||this.state.objLength>10||this.state.showMaskState||this.state.isMask?"noDisplay":"ungroup",onClick:function(){e.ungroupItems()}},"Ungroup"),this.state.volume&&o.a.createElement("li",{className:this.state.isVideo?"":"noDisplay",onClick:function(){e.handleVolume(!1)}},o.a.createElement("i",{class:"fa fa-volume-up faSize","aria-hidden":"true"})),!this.state.volume&&o.a.createElement("li",{className:this.state.isVideo?"":"noDisplay",onClick:function(){e.handleVolume(!0)}},o.a.createElement("i",{class:"fa fa-volume-off faSize","aria-hidden":"true"})),o.a.createElement("li",{className:"group"==this.state.objectType||this.state.locking||this.state.showGTools?"noDisplay":"position"},o.a.createElement("a",{className:"",onClick:this.handlePositionDropdown},"Position"),this.state.showPositionDropdown&&o.a.createElement("ul",{className:"position-ul"},o.a.createElement("li",{onClick:function(){e.handlePosition(e.state.objectArray>=2?"front":"")},className:this.state.objectArray>=2?"":"disabled-file-menu"},o.a.createElement("img",{src:"/img/forwards.png"}),"\xa0 Forwards"),o.a.createElement("li",{onClick:function(){e.handlePosition(e.state.objectArray>=2?"back":"")},className:this.state.objectArray>=2?"":"disabled-file-menu"},o.a.createElement("img",{src:"/img/backwards.png"}),"\xa0 Backwards"),o.a.createElement("li",{className:"align-page"},"Align to page"),o.a.createElement("li",{onClick:function(){e.handlePosition("top")}},o.a.createElement("img",{src:"/img/top.png"}),"\xa0 Top"),o.a.createElement("li",{onClick:function(){e.handlePosition("left")}},o.a.createElement("img",{src:"/img/left.png"}),"\xa0 Left"),o.a.createElement("li",{onClick:function(){e.handlePosition("middle")}},o.a.createElement("img",{src:"/img/middle.png"}),"\xa0 Middle"),o.a.createElement("li",{onClick:function(){e.handlePosition("center")}},o.a.createElement("img",{src:"/img/center.png"}),"\xa0 Center"),o.a.createElement("li",{onClick:function(){e.handlePosition("bottom")}},o.a.createElement("img",{src:"/img/bottom.png"}),"\xa0 Bottom"),o.a.createElement("li",{onClick:function(){e.handlePosition("right")}},o.a.createElement("img",{src:"/img/right.png"}),"\xa0 Right"))),o.a.createElement("li",{className:this.state.locking||this.state.showGTools?"noDisplay":"transparency","data-toggle":"tooltip","data-placement":"bottom",title:"Transparency"},o.a.createElement("img",{src:"/img/transparency.png",title:"transparency",onClick:this.showOpacityTool}),this.state.showOpacity&&o.a.createElement("ul",{className:"transparency-dropdown"},o.a.createElement("li",null,o.a.createElement("span",{className:"d-inline"},"Transparency"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:10,max:100,value:this.state.opacity,onChangeStart:this.handleChangeStart,onChange:this.handleChangeOpcaity,onChangeComplete:this.handleChangeComplete,tooltip:!1,name:"opacity"})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:t,onChange:this.handleInputChange,name:"opacity",disabled:!0}))))),this.state.locking&&!this.state.grouping&&!this.state.showGTools&&o.a.createElement("li",{className:"group"!=this.state.objectType||this.state.grouping?"lock":"noDisplay","data-toggle":"tooltip","data-placement":"bottom",title:"Lock",onClick:function(){return e.unlockObject()}},o.a.createElement("i",{class:"fa fa-lock","aria-hidden":"true"})),!this.state.locking&&!this.state.grouping&&!this.state.showGTools&&o.a.createElement("li",{className:"group"!=this.state.objectType||this.state.grouping?"lock":"noDisplay","data-toggle":"tooltip","data-placement":"bottom",title:"Lock",onClick:function(){return e.lockObject()}},o.a.createElement("i",{class:"fa fa-unlock","aria-hidden":"true"})),!this.state.isVideo&&!this.state.showGTools&&o.a.createElement("li",{className:this.state.locking||this.state.showMaskState?"noDisplay":"duplicate","data-toggle":"tooltip","data-placement":"bottom",title:"Duplicate"},o.a.createElement("img",{src:"/img/duplicate.png",onClick:this.cloneMe})),o.a.createElement("li",{className:this.state.showGTools?"noDisplay":"delete","data-toggle":"tooltip","data-placement":"bottom",title:"Delete",onClick:function(t){return e.props.deleteSelected(t)}},o.a.createElement("img",{src:"/img/delete.png"})))),o.a.createElement("div",{className:"canvas-right-header"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,s={};if(void 0!==e.canvasDetails&&e.canvasDetails!==t.canvasDetails){(a=e.canvasDetails?e.canvasDetails:"")&&a.ungroupState&&(s.showGTools="ungroup"==a.ungroupState),s.canvas=e.canvasDetails;var n=s.canvas?s.canvas.getActiveObject():"";n&&n._objects&&n._objects.length&&(s.objLength=n._objects.length),n&&(n.locked&&tt(s.canvas),n&&n.maskname&&n.isShape||n&&n.myImage?s.showMaskState=!0:s.showMaskState=!1,1==n.locked?s.locking=!0:s.locking=!1,n.video_src?s.isVideo=!0:s.isVideo=!1,s.giphy=!!n.imageType);var o=a.toObject();o&&o.objects&&o.objects.length&&o.objects.map((function(e,t){"image"==e.type&&e.maskname&&(s.isMask=!0)})),o&&o.length<=0&&(s.objectType=""),o&&o.length;var r=e.activeIndex,i=n?n.videoId:"";if(s.activeIndex!==e.activeIndex&&(s.activeIndex=e.activeIndex),r>-1&&!t.showPositionDropdown)a.toObject().objects.map((function(e,t){t===r&&(i&&i==e.videoId&&(s.volume=e.videoVolume),s.fontSize=e.fontSize,s.fontFamily=e.fontFamily,s.grouping="group"==e.type,s.textBackgroundColor=e.backgroundColor?e.backgroundColor:"#fff",s.align=e.textAlign,s.align&&("left"==s.align&&(s.alignPic="img/align-left.png"),"center"==s.align&&(s.alignPic="img/align-center.png"),"right"==s.align&&(s.alignPic="img/align-right.png")),s.lineSpace=e.charSpacing,s.lineHeight=e.lineHeight,s.opacity=100*e.opacity,("rect"==e.type&&void 0!==e.fill||"circle"==e.type&&void 0!==e.fill||"triangle"==e.type||"polygon"==e.type&&void 0!==e.fill||"ellipse"==e.type)&&(s.textBackgroundColor=e?e.fill:"#d1d1d1"),e&&"line"==e.type&&(s.textBackgroundColor=e?e.fill:"#696969"),e&&"rect"==e.type&&""==e.fill&&e.stroke&&(s.textBackgroundColor=e?e.stroke:"#d1d1d1",s.objectType="sFrame"),e&&"polygon"==e.type&&""==e.fill&&e.stroke&&(s.textBackgroundColor=e?e.stroke:"#d1d1d1",s.objectType="polyFrame"),e&&"circle"==e.type&&""==e.fill&&e.stroke&&(s.textBackgroundColor=e?e.stroke:"#d1d1d1",s.objectType="circleFrame"))}));s.objectArray=s.canvas.getObjects().length}if(void 0!==e.show2ndSideBar&&""!==e.show2ndSideBar&&(s.show2ndSideBar=e.show2ndSideBar),void 0!==e.showAdjust&&""!==e.showAdjust&&(s.showAdjust=e.showAdjust,!1===e.showAdjust&&0==t.showFilters&&t.showMainSideBar),void 0!==e.filters&&e.filters!==t.filters&&(s.showFilters=e.filters),void 0!==e.objectType&&e.objectType!==t.objectType&&e.objDate!==t.objDate){s.objDate=e.objDate;var c=a.getActiveObject();c&&"rect"==c.type&&""==c.fill&&c.stroke?s.objectType="sFrame":c&&"polygon"==c.type&&""==c.fill&&c.stroke?s.objectType="polyFrame":c&&"circle"==c.type&&""==c.fill&&c.stroke?s.objectType="circleFrame":s.objectType=e.objectType,"textbox"!=s.objectType&&""!=s.objectType||(Ke(s.canvas),s.showFlip=!1,s.cropActive=!1),"image"!=s.objectType&&""!=s.objectType||(s.showLine=!1,s.templateChange=!1)}return void 0!==e.toolsState&&e.toolsState!==t.toolsState&&(s.toolsState=e.toolsState,s.showOpacity=!!e.toolsState&&e.toolsState.showOpacity,s.showPositionDropdown=!!e.toolsState&&e.toolsState.showPositionDropdown,s.showLine=!!e.toolsState&&e.toolsState.showLine,s.showFlip=!!e.toolsState&&e.toolsState.showFlip,s.templateChange=!!e.toolsState&&e.toolsState.templateChange),void 0!==e.cropActive&&""!==e.cropActive&&e.cropActive!==t.cropActive&&e.cropStateDate!==t.cropStateDate&&(s.cropActive=e.cropActive,s.cropStateDate=e.cropStateDate),void 0!==e.showMainSideBar&&e.showMainSideBar!==t.showMainSideBar&&(s.showMainSideBar=e.showMainSideBar),s}}]),a}(n.PureComponent),Zt=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvasDetails=a.canvasData,t.show2ndSideBar=a.showSidebar2,t.filters=a.filters,t.objectType=a.objectType,t.objDate=new Date,t.showAdjust=a.showAdjust,t.toolsState=a.toolsState,t.cropActive=a.cropState,t.cropStateDate=new Date,t.volume=a.volume,t.volumeChanged=a.finalState,t.volumeDate=new Date,t.showMainSideBar=a.showMainSideBar),t}),(function(e){return Object(d.b)({sideBar2:f,emptyData:M,showFilters:b,showAdjustments:y,getSelectedType:E,toolsMenu:k,getCanvas:v,mainSideBarState:D,cropState:A,isVolume:_},e)}))(Object(H.g)(Kt)),$t=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;Object(X.a)(this,a),(s=t.call(this,e)).disabledEvent=function(e){return e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0),e.preventDefault(),!1},s.checkCropperScaling=function(){if(s.state.cropActive){var e=s.state.canvas,t=e.getObjects(),a={};t&&t.length&&t.map((function(e,t){"image"==e.type&&(a=e)}));var n=a,o=e.getActiveObject();o.setCoords();var r=o.getBoundingRect(),i=n.oCoords.tl.x,c=n.oCoords.br.x,l=n.oCoords.tl.y,d=n.oCoords.br.y;r.left>=i&&c>=r.left+r.width&&d>=r.top+r.height&&r.top>=l?o.set({lastLeft:o.left,lastTop:o.top,lastScaleX:o.scaleX,lastScaleY:o.scaleY}).setCoords():o.set({left:o.lastLeft,top:o.lastTop,scaleX:o.lastScaleX,scaleY:o.lastScaleY}).setCoords(),e.renderAll()}},s.checkCropperMove=function(){if(s.state.cropActive){var e=s.state.canvas,t=e.getObjects(),a={};t&&t.length&&t.map((function(e,t){"image"==e.type&&(a=e)}));var n=a,o=e.getActiveObject();o.setCoords(),e.renderAll();var r=o.getBoundingRect(),i=n.oCoords.tl.x,c=n.oCoords.br.x,l=n.oCoords.tl.y,d=n.oCoords.br.y;r.left>=i&&c>=r.left+r.width?o.set({lastLeft:o.left,lastScaleX:o.scaleX}).setCoords():o.set({left:o.lastLeft,scaleX:o.lastScaleX,scaleY:o.lastScaleY}).setCoords(),d>=r.top+r.height&&r.top>=l?o.set({lastTop:o.top,lastScaleY:o.scaleY}).setCoords():o.set({top:o.lastTop,scaleX:o.lastScaleX,scaleY:o.lastScaleY}).setCoords(),e.renderAll()}},s.fontItalic=function(){var e=s.state.canvas,t=s.state.italic;!function(e,t){e.getActiveObject()&&(e.getActiveObject().set("fontStyle",t?"":"italic"),e.counter++,e.renderAll())}(e,t),t&&s.setState({italic:!1,text:""}),t||s.setState({italic:!0,text:""})},s.fontBold=function(){var e=s.state.canvas,t=s.state.bold;!function(e,t){e.getActiveObject()&&(e.getActiveObject().set("fontWeight",t?"":"bold"),e.counter++,e.renderAll())}(e,t),t&&s.setState({bold:!1,text:""}),t||s.setState({bold:!0,text:""})},s.deleteSelected=function(e){var t=s.state.canvas;!function(e){var t=e.getActiveObject();if(t&&t.video_src){var a=t.videoId,s=document.getElementById(a);s&&(e.remove(t),s.muted="muted",s.pause(),s.src="",s.removeAttribute("src"),s.parentNode.removeChild(s),e.renderAll(),console.log(e.getObjects()))}if(t){if(!t||!t.clipPath)return e.remove(t);var n=e.getObjects();n&&n.length&&n.map((function(a,s){"image"!==a.type&&a.maskname==t.maskname&&(e.remove(a),e.remove(t))}))}}(t),s.saveToJson();s.setState({clipSrc:""}),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1});var a=t.getActiveObject()?t.getActiveObject().type:"";s.props.getSelectedType(a),s.setState({selectedType:a}),s.props.sideBar2(!1),s.props.showFilters(!1),s.props.showAdjustments(!1),s.props.mainSideBarState(!0)},s.handleChange=function(){s.props.canvas;var e=document.querySelector(".canvas-inner-box"),t=(e.width,e.offsetWidth,document.querySelector("#sel").value);t=Number(t),[.3,.5,.6,.75,.85,.9,1,1.2,1.5,1.59,2.45].indexOf(t),e.style.transform="scale(".concat(t,")"),s.setState({zoom:t})},s.goFullScreen=function(){var e=document.getElementById(s.state.cid);e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},s.handleShowHide=function(){s.state.canvas;s.props.headerMenu({fileMenu:!1,showDownload:!1}),!1===s.state.showMainSideBar?s.props.mainSideBarState(!1):s.props.mainSideBarState(!0),s.props.backgroundState(!1)},s.handleToolBarShowHide=function(){s.state.canvas;"textbox"!==s.state.selectedType&&s.props.sideBar2(!1),s.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1}),s.props.showFilters(!1),s.props.showAdjustments(!1),s.props.mainSideBarState(!0)},s.handleScaleChange=function(e){var t=JSON.parse(sessionStorage.getItem("size"));console.log(t);var a=e.target.value;if(s.setState({zoom:e.target.value}),a.length>10)a[6],a[7],a[8],a[9];else a[6],a[7],a[8]},s.scaleMyCanvas=function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=s.state.canvas,n=e.target.value?e.target.value:s.state.zoom?s.state.zoom:.4;a.setDimensions({width:t?t.width*n:s.props.cWidth*n,height:t?t.height*n:s.props.cHeight*n}),a.setZoom(n),s.setState({zoom:n})},s.saveToJson=Object(re.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.canvas,a=t.toJSON(),e.next=4,a.objects.forEach((function(e){e.maskname&&(e.clipTo=null,e.fill=null)}));case 4:Gt.a.pack(sessionStorage.setItem("J-"+s.state.cid,JSON.stringify(a)));case 5:case"end":return e.stop()}}),e)})));localStorage.getItem("canvasId");var n=JSON.parse(sessionStorage.getItem("size")),r=JSON.parse(localStorage.getItem("useMe")),i=n?"scale("+n.zoomValue+")":"scale(0.4)";return s.myRef=o.a.createRef(),s.state={canvasId:s.props.match.params.id,cid:s.props.match.params.id,category:s.props.match.params.cg,canvas:"",canvasBackground:"",imgUrl:"",text:"",italic:!1,bold:!1,selectedType:"",zoom:n?i:"0.6",fabricObject:{},activeObjIndex:-1,localJ:"",undoButton:!1,redoButton:!1,cropActive:!1,defaultScale:"0.24",clipSrc:"",email:r?r.email:"",name:r?r.name:""},s.escFunction=s.escFunction.bind(Object(Ft.a)(s)),s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("contextmenu",(function(e){e.preventDefault()})),this.props.cropState(!1);var t=Gt.a.unpack(JSON.parse(sessionStorage.getItem("J-"+this.state.cid)));this.setState({localJ:t});var a,s=new J.fabric.Canvas(this.state.cid,{width:this.props.cWidth,height:this.props.cHeight,selection:!0,id:this.state.cid,backgroundColor:"#ffffff",preserveObjectStacking:!0,uniScaleTransform:!0,lockScalingFlip:!0,controlsAboveOverlay:!0,subTargetCheck:!0,hoverCursor:"pointer",stateful:!0},null,"anonymous");J.fabric.Object.prototype.set({padding:5,borderScaleFactor:2,cornerStrokeColor:"#7D7D7D",controlsAboveOverlay:!0}),J.fabric.Object.prototype.toObject=(a=J.fabric.Object.prototype.toObject,function(e){return e=(e||[]).concat(["maskname"]),a.apply(this,[e])}),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["myImage"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["isShape"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["isMask"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["myType"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["video_src"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["videoId"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["videoVolume"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Object.prototype.toObject=function(e){return function(t){return t=(t||[]).concat(["locked"]),e.apply(this,[t])}}(J.fabric.Object.prototype.toObject),J.fabric.Canvas.prototype.customiseControls({mtr:{action:"rotate",cursor:"pointer"}},(function(){s.renderAll()})),J.fabric.Object.prototype.customiseCornerIcons({settings:{borderColor:"#c00c41",cornerSize:12,cornerShape:"circle",cornerBackgroundColor:"#ffffff",cornerPadding:5,controlsAboveOverlay:!0},tl:{icon:""},tr:{icon:""},bl:{icon:""},br:{},mtr:{icon:"/img/reload.svg"}},(function(){s.renderAll()})),this.setState({canvas:s}),setTimeout((function(){var t=e.state.localJ;e.state.localJ;if(t){s.loadFromJSON(JSON.stringify(t),function(){s.renderAll.bind(t);for(var e=t.objects,a=0;a<e.length;a++)e[a].hasOwnProperty("video_src")&&Qe(s,e[a].video_src,e[a].left,e[a].top,e[a].scaleX,e[a].scaleY,a,e[a].opacity,e[a].flipX,e[a].flipY,e[a].locked)}(),function(){var e=Object(re.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.maskname&&"image"!==a.type&&s.bringForward(a),!(a&&a.maskname&&a.myImage)){e.next=5;break}return console.log("my Inside"),e.next=5,new Promise((function(e,t){if(a.maskname&&null==a.fill&&a.myImage){J.fabric.Object.prototype.transparentCorners=!1;var n=new Image;n.crossOrigin="anonymous",n.src=a.myImage,n.onload=function(e){var t=new J.fabric.Image(n,{});"heart"==a.maskname?t.scaleToWidth(700):"bili"===a.maskname?(t.scaleToWidth(700),t.scaleToHeight(1e3)):t.scaleToWidth(500);var o=new J.fabric.StaticCanvas;o.add(t),o.renderAll();var r=new J.fabric.Pattern({source:function(){return t.getScaledWidth()&&o.setDimensions({width:t.getScaledWidth()+0,height:t.getScaledHeight()+0}),o.renderAll(),o.getElement()},repeat:"no-repeat"});a.set({fill:r}),s.requestRenderAll()}}}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}var a=Math.min(1150/e.props.cWidth,560/e.props.cHeight);s.setDimensions({width:s.getWidth()*a,height:s.getHeight()*a}),s.setZoom(a),e.setState({defaultScale:a,zoom:a}),e.props.getCanvas(s)}),0),setTimeout((function(){}),500),document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"escFunction",value:function(e){if(e&&"F12"===e.code&&123===e.keyCode)return this.disabledEvent(e),!1;var t=this.state.canvas,a=t?t.getActiveObject():{};return document.onkeydown=function(e){switch(e.keyCode){case 38:t.getActiveObject()&&(t.getActiveObject().top-=5,t.renderAll());break;case 40:t.getActiveObject()&&(t.getActiveObject().top+=5,t.renderAll());break;case 37:t.getActiveObject()&&(t.getActiveObject().left-=5,t.renderAll());break;case 39:t.getActiveObject()&&(t.getActiveObject().left+=5,t.renderAll())}},-1!==navigator.appVersion.indexOf("Macintosh")?8!==e.keyCode&&46!==e.keyCode||(a&&"textbox"===a.type&&!0===a.hasControls&&"Delete"===e.key&&this.deleteSelected(e),a&&"textbox"!==a.type&&this.deleteSelected(e)):46===e.keyCode&&(a&&"textbox"===a.type&&!0===a.hasControls&&this.deleteSelected(e),a&&"textbox"!==a.type&&this.deleteSelected(e)),e&&"KeyC"===e.code&&67===e.keyCode&&1==e.ctrlKey&&t.getActiveObject()&&He(t),123===e.which?(this.disabledEvent(e),!1):void 0}},{key:"componentDidUpdate",value:function(e,t){var a,s,n=this,o=JSON.parse(sessionStorage.getItem("size")),r=this.state.canvas,i=(JSON.parse(sessionStorage.getItem("size")),r?r.getActiveObject():""),c=r.getObjects();if(c&&c.length&&c.map((function(e,t){e.maskname&&"image"!==e.type&&e.myImage&&e.fill,e.maskname&&"image"!==e.type&&e.isShape&&(a=e)})),i&&i._element&&(s=i._element?i._element.src:""),a&&!a._transformDone&&i&&"image"==i.myType&&s!==this.state.clipSrc&&(null==i.clipPath||void 0==i.clipPath)){this.setState({clipSrc:s});this.state.clipSrc,this.state.category;r.on("mouse:up",(function(e){if(e&&e.target&&e.target._originalElement&&"IMG"==e.target._originalElement.nodeName&&a){var t=e.e.offsetX,n=e.e.offsetY;if(t>a.left&&t<a.left+a.width&&n>a.top&&n<a.top+a.height)a&&(xe(r,s,a.left,a.top,0,a.maskname,a.scaleX,a.scaleY,a.width,a.height,a.radius),setTimeout((function(){r.remove(a),r.remove(i),s=""}),100));else{var o=e.target;if(o){o.setCoords();for(var c=r.getObjects().filter((function(e){return o!==e})),l=0,d=c.length;l<d;l++){var m=c[l];o.intersectsWithObject(m)&&(a&&(xe(r,s,a.left,a.top,0,a.maskname,a.scaleX,a.scaleY,a.width,a.height,a.radius),r.bringForward(o),setTimeout((function(){r.remove(a),r.remove(i),s=""}),100),s=""),!0)}}}}}))}var l;r.toJSON();if(i&&"image"==i.type&&i.maskname&&(r.on("mouse:up",(function(e){e.target})),r.on("mouse:dblclick",(function(e){e.target}))),r.on("object:scaling",(function(e){i&&"image"===i.type&&i.maskname&&i.set("minScaleLimit",.2)})),r.on("selection:updated",(function(e){if(r.getActiveObject()&&""!==r.getActiveObject().video_src){var t=r.getActiveObject(),a=t.videoId?t.videoId:"",s=r.getObjects();if(t&&t.video_src){if(t.videoVolume){(o=document.getElementById(a)).getAttribute("id");o.muted=!t.videoVolume}if(s&&s.length)for(var n=0;n<s.length;n++){var o,i=(o=document.getElementById(s[n].videoId?s[n].videoId:""))?o.getAttribute("id"):"";o&&i!==a&&(o.muted=!0)}}}})),r.getActiveObject()&&""!==r.getActiveObject().video_src){var d=r.getObjects().indexOf(r.getActiveObject());localStorage.setItem("v-position",d)}(this.state.cropActive&&(r.getActiveObject()&&"rect"!==r.getActiveObject().type&&(Ke(r),this.props.cropState(!1)),r.on("object:scaling",(function(e){r.getActiveObject()&&"rect"===r.getActiveObject().type&&void 0!==n.state.cropActive&&!1!==n.state.cropActive&&n.state.cropActive&&n.checkCropperScaling()})),r.on("object:moving",(function(e){"rect"===r.getActiveObject().type&&void 0!==n.state.cropActive&&!1!==n.state.cropActive&&n.state.cropActive&&n.checkCropperMove()}))),e.canvas!==t.canvas)&&(r.on("mouse:down",(function(e){if(r.getActiveObject()&&"group"==r.getActiveObject().type){var t,a=!1,s=r.getActiveObject();if(s&&s._objects)s._objects.map((function(e,t){e&&"textbox"!==e.type&&(a=!0)}));if(e.target){var o=e.target,i=r.getPointer(e.e);if(o.isType("group")){o.left,o.top;o.forEachObject((function(e,s){if("textbox"==e.type&&!a){var n=o.calcTransformMatrix(),c=J.fabric.util.transformPoint({y:e.top,x:e.left},n),l={xStart:c.x-e.width*e.scaleX/2,xEnd:c.x+e.width*e.scaleX/2,yStart:c.y-e.height*e.scaleY/2,yEnd:c.y+e.height*e.scaleY/2};if(i.x>=l.xStart&&i.x<=l.xEnd&&i.y>=l.yStart&&i.y<=l.yEnd){!function(e){t=e._objects,e._restoreObjectsState(),r.remove(e);for(var a=0;a<t.length;a++)"textbox"!=t[a]&&(t[a].selectable=!1),r.add(t[a]);r.renderAll()}(o),r.set("ungroupState","ungroup"),r.setActiveObject(e),e.enterEditing(),e.selectAll();var d=!0;e.on("editing:exited",(function(e){if(d){var a,s=[];t.forEach((function(e){s.push(e),r.remove(e)})),a=new J.fabric.Group(s,{}),r.add(a),r.set("ungroupState","group"),d=!1}}))}}}))}}}if(n.saveToJson(),l=r.getActiveObject()?r.getActiveObject().type:"",n.state.selectedType!==l){n.setState({selectedType:l}),"textbox"!==n.state.selectedType&&n.props.sideBar2(!1);n.props.toolsMenu({templateChange:!1}),n.props.getSelectedType(l)}console.log(e.e.clientX,e.e.clientY);var c=r.getObjects().indexOf(r.getActiveObject());if(c!==n.state.activeObjIndex){n.saveToJson();r.getActiveObject();n.props.activeObjectIndex(c),n.setState({activeObjIndex:c})}var d=r.getActiveObject();d&&d._objects&&d._objects.length>1&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),r.getActiveObject().minScaleLimit=.1)})),J.fabric.util.addListener(document.getElementsByClassName("upper-canvas")[0],"contextmenu",(function(e){e.preventDefault()})),r.getActiveObject()&&r.getActiveObject().type,r.on("mouse:up",(function(e){n.saveToJson(),r.getActiveObject()&&"textbox"==r.getActiveObject().type&&(r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!0,mr:!0}),r.getActiveObject().set("lockScalingFlip",!0),r.getActiveObject().lockUniScaling=!1,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().minScaleLimit=.2,r.getActiveObject().editingBorderColor="#c00c41",n.props.getSelectedType("textbox"))})),r.on("object:selected",(function(){var e=r.getActiveObject();e&&e._objects&&e._objects.length>1&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),r.getActiveObject().minScaleLimit=.1),r.getActiveObject()&&"textbox"==r.getActiveObject().type&&(r.getActiveObject().set("lockScalingFlip",!0),r.getActiveObject().lockUniScaling=!1,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().minScaleLimit=.2,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!0,mr:!0}),r.getActiveObject().editingBorderColor="#c00c41"),r.getActiveObject()&&"image"===r.getActiveObject().type&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),o&&o.width<500?r.getActiveObject().minScaleLimit=.01:r.getActiveObject().minScaleLimit=.1,n.props.getSelectedType("image")),r.getActiveObject()&&"image"!==r.getActiveObject().type&&"textbox"!==r.getActiveObject().type&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),r.getActiveObject().minScaleLimit=.1)})),r.on("object:scaling",(function(e){var t=r.getActiveObject();t&&t._objects&&t._objects.length>1&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),r.getActiveObject().minScaleLimit=.1),r.getActiveObject()&&"textbox"==r.getActiveObject().type&&(r.getActiveObject().set("lockScalingFlip",!0),r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().minScaleLimit=.2,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!0,mr:!0})),r.getActiveObject()&&"image"==r.getActiveObject().type&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),o&&o.width<500?r.getActiveObject().minScaleLimit=.01:r.getActiveObject().minScaleLimit=.1),!r.getActiveObject()||"image"===r.getActiveObject().type||"textbox"===r.getActiveObject().type||"rect"!=r.getActiveObject().type||"testing@yopmail.com"!=n.state.email&&"testingadmin@yopmail.com"!=n.state.email||(r.getActiveObject().lockUniScaling=!1,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!0,mb:!0,ml:!0,mr:!0}),r.getActiveObject().minScaleLimit=.1)})),r.getActiveObject()&&"image"!==r.getActiveObject().type&&"textbox"!==r.getActiveObject().type&&(r.getActiveObject().lockUniScaling=!0,r.getActiveObject().lockScalingFlip=!0,r.getActiveObject().setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1}),r.getActiveObject().minScaleLimit=.1))}},{key:"render",value:function(){var e=this,t=this.state.canvas;return o.a.createElement("div",{className:"right-canvas-section",onClick:function(){return e.handleShowHide()},id:"elem"},o.a.createElement(Zt,{canvas:t,fontBold:this.fontBold,fontItalic:this.fontItalic,deleteSelected:function(t){return e.deleteSelected(t)},objectSelected:this.state.selectedType,activeIndex:this.state.activeObjIndex}),o.a.createElement(zt,{name:this.state.name?this.state.name:""}),o.a.createElement(Jt,null),o.a.createElement("div",{className:"row",onClick:function(){return e.handleToolBarShowHide()}},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("div",{className:"canvas-box",ref:this.myRef,id:this.state.id},o.a.createElement("div",{className:"canvas-outer-box"},o.a.createElement("div",{className:"canvas-mid-box"},o.a.createElement("div",{className:"canvas-inner-box",id:"india"},o.a.createElement("div",null,o.a.createElement("canvas",{id:this.state.cid,ref:this.myRef})))))))),o.a.createElement("div",{className:"bottom-help"},o.a.createElement("div",{className:"help-box"},o.a.createElement("div",{className:"d-inline percentage-box"},o.a.createElement("ul",{className:"help-btn"},o.a.createElement("li",null,o.a.createElement("div",{className:"zoom-header"},o.a.createElement("select",{id:"sel",className:"select",onChange:function(t){return e.scaleMyCanvas(t)},value:this.state.zoom,name:"zoom"},o.a.createElement("option",{value:"0.1"},"10%"),o.a.createElement("option",{value:"0.2"},"20%"),o.a.createElement("option",{value:"0.3"},"25%"),o.a.createElement("option",{value:"0.4"},"40%"),o.a.createElement("option",{value:"0.5"},"50%"),o.a.createElement("option",{value:"0.6"},"60%"),o.a.createElement("option",{value:"0.75"},"75%"),o.a.createElement("option",{value:"0.85"},"85%"),o.a.createElement("option",{value:"0.9"},"90%"),o.a.createElement("option",{value:"1.0"},"100%"),o.a.createElement("option",{value:this.state.defaultScale},"Fit")))),o.a.createElement("li",null,o.a.createElement("span",{className:"d-inline resize-box"},o.a.createElement("img",{src:"/img/resize.png",onClick:this.goFullScreen})," ")))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas){e.canvas;a.canvas=e.canvas}return void 0!==e.cropActive&&""!==e.cropActive&&e.cropActive!==t.cropActive&&e.cropStateDate!==t.cropStateDate&&(a.cropActive=e.cropActive,a.cropStateDate=e.cropStateDate),void 0!==e.toolsState&&e.toolsState!==t.toolsState&&e.toolsState&&e.toolsState.cid&&(a.cid=e.toolsState.cid),void 0!==e.showMainSideBar&&e.showMainSideBar!==t.showMainSideBar&&(a.showMainSideBar=e.showMainSideBar),a}}]),a}(n.Component),Qt=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{},t.canvasBackground=a?a.backgroundColor:"",t.imgUrl=a?a.backgroundImg:"",t.text=a?a.Heading:"",t.textDate=new Date,t.objType=a?a.objectType:"",t.cropActive=!!a.cropState&&a.cropState,t.cropStateDate=new Date,t.toolsState=a.toolsState,t.showMainSideBar=a.mainSidebar),t}),(function(e){return Object(d.b)({setBackground:h,emptyData:M,getCanvas:v,getSelectedType:E,activeObjectIndex:S,undoRedo:w,headerMenu:C,sideBar2:f,toolsMenu:k,showFilters:b,showAdjustments:y,mainSideBarState:D,cropState:A,backgroundState:N},e)}))(Object(H.g)($t)),ea=a(189),ta=a(37),aa=a(49),sa=a.n(aa),na=a(61),oa=a.n(na),ra=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s,n;Object(X.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n.setState(Object(ie.a)({},e.target.name,a))},n.loadOnTemplate=function(e){var t={id:e};n.props.loadTemplate(t)},n.handleDelete=function(e){e&&n.props.deleteTemplate(e)},n.handleSearchClose=function(){var e={page:1,category:n.state.cg?n.state.cg:"cus"};n.props.getTemplates(e),n.setState({term:"",showLoader:!0,templateList:[],searchActive:!1,showTerm:""})},n.handleSubmit=function(e){if(e.preventDefault(),n.props.exportEmptyData(),n.state.term){var t={term:n.state.term,category:n.state.cg?n.state.cg:"cus",page:1};n.setState({templateList:[],searchActive:!0,showLoader:!0,showTerm:n.state.term}),n.props.getTemplates(t)}else{var a={page:1,category:n.state.cg?n.state.cg:"cus"};n.props.getTemplates(a),n.setState({templateList:[],searchActive:!1,showLoader:!0,showTerm:""})}};var o=JSON.parse(localStorage.getItem("useMe"));return n.state=(s={cg:n.props.match.params.cg,cid:n.props.match.params.id,canvas:"",canvasData:{},canvasObject:"",templateData:{},templateList:[],loadedTemplate:{},templateObject:"",showAll1:!1,loadedTemplateId:"",userEmail:o?o.email:"",term:"",showLoader:!1,page:1},Object(ie.a)(s,"showLoader",!1),Object(ie.a)(s,"totalPages",""),Object(ie.a)(s,"currentPage",1),Object(ie.a)(s,"hasMore",!0),Object(ie.a)(s,"scrolling",!1),Object(ie.a)(s,"loadMore",{}),Object(ie.a)(s,"showTerm",""),Object(ie.a)(s,"height",""),s),n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){"fac"===this.state.cg&&this.setState({height:"126px"}),"pos"===this.state.cg&&this.setState({height:"211px"}),"fly"===this.state.cg&&this.setState({height:"211px"}),"pre"===this.state.cg&&this.setState({height:"89px"}),"log"===this.state.cg&&this.setState({height:"156px"}),"soc"===this.state.cg&&this.setState({height:"149px"}),"ins"===this.state.cg&&this.setState({height:"265px"}),"you"===this.state.cg&&this.setState({height:"84px"}),"inp"===this.state.cg&&this.setState({height:"149px"});var e={category:this.state.cg?this.state.cg:"cus",page:1};this.setState({showLoader:!0}),this.props.getTemplates(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"templates-category mt-4"},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Template","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.term&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),o.a.createElement("div",{className:0!==this.state.templateList.length?"row mt-4":"row mt-2"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2 mb-4"},o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.templateList&&this.state.templateList.length>0&&this.state.templateList.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesignVideos",style:{height:e.state.height}},o.a.createElement("span",{className:""},("testing@yopmail.com"===e.state.userEmail||"testingadmin@yopmail.com"===e.state.userEmail)&&o.a.createElement("span",{className:"delete-btn",onClick:function(a){return e.handleDelete(t._id)}},o.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," "),o.a.createElement("img",{src:t.template_image,onClick:function(){return e.loadOnTemplate(t._id)}})))}))),this.state.templateList&&this.state.templateList.length<=0&&!this.state.showLoader&&this.state.searchActive&&o.a.createElement("span",{className:"error-text"},"Sorry, we couldn't find any template for \""," "+this.state.showTerm+" ",' " Try searching something related.'),this.state.templateList&&this.state.templateList.length<=0&&this.state.showLoader&&o.a.createElement("span",{className:"error-text",style:{textaAlign:"center"}},o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader})),this.state.templateList&&this.state.templateList.length&&this.state.showLoader&&this.state.scrolling&&o.a.createElement("span",{className:this.state.term?"noDisplay":"error-text",style:{textaAlign:"center"}},o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas?e.canvas:""),void 0!==e.templateData&&0==t.templateList.length?(e.exportEmptyData(),a.templateList=e.templateData.data?e.templateData.data:[],a.showLoader=!1,a.currentPage=e.templateData.meta?e.templateData.page:1,a.page=e.templateData?e.templateData.page:1,a.scrolling=!1,a.hasMore=!e.templateData||e.templateData.has_more):void 0!==e.templateData&&0!==t.templateList.length&&e.templateDataDate!==t.templateDataDate&&(e.exportEmptyData(),a.templateDataDate=e.templateDataDate,a.templateList=[].concat(Object(ta.a)(t.templateList),Object(ta.a)(e.templateData.data)),a.showLoader=!1,a.scrolling=!1,a.page=e.templateData?e.templateData.page:1,a.currentPage=e.templateData?e.templateData.page:1,a.hasMore=!e.templateData||e.templateData.has_more),void 0!==e.loadMore&&e.loadMore!==t.loadMore&&e.loadMoreDate!==t.loadMoreDate){if(a.loadMoreDate=e.loadMoreDate,a.loadMore=e.loadMore,1==a.loadMore.template&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&""==t.term){t.hasMore&&(a.page=t.currentPage+1);var s={page:a.page,term:t.term,category:t.cg?t.cg:"cus"};t.hasMore&&!t.showLoader&&(a.showLoader=!0,a.scrolling=!0,e.getTemplates(s))}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.term){t.hasMore&&(a.page=t.currentPage+1);var n={page:a.page,term:t.term,category:t.cg?t.cg:"cus"};t.hasMore&&!t.showLoader&&(a.showLoader=!0,a.scrolling=!0,e.getTemplates(n))}}if(void 0!==e.loadedTemplate&&e.loadedTemplate!==t.loadedTemplate&&e.loadDate!==t.loadDate){for(var o in a.loadedTemplate=e.loadedTemplate,a.templateObject=e.loadedTemplate?e.loadedTemplate.template:"",a.loadedTemplateId=e.loadedTemplate?e.loadedTemplate._id:"",sessionStorage)o[0]+o[1]=="J-"&&sessionStorage.removeItem(o);var r=JSON.parse(e.loadedTemplate.template_size);a.cg=e.loadedTemplate?e.loadedTemplate.category:"cus";var i=e.loadedTemplate?e.loadedTemplate.category:"cus";sessionStorage.setItem("LTID",e.loadedTemplate._id),r&&sessionStorage.setItem("size",JSON.stringify(r));var c=JSON.parse(a.templateObject),l=a.canvas.getObjects();if(l&&l.length)for(var d=0;d<=l.length;d++){var m=document.querySelector("video");m&&(m.muted="muted",m.pause(),m.src="",m.removeAttribute("src"),m.parentNode.removeChild(m))}a.canvas.loadFromJSON(JSON.stringify(c),(function(){a.canvas.renderAll.bind(c);for(var e=c.objects,t=0;t<e.length;t++)e[t].hasOwnProperty("video_src")&&Qe(a.canvas,e[t].video_src,e[t].left,e[t].top,e[t].scaleX,e[t].scaleY,t,e[t].opacity,e[t].flipX,e[t].flipY)}),(function(e,t){t&&t.maskname&&"image"!==t.type&&t.set("selectable",!1)}));var p=Math.random().toString(36).substring(7),u=Object(se.a)(),h={showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1,templateChange:!0,category:i,cid:u,template:!0,myDesign:!1};Gt.a.pack(sessionStorage.setItem("J-"+u,a.templateObject)),a.cid=u,e.toolsMenu(h),e.getCanvas(a.canvas),e.sideBar2(!1),e.showFilters(!1),e.showAdjustments(!1),e.history.push("/design/".concat(u,"/edit/").concat(i,"&cat=").concat(p))}return a}}]),a}(n.Component),ia=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{},t.loadMore=a?a.scrollData:{},t.loadMoreDate=new Date),"LOAD_CANVAS"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):t.canvasData=e.CanvasExternalReducer.data),"GET_TEMPLATES"===e.TemplateReducer.action&&(200!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.templateData=e.TemplateReducer.data,t.templateDataDate=new Date)),"LOAD_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.loadedTemplate=e.TemplateReducer.data,t.loadDate=new Date)),"DELETE_TEMPLATE"===e.TemplateReducer.action&&("200"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.templateData=e.TemplateReducer.data),"SEARCH_TEMPLATE"===e.TemplateReducer.action&&("200"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.templateData=e.TemplateReducer.data),t}),(function(e){return Object(d.b)({loadCanvas:ot,getTemplates:wt,loadTemplate:St,deleteTemplate:kt,templateSearch:Nt,getCanvas:v,toolsMenu:k,showAdjustments:y,showFilters:b,sideBar2:f,getSelectedType:E,exportEmptyData:jt},e)}))(Object(H.g)(ra)),ca=(a(1017),he),la="9ItoTOsAgNSyvvOeiWvf6krcO4hPYORmvM9hDPhbt-w",da="9uXOsHo2kJhZdADKOLD59smlB19747Of",ma=ue.a.create();function pa(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"photos/back-images",e).then((function(e){t({type:"GET_BACK_IMAGES",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_BACK_IMAGES",payload:e.response.data})}))}}function ua(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"photos/background-images",e).then((function(e){t({type:"GET_BACKGROUND_IMAGES",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_BACKGROUND_IMAGES",payload:e.response.data})}))}}function ha(){var e=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+e,function(e){ma.get(ca+"photos/svg-images").then((function(t){e({type:"GET_SVG_IMAGES",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_SVG_IMAGES",payload:t.response.data})}))}}function ga(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"uploads/upload-img",e||{}).then((function(e){t({type:"UPLOAD_USER_IMAGE",payload:e.data})})).catch((function(e){e.response&&t({type:"UPLOAD_USER_IMAGE",payload:e.response.data})}))}}function va(){var e=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+e,function(e){ma.post(ca+"uploads/user-uploads").then((function(t){e({type:"GET_USER_UPLOAD_IMAGE",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_USER_UPLOAD_IMAGE",payload:t.response.data})}))}}function fa(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.delete(ca+"uploads/delete-uploads/".concat(e)).then((function(e){t({type:"DELETE_USER_UPLOAD_IMAGE",payload:e.data})})).catch((function(e){e.response&&t({type:"DELETE_USER_UPLOAD_IMAGE",payload:e.response.data})}))}}function ba(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"search/p-search",e||{}).then((function(e){t({type:"SEARCH_PHOTOS",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_PHOTOS",payload:e.response.data})}))}}function Ea(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"search/b-search",e||{}).then((function(e){t({type:"SEARCH_BACKGROUND",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_BACKGROUND",payload:e.response.data})}))}}function ya(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"search/e-search",e||{}).then((function(e){t({type:"SEARCH_ELEMENTS",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_ELEMENTS",payload:e.response.data})}))}}function Sa(e){return function(t){ma.get("https://api.unsplash.com/photos?client_id=".concat(la,"&w=1500&page=").concat(e.page,"&per_page=20&order_by=popular")).then((function(e){t({type:"GET_UNSPLASH_IMAGES",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_UNSPLASH_IMAGES",payload:e.response.data})}))}}function wa(e){return function(t){ma.get("https://api.giphy.com/v1/stickers/trending?api_key=".concat(da,"&limit=400&offset=").concat(e.page)).then((function(e){t({type:"GET_GIPHY_IMAGES",payload:e.data})})).catch((function(e){e.response&&t({type:"GET_GIPHY_IMAGES",payload:e.response.data})}))}}function Ca(e){return function(t){ma.get("https://api.unsplash.com/search/photos?client_id=".concat(la,"&w=1500&page=").concat(e.page,"&per_page=50&query=").concat(e.query)).then((function(e){t({type:"SEARCH_UNSPLASH_PHOTOS",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_UNSPLASH_PHOTOS",payload:e.response.data})}))}}function ka(e){return function(t){ma.get("https://api.giphy.com/v1/stickers/search?api_key=".concat(da,"&q=").concat(e.term,"&limit=50&offset=").concat(e.page,"&rating=G&lang=en")).then((function(e){t({type:"SEARCH_GIPHY_IMAGES",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_GIPHY_IMAGES",payload:e.response.data})}))}}function Da(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}function Aa(e){return function(t){ma.get("https://api.unsplash.com/search/photos?client_id=".concat(la,"&w=1500&page=").concat(e.page,"&per_page=30&query=").concat(e.query)).then((function(e){t({type:"SEARCH_UNSPLASH_BACKGROUND",payload:e.data})})).catch((function(e){e.response&&t({type:"SEARCH_UNSPLASH_BACKGROUND",payload:e.response.data})}))}}function Oa(){var e=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+e,function(e){ma.get(ca+"photos/shapes-in").then((function(t){e({type:"GET_SHAPES",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_SHAPES",payload:t.response.data})}))}}function Na(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"uploads/upload-v",e||{}).then((function(e){t({type:"UPLOAD_USER_VIDEO",payload:e.data})})).catch((function(e){e.response&&t({type:"UPLOAD_USER_VIDEO",payload:e.response.data})}))}}function Ta(){var e=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+e,function(e){ma.post(ca+"uploads/user-v").then((function(t){e({type:"GET_USER_UPLOAD_VIDEOS",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_USER_UPLOAD_VIDEOS",payload:t.response.data})}))}}function ja(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.delete(ca+"uploads/delete-v/".concat(e)).then((function(e){t({type:"DELETE_USER_UPLOAD_VIDEO",payload:e.data})})).catch((function(e){e.response&&t({type:"DELETE_USER_UPLOAD_VIDEO",payload:e.response.data})}))}}function _a(e){return ma.defaults.headers.common.Authorization="563492ad6f91700001000001d9a2a812225f4e7ca208104183a644aa",function(t){ma.get("https://api.pexels.com/videos/popular?per_page=".concat(e.per_page,"&page=").concat(e.page,"&min-duration=").concat(e.minDuration,"&max-duration=").concat(e.maxDuration)).then((function(e){t({type:"VIDEO_LIST",payload:e.data})})).catch((function(e){e.response&&t({type:"VIDEO_LIST",payload:e.response.data})}))}}function xa(e){return ma.defaults.headers.common.Authorization="563492ad6f91700001000001d9a2a812225f4e7ca208104183a644aa",function(t){ma.get("https://api.pexels.com/videos/search?query=".concat(e.query,"&per_page=").concat(e.per_page,"&page=").concat(e.page,"&min-duration=").concat(e.minDuration,"&max-duration=").concat(e.maxDuration)).then((function(e){t({type:"VIDEO_SEARCH",payload:e.data})})).catch((function(e){e.response&&t({type:"VIDEO_SEARCH",payload:e.response.data})}))}}function Ia(e){var t=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+t,function(t){ma.post(ca+"video/videos",e||{}).then((function(e){t({type:"PEXEL_VIDEO",payload:e.data})})).catch((function(e){e.response&&t({type:"PEXEL_VIDEO",payload:e.response.data})}))}}function La(){var e=JSON.parse(localStorage.getItem("access-token"));return ma.defaults.headers.common.Authorization="Bearer "+e,function(e){ma.get(ca+"photos/mask-in").then((function(t){e({type:"GET_MASK",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_MASK",payload:t.response.data})}))}}ma.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"authorization_fail"!=t&&"Your account has been deactivated"!=t||(we(),console.log(t)),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var Ma=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;Object(X.a)(this,a),(s=t.call(this,e)).showOpenFileDlg=function(){s.inputOpenFileRef.current.click()},s.handleDelete=function(e){e&&s.props.deleteUserImageUploads(e)},s.handleDeleteVideo=function(e){e&&s.props.deleteUserVideoUploads(e)},s.addImageToCanvas=function(e){if(s.state.userEmail&&"testingadmin@yopmail.com"===s.state.userEmail){var t=s.state.canvas;s.state.cg&&s.state.cg;Fe(t,e)}else{Me(s.state.canvas,e,s.state.cg?s.state.cg:""),s.props.getSelectedType("image")}},s.addVideoToCanvas=function(e){Qe(s.state.canvas,e)},s.showImages=function(){s.setState({viewTab:"images",viewVideos:!1}),s.props.closeUploads(!1)},s.showVideos=function(){s.setState({viewTab:"video",viewImages:!1}),s.props.closeUploads(!0)},s.setBackgroundAdmin=function(e){if(s.state.userEmail&&"testingadmin@yopmail.com"===s.state.userEmail){var t=s.state.canvas;s.state.cg&&s.state.cg;Fe(t,e)}},s.uploadPhotoAdmin=function(e){s.state.userEmail&&"testingadmin@yopmail.com"===s.state.userEmail&&(Me(s.state.canvas,e,s.state.cg?s.state.cg:""),s.props.getSelectedType("image"))};var n=JSON.parse(localStorage.getItem("useMe"));return s.inputOpenFileRef=o.a.createRef(),s.state={cg:s.props.match.params.cg,file:"",userId:n?n._id:"",userEmail:n?n.email:"",uploadsData:{},imageList:[],canvas:"",viewImages:!0,viewVideos:!1,viewTab:"images",videoUploads:{},videoList:[],showLoader:!1,isUploading:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.imageList;e&&e.length&&this.setState({imageList:e}),this.props.getUserVideos()}},{key:"handleClick",value:function(e){}},{key:"_handleImageChange",value:function(e){var t;e.preventDefault();var a=e.target.files[0];if(a&&a.size>5e7)alert("File is too big!");else{var s=a?a.name.split(".").pop():"";if(this.setState({file:a}),"png"==s||"jpg"==s||"jpeg"==s){var n=new FileReader;if(n.onloadend=function(){n.result,t=n.result.split(",")[1],atob(t)},a&&n.readAsDataURL(a),a){var o=new FormData;o.append("image",a),o.append("userId",this.state.userId),o.append("category","user upload"),this.setState({showLoader:!0,isUploading:!0}),this.props.exportEmptyData(),this.props.uploadUserImage(o)}}else if(a)if("mp4"==s||"mov"==s||"webm"==s){var r=new FormData;r.append("video",a),r.append("userId",this.state.userId),r.append("category","user upload"),this.setState({showLoader:!0,isUploading:!0}),this.props.uploadUserVideo(r)}else alert("File not supported!")}}},{key:"render",value:function(){var e=this;console.log(this.state.showLoader);this.state.canvas;return o.a.createElement("div",{className:"uploads-category mt-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("button",{type:"upload",className:"btn btn-primary image-video w-100",onClick:this.showOpenFileDlg,disabled:!!this.state.isUploading},"Upload an image or video",o.a.createElement("input",{type:"file",ref:this.inputOpenFileRef,onChange:function(t){return e._handleImageChange(t)},accept:"image/png, image/jpeg, image/jpg, video/mp4, video/webm, video/quicktime",style:{display:"none"},id:"fileUpload"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"nav nav-tabs mt-2",id:"myTab",role:"tablist"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"images"==this.state.viewTab?"nav-link active":"nav-link",onClick:function(){return e.showImages("images")}},"Images")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"video"==this.state.viewTab?"nav-link active":"nav-link",onClick:function(){return e.showVideos("video")}},"Videos"))),o.a.createElement("div",{className:"tab-content",id:"myTabContent"},"images"==this.state.viewTab&&o.a.createElement("div",{className:"tab-pane fade show active",id:"upload-images"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},this.state.imageList&&0==this.state.imageList.length&&o.a.createElement("div",{className:"text-no-img mt-3"},o.a.createElement("span",null,"No Image")),o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader}),o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.imageList&&this.state.imageList.length>0&&this.state.imageList.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesign"},o.a.createElement("span",{className:""},o.a.createElement("span",{className:"delete-btn",onClick:function(a){return e.handleDelete(t._id)}},o.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," "),o.a.createElement("img",{src:t.image_url,onClick:function(){return e.addImageToCanvas(t?t.image_url:"")},crossOrigin:"anonymous"})),"testingadmin@yopmail.com"===e.state.userEmail&&o.a.createElement("ul",null,o.a.createElement("li",{onClick:function(){return e.setBackgroundAdmin(t?t.image_url:"")}},"background"),o.a.createElement("li",{onClick:function(){return e.uploadPhotoAdmin(t?t.image_url:"")}},"upload")))})))))),"video"==this.state.viewTab&&o.a.createElement("div",{className:"tab-pane show active"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},this.state.videoUploads&&this.state.videoList&&0===this.state.videoList.length&&o.a.createElement("div",{className:"text-no-img mt-3"},o.a.createElement("span",{style:{color:"#ffffff"}},"No Video")),o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader}),o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.videoUploads&&this.state.videoList&&this.state.videoList.length>0&&this.state.videoList.map((function(t,a){return o.a.createElement("div",{className:"myDesign",key:a},o.a.createElement("span",{className:""},o.a.createElement("span",{className:"delete-btn",onClick:function(a){return e.handleDeleteVideo(t._id)}},o.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," "),o.a.createElement("span",{className:"",onClick:function(){return e.addVideoToCanvas(t?t.video_url:"")}},o.a.createElement("video",{key:a,muted:!0,name:"displayFor",style:{width:"100%",cursor:"pointer",height:"100%",display:"block"},onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()},src:t.video_url?t.video_url:""}))))}))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas&&e.canvas!==t.canvas&&(a.canvas=e.canvas),void 0!==e.uploadsData&&"200"==e.uploadsData.status&&e.uploadsData!==t.uploadsData){if(a.uploadsData=e.uploadsData,a.imageList=e.uploadsData?e.uploadsData.data:[],a.imageList&&a.imageList.length){var s=a.imageList;a.imageList=s}1==e.uploadImage&&(a.viewImages=!0,e.closeUploads(!1),a.viewVideos=!1,a.viewTab="images",a.showLoader=!1),e.deletedSuccess}if(void 0!==e.videoUploads&&"200"==e.videoUploads.status&&e.videoUploads!==t.videoUploads){a.videoUploads=e.videoUploads,e.videoUploads&&e.videoUploads.data,1==e.uploadedVideo&&(a.viewVideos=!0,a.viewImages=!1,a.showLoader=!1,e.closeUploads(!0),a.viewTab="video"),a.videoList=e.videoUploads?e.videoUploads.data:[],a.videoList&&a.videoList.length}return void 0!==e.isUpload&&e.isUpload!==t.isUpload&&(a.isUploadDate=e.isUploadDate,0==e.isUpload&&(a.viewTab="images",a.isUploading=!1),1==e.isUpload&&(a.viewTab="video",a.isUploading=!1)),a}}]),a}(n.Component),Ra=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return void 0!==e.CanvasReducer&&(t.canvas=e.CanvasReducer.canvasData,t.isUpload=!!a&&a.isUpload,t.isUploadDate=new Date),"GET_USER_UPLOAD_IMAGE"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.uploadsData=e.SidebarReducer.data),"UPLOAD_USER_IMAGE"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.uploadsData=e.SidebarReducer.data,t.uploadImage=!0)),"DELETE_USER_UPLOAD_IMAGE"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.uploadsData=e.SidebarReducer.data,t.deletedSuccess=!0)),"UPLOAD_USER_VIDEO"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.videoUploads=e.SidebarReducer.data,t.uploadedVideo=!0)),"GET_USER_UPLOAD_VIDEOS"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.videoUploads=e.SidebarReducer.data),"DELETE_USER_UPLOAD_VIDEO"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.videoUploads=e.SidebarReducer.data),t}),(function(e){return Object(d.b)({uploadUserImage:ga,getUserUploadImage:va,deleteUserImageUploads:fa,exportEmptyData:Da,getSelectedType:E,uploadUserVideo:Na,getUserVideos:Ta,deleteUserVideoUploads:ja,closeUploads:x},e)}))(Object(H.g)(Ma)),Pa=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).showAllPhotos=function(e){"un"==e&&s.setState({showAll2:!s.state.showAll2,term:"Unsplash"}),s.setState({showAll2:!s.state.showAll2,searchPhotos:"Recently Used"})},s.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.handleSearchClose=function(){s.props.getBackImages({page:1,query:"random"}),s.setState({term:"",showAll2:!1,page:1,unsplashImages:[],photosData:[],searchActive:!1,errormsg:"",loading:!0}),s.props.exportEmptyData()},s.showImage=function(e,t){Le(e,t,s.state.cg),s.props.getSelectedType(""),s.props.getSelectedType("image")},s.handleSubmit=function(e){if(e.preventDefault(),s.state.term){var t={page:1,query:s.state.term};s.setState({errormsg:s.state.term,searchActive:!0}),s.props.getBackImages(t)}else{s.setState({errormsg:"",searchActive:!1}),s.props.getBackImages({page:1,query:"random"})}s.setState({unsplashImages:[],photosData:[],loading:!0})},s.state={cg:s.props.match.params?s.props.match.params.cg:"cus",showAll2:!1,photos:[1,2,3,4,5,6,6],searchPhotos:"",canvas:"",photosData:[],term:"",unsplashImages:[],unsplashFirstTwo:[],key:"",loadMore:{},page:1,searchActive:!1,loading:!1,errormsg:""},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var e={page:this.state.page,query:this.state.term?this.state.term:"random"};this.props.getBackImages(e)}},{key:"render",value:function(){var e=this.state.canvas;return o.a.createElement("div",{className:"photos-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Photos","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.searchActive&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),this.state.photosData&&o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"}," ",this.state.searchActive?"":"Trending")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.photosData&&this.state.photosData.length>0&&this.state.photosData.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesignVideos",id:"images",style:{cursor:"pointer"},onClick:function(){return Le(e,t.image_url)}},o.a.createElement("span",null,o.a.createElement("img",{src:t.image_url,draggable:"true"})))}))),this.state.photosData&&0==this.state.photosData.length&&this.state.searchActive&&!this.state.loading&&o.a.createElement("span",{className:this.state.searchActive?"error-text":"noDisplay"},"Sorry, we couldn't find any photos for \""," "+this.state.errormsg+" ",' " Try searching something related.'),this.state.photosData&&0==this.state.photosData.length&&this.state.loading&&o.a.createElement("span",{className:this.state.loading?"error-text":"noDisplay"},o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.loading})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.exportEmptyData();var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas),void 0!==e.photosData&&0==t.photosData.length?(e.exportEmptyData(),a.photosData=e.photosData?e.photosData.data:[],a.loading=!1):void 0!==e.photosData&&e.unsplashImages!==t.photosData&&0!==t.photosData.length&&e.photosDataDate!==t.photosDataDate&&(a.photosDataDate=e.photosDataDate,a.photosData=[].concat(Object(ta.a)(t.photosData),Object(ta.a)(e.photosData.data))),void 0!==e.loadMore&&e.loadMore!==t.loadMore){if(a.loadMore=e.loadMore,1==a.loadMore.photos&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&""==t.term){a.page=a.loadMore.page;var s={page:a.page,query:"random"};e.getBackImages(s)}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.term){a.page=a.loadMore.page;var n={page:a.page,query:t.term};e.getBackImages(n)}}return a}}]),a}(n.Component),Ua=Object(V.b)((function(e){var t={};if("GET_BACK_IMAGES"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.photosData=e.SidebarReducer.data,t.photosDataDate=new Date)),"GET_UNSPLASH_IMAGES"==e.SidebarReducer.action&&(e.SidebarReducer.data&&e.SidebarReducer.data.length<=0?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.unsplashImages=e.SidebarReducer.data,t.unsplashImagesDate=new Date)),"SEARCH_UNSPLASH_PHOTOS"==e.SidebarReducer.action&&(e.SidebarReducer.data&&e.SidebarReducer.data.length<=0?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.unsplashImages=e.SidebarReducer.data.results,t.unsplashImagesDate=new Date)),"SEARCH_PHOTOS"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.photosData=e.SidebarReducer.data.data),void 0!==e.CanvasReducer){var a=e.CanvasReducer;t.canvas=e.CanvasReducer.canvasData,t.loadMore=a?a.scrollData:{}}return t}),(function(e){return Object(d.b)({getBackImages:pa,photosSearch:ba,getUnsplashImages:Sa,unsplashPhotosSearch:Ca,scrollState:O,exportEmptyData:Da,getSelectedType:E,toolsMenu:k},e)}))(Object(H.g)(Pa));localStorage.getItem("canvasId"),JSON.parse(sessionStorage.getItem("size"));function Fa(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Line([10,10,100,100],{fill:"#696969",stroke:"#696969",left:200,top:200,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}var Ba=new Array([{x:-100,y:-50},{x:100,y:-50},{x:150,y:50},{x:-150,y:50}],[{x:850,y:75},{x:958,y:137.5},{x:958,y:262.5},{x:850,y:325},{x:742,y:262.5},{x:742,y:137.5}],[{x:0,y:0},{x:100,y:50},{x:200,y:0},{x:150,y:100},{x:200,y:200},{x:100,y:150},{x:0,y:200},{x:50,y:100},{x:0,y:0}],[{x:350,y:75},{x:380,y:160},{x:470,y:160},{x:400,y:215},{x:423,y:301},{x:350,y:250},{x:277,y:301},{x:303,y:215},{x:231,y:161},{x:321,y:161}]);function Ga(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Polygon(Ba[0],{top:200,left:200,fill:"#dedede",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}function za(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Rect({left:200,top:200,width:300,height:300,objectCaching:!1,stroke:"#dedede",strokeWidth:8,fill:"",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}function Va(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Circle({radius:70,fill:"",top:200,left:200,stroke:"#dedede",strokeWidth:4,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}function Ha(e,t,a,s){var n,o=JSON.parse(sessionStorage.getItem("size"));if(t){var r="gif"+Math.random(),i=document.createElement("img");i.crossOrigin="anonymous",i.setAttribute("crossOrigin","anonymous"),i.src=t,i.width=a,i.height=s,i.setAttribute("id",r),document.getElementById("body").appendChild(i).style.display="none";var c=document.getElementById(r);if(c.loop=!0,c){var l=new J.fabric.Image(c,{left:200,top:220,objectCaching:!1,crossOrigin:"anonymous",width:520,height:520,lockScalingFlip:!0,backgroundColor:0,backgroundImage:0,imageType:"giphy",lockUniScaling:!0,minScaleLimit:.1});J.fabric.Object.prototype.toObject=(n=J.fabric.Object.prototype.toObject,function(e){return J.fabric.util.object.extend(n.call(this,e),{imageType:"giphy"})}),o&&o.width<500&&(l.scaleToWidth(o?o.width:e.getWidth()-250),l.scaleToHeight(o?o.height:e.getHeight()-350),l.set("scaleX",.1),l.set("scaleY",.1)),l.crossOrigin="anonymous",l.imageType="giphy",l.setControlsVisibility({mt:!1,mb:!1}),e.setActiveObject(l),e.add(l),J.fabric.util.requestAnimFrame((function t(){J.fabric.util.requestAnimFrame(t),e.renderAll()})),l.viewportCenter(),setTimeout((function(){e.requestRenderAll()}),0)}}}var Ja=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.handleSearchClose=function(){s.setState({term:"",key:"",ghipyList:[],searchActive:!1});s.props.getGiphy({page:0})},s.addGiphyOnCanvas=function(e,t,a,n){Ha(e,t,a,n),s.props.getSelectedType("giphy")},s.handleSubmit=function(e){if(e.preventDefault(),s.props.exportEmptyData(),s.state.term){var t={term:s.state.term,page:0};s.props.giphySearch(t)}else{var a={page:s.state.page};s.props.getGiphy(a)}s.setState({ghipyList:[],searchActive:!0})},s.state={showAll2:!1,photos:[1,2,3,4,5,6,6],searchPhotos:"",canvas:"",photosData:[],term:"",unsplashImages:[],unsplashFirstTwo:[],key:"",loadMore:{},page:0,ghipyList:s.props.list,showGhipy:!1,searchActive:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.exportEmptyData();this.state.page;this.state.ghipyList&&this.state.ghipyList.length}},{key:"render",value:function(){var e=this,t=this.state.canvas;return o.a.createElement("div",{className:"photos-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Stickers","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.term&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},this.state.searchActive?"":"Trending")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section stickers"},!this.state.showGhipy&&this.state.ghipyList&&this.state.ghipyList.length&&this.state.ghipyList.map((function(a,s){return o.a.createElement("li",{className:"mb-3",onClick:function(){return e.addGiphyOnCanvas(t,a.images.fixed_width.webp,a.images.fixed_width.width,a.images.fixed_width.height)},key:s},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:a.images.fixed_width_still.url})))})),this.state.ghipyList&&this.state.ghipyList.length<=0&&this.state.term&&o.a.createElement("li",{className:"mb-2 width-100-li"},o.a.createElement("span",null,"Sorry, we couldn't find any photos for \""," "+this.state.term+" ",' " Try searching something related.'))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.exportEmptyData();var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas),void 0!==e.loadMore&&e.loadMore!==t.loadMore){if(a.loadMore=e.loadMore,1==a.loadMore.giphy&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&""==t.term){a.page=a.loadMore.page;var s={page:a.page};e.getGiphy(s)}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.term){a.page=a.loadMore.page;var n={page:a.page,term:t.term};e.giphySearch(n)}}return void 0!==e.ghipyData&&t.ghipyList&&0==t.ghipyList.length?a.ghipyList=e.ghipyData:void 0!==e.ghipyData&&e.ghipyData!==t.ghipyList&&0!==t.ghipyList.length&&e.giphyListDate!==t.giphyListDate&&(a.giphyListDate=e.giphyListDate,a.ghipyList=[].concat(Object(ta.a)(t.ghipyList),Object(ta.a)(e.ghipyData))),a}}]),a}(n.Component),Ya=Object(V.b)((function(e){var t={};if("GET_GIPHY_IMAGES"==e.SidebarReducer.action&&(e.SidebarReducer.data.meta&&200!==e.SidebarReducer.data.meta.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.ghipyData=e.SidebarReducer.data.data,t.giphyListDate=new Date)),"SEARCH_GIPHY_IMAGES"==e.SidebarReducer.action&&(e.SidebarReducer.data.meta&&200!==e.SidebarReducer.data.meta.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.ghipyData=e.SidebarReducer.data.data,t.giphyListDate=new Date)),void 0!==e.CanvasReducer){var a=e.CanvasReducer;t.canvas=e.CanvasReducer.canvasData,t.loadMore=a?a.scrollData:{}}return t}),(function(e){var t;return Object(d.b)((t={getGiphy:wa,scrollState:O,giphySearch:ka,exportEmptyData:Da},Object(ie.a)(t,"exportEmptyData",Da),Object(ie.a)(t,"getSelectedType",E),t),e)}))(Object(H.g)(Ja)),Wa=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).showAllElements=function(){s.setState({showAll1:!0,showSvg:!1,showGhipy:!1,key:"shapes",term:"shapes"})},s.showAllSvgElements=function(){s.setState({showSvg:!s.state.showSvg,showAll1:!1,showGhipy:!1,key:"svg",term:"Featured"})},s.showAllMask=function(){s.setState({showMask:!s.state.showMask,showAll1:!1,showSvg:!1,showGhipy:!1,key:"mask",term:"Pattern Fills"})},s.showAllGhipy=function(){s.setState({showGhipy:!0,showAll1:!1,showSvg:!1,key:"giphy",term:"Stickers"})},s.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.addShapes=function(e){var t=s.state.canvas;"triangle"===e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Triangle({left:200,top:200,width:200,height:200,fill:"#dedede",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"circle"===e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Circle({radius:70,fill:"#dedede",top:200,left:200,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"square"===e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Rect({left:200,top:200,fill:"#dedede",width:250,height:250,objectCaching:!1,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"line"==e&&Fa(t),"ellipse"===e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Ellipse({top:200,left:200,rx:75,ry:50,lockScalingFlip:!0,lockUniScaling:!0,fill:"#dedede",minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"poly1"==e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Polygon(Ba[1],{top:180,left:200,fill:"#dedede",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"star1"==e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Polygon(Ba[2],{top:200,left:200,fill:"#dedede",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});if(t&&t.width<500){var s=JSON.parse(sessionStorage.getItem("size"));a.scaleToWidth(s?s.width:e.getWidth()-250),a.scaleToHeight(s?s.height:e.getHeight()-350)}e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"star2"==e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Polygon(Ba[3],{top:200,left:200,fill:"#dedede",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"star3"==e&&Ga(t),"sFrame"==e&&za(t),"polyFrame"==e&&function(e){var t=JSON.parse(sessionStorage.getItem("size")),a=new J.fabric.Polygon(Ba[1],{top:180,left:200,fill:"",stroke:"#dedede",strokeWidth:8,lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1});t&&t.width<500&&(a.scaleToWidth(t?t.width:e.getWidth()-250),a.scaleToHeight(t?t.height:e.getHeight()-350)),e.add(a),e.setActiveObject(a),a.viewportCenter()}(t),"circleFrame"==e&&Va(t),s.props.getSelectedType(e)},s.addMask=function(e){var t=s.state.cg;console.log("cat",t);var a=s.state.canvas;"triangle"===e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Triangle({width:400,height:400,fixed:!0,fill:"",scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"triangle",isShape:"triangle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Triangle({width:400,height:400,fixed:!0,fill:"",scaleX:1,scaleY:1,maskname:"triangle",isShape:"triangle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"circle"===e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Circle({radius:160,fill:"",scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,originX:"center",originY:"center",maskname:"circle",isShape:"circle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Circle({radius:160,fill:"",scaleX:1,scaleY:1,maskname:"circle",isShape:"circle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.setActiveObject(a),e.renderAll()}(a,t),"rect"===e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Rect({width:400,height:200,fixed:!0,fill:"",scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"rect",isShape:"circle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Rect({width:400,height:200,fixed:!0,fill:"",scaleX:1,scaleY:1,maskname:"rect",isShape:"circle",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"line"==e&&Fa(a),"ellipse"===e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Ellipse({rx:175,ry:100,width:300,height:300,fixed:!0,fill:"",scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"ellipse",isShape:"ellipse",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Ellipse({rx:175,ry:100,width:300,height:300,fixed:!0,fill:"",scaleX:1,scaleY:1,isShape:"ellipse",maskname:"ellipse",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"polygon"==e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Polygon(_e[1],{fill:"",fixed:!0,scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"polygon",isShape:"polygon",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Polygon(_e[1],{fill:"",fixed:!0,scaleX:1,scaleY:1,maskname:"polygon",isShape:"polygon",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"heart"==e&&function(e,t){var a=new J.fabric.Path("M 272.70141,238.71731     C 206.46141,238.71731 152.70146,292.4773 152.70146,358.71731      C 152.70146,493.47282 288.63461,528.80461 381.26391,662.02535     C 468.83815,529.62199 609.82641,489.17075 609.82641,358.71731     C 609.82641,292.47731 556.06651,238.7173 489.82641,238.71731      C 441.77851,238.71731 400.42481,267.08774 381.26391,307.90481     C 362.10311,267.08773 320.74941,238.7173 272.70141,238.71731      z ",{fixed:!0,fill:"",maskname:"heart",stroke:"0.6",scaleX:1,isShape:"heart",absolutePositioned:!0,scaleY:1});e.add(a),a.viewportCenter(),e.renderAll()}(a),"star1"==e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Polygon(_e[2],{fill:"",fixed:!0,scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"star1",isShape:"star1",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Polygon(_e[2],{fill:"",fixed:!0,scaleX:1,scaleY:1,maskname:"star1",isShape:"star1",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"star2"==e&&function(e,t){var a;a="fac"!==t&&"soc"!==t?new J.fabric.Polygon(_e[3],{fill:"",fixed:!0,scaleX:Te?1+Te.zoomValue:1,scaleY:Te?1+Te.zoomValue:1,maskname:"star2",isShape:"star2",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}):new J.fabric.Polygon(_e[3],{fill:"",fixed:!0,scaleX:1,scaleY:1,maskname:"star2",isShape:"star2",absolutePositioned:!0,stroke:"1",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),e.add(a),a.viewportCenter(),e.renderAll()}(a,t),"star3"==e&&Ga(a),"sFrame"==e&&za(a),"bili"==e&&function(e,t){var a=new J.fabric.Path("M85.6,606.2c-13.2,54.5-3.9,95.7,23.3,130.7c27.2,35-3.1,55.2-25.7,66.1C60.7,814,52.2,821,50.6,836.5c-1.6,15.6,19.5,76.3,29.6,86.4c10.1,10.1,32.7,31.9,47.5,54.5c14.8,22.6,34.2,7.8,34.2,7.8c14,10.9,28,0,28,0c24.9,11.7,39.7-4.7,39.7-4.7c12.4-14.8-14-30.3-14-30.3c-16.3-28.8-28.8-5.4-33.5-11.7s-8.6-7-33.5-35.8c-24.9-28.8,39.7-19.5,62.2-24.9c22.6-5.4,65.4-34.2,65.4-34.2c0,34.2,11.7,28.8,28.8,46.7c17.1,17.9,24.9,29.6,47.5,38.9c22.6,9.3,33.5,7.8,53.7,21c20.2,13.2,62.2,10.9,62.2,10.9c18.7,6.2,36.6,0,36.6,0c45.1,0,26.5-15.6,10.1-36.6c-16.3-21-49-3.1-63.8-13.2c-14.8-10.1-51.4-25.7-70-36.6c-18.7-10.9,0-30.3,0-48.2c0-17.9,14-31.9,14-31.9h72.4c0,0,56-3.9,70.8,26.5c14.8,30.3,37.3,36.6,38.1,52.9c0.8,16.3-13.2,17.9-13.2,17.9c-31.1-8.6-31.9,41.2-31.9,41.2c38.1,50.6,112-21,112-21c85.6-7.8,79.4-133.8,79.4-133.8c17.1-12.4,44.4-45.1,62.2-74.7c17.9-29.6,68.5-52.1,113.6-30.3c45.1,21.8,52.9-14.8,52.9-14.8c15.6,2.3,20.2-17.9,20.2-17.9c20.2-22.6-15.6-28-16.3-84c-0.8-56-47.5-66.1-45.1-82.5c2.3-16.3,49.8-68.5,38.1-63.8c-10.2,4.1-53,25.3-63.7,30.7c-0.4-1.4-1.1-3.4-2.5-6.6c-6.2-14-74.7,30.3-74.7,30.3s-108.5,64.2-129.6,68.9c-21,4.7-18.7-9.3-44.3-7c-25.7,2.3-38.5,4.7-154.1-44.4c-115.6-49-326,29.8-326,29.8s-168.1-267.9-28-383.4C265.8,13,78.4-83.3,32.9,168.8C-12.6,420.9,98.9,551.7,85.6,606.2z",{fixed:!0,fill:"#000",stroke:"black",strokeWidth:1,maskname:"bili",isShape:"bili",scaleX:.5,scaleY:.5});e.add(a),a.viewportCenter(),e.renderAll()}(a),"circleFrame"==e&&Va(a)},s.handleSearchClose=function(){s.setState({term:"",key:"",showGhipy:!1,showAll1:!1,showSvg:!1,searchActive:!1,showMask:!1,ghipyList:s.props.stickers});s.props.getGiphy({page:0}),s.props.getSvgs()},s.addGroupSVG=function(e,t){!function(e,t){var a=JSON.parse(sessionStorage.getItem("size")),s=[];J.fabric.loadSVGFromURL(t,(function(t,n){var o=new J.fabric.Group(s);o.set({left:e.getHeight()-400,top:a.height/3+10,width:500,height:500,scaleX:.2,scaleY:.2,crossOrigin:"anonymous",lockScalingFlip:!0,lockUniScaling:!0,minScaleLimit:.1}),n.crossOrigin="anonymous",a&&a.width<500?(o.scaleToWidth(a?a.width:e.getWidth()-250),o.scaleToHeight(a?a.height:e.getHeight()-350),o.set("scaleX",.1),o.set("scaleY",.1)):(o.scaleToWidth(e.getWidth()),o.scaleToHeight(e.getHeight())),e.add(o),e.setActiveObject(o),o.viewportCenter(),e.renderAll()}),(function(e,t){t.set("id",e.getAttribute("id")),s.push(t)}))}(e,t),s.props.getSelectedType("group")},s.handleSubmit=function(e){if(e.preventDefault(),console.log("search "),s.props.exportEmptyData(),s.state.term){var t={term:s.state.term,page:0};s.setState({searchActive:!0,showAll1:!1,showSvg:!1,ghipyList:[],showGhipy:!1,showMask:!1,showLoader:!0}),s.props.giphySearch(t)}else{s.props.exportEmptyData();s.props.getGiphy({page:0}),s.props.getSvgs(),s.props.getShapes(),s.setState({shapesList:[],searchActive:!1,showAll1:!1,ghipyList:[],maskList:[],showGhipy:!1,showMask:!1,showLoader:!0})}},s.addStickers=function(e,t,a){Ha(s.state.canvas,e,t,a),s.props.getSelectedType("giphy")},s.state={cg:s.props.match.params?s.props.match.params.cg:"cus",showAll1:!1,photos:[1,2,3,4,5,6,6],svgsData:{},canvas:"",svgsList:[],showSvg:!1,term:"",ghipyList:[],giphyFirstTwo:[],showGhipy:!1,key:"",page:0,loadMore:{},shapesData:{},shapesList:[],maskData:{},maskList:[],showMask:!1,searchActive:!1,showLoader:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.stickers,t=this.props.firstTwo;this.props.exportEmptyData(),this.props.getSvgs(),this.props.getShapes(),this.props.getMask();this.state.page;this.setState({ghipyList:e,giphyFirstTwo:t})}},{key:"render",value:function(){var e=this,t=this.state.canvas;return o.a.createElement("div",{className:"elemensts-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Stickers","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.term&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),o.a.createElement("div",{className:this.state.showGhipy||this.state.showAll1||this.state.showMask?"noDisplay":""},o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-4"},!this.state.searchActive&&o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Featured"),o.a.createElement("a",{className:this.state.showSvg?"noDisplay":"see-all",onClick:this.showAllSvgElements},"See all")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section "},!this.state.showSvg&&!this.state.searchActive&&o.a.createElement("li",{onClick:function(){return e.addGroupSVG(t,"/img/1.svg")}},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:"/img/1.svg"}))),!this.state.showSvg&&!this.state.searchActive&&o.a.createElement("li",{onClick:function(){return e.addGroupSVG(t,"/img/2.svg")}},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:"/img/2.svg"}))),this.state.showSvg&&this.state.svgsList&&this.state.svgsList.length&&this.state.svgsList.map((function(a,s){return o.a.createElement("li",{className:"mb-3",onClick:function(){return e.addGroupSVG(t,a.image_url)}},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:a.image_url})))})),this.state.ghipyList&&0==this.state.ghipyList.length&&!this.state.showLoader&&o.a.createElement("li",{className:this.state.showAll1||this.state.showSvg||this.state.term?"mb-2 width-100-li":"noDisplay"},o.a.createElement("span",null,"Sorry, we couldn't find any sticker for \""," "+this.state.term+" ",' " Try searching something related.')),this.state.ghipyList&&0==this.state.ghipyList.length&&this.state.showLoader&&o.a.createElement("li",{className:this.state.showAll1||this.state.showSvg||this.state.term?"mb-2 width-100-li":"noDisplay"},o.a.createElement("span",null,o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader}))))))),o.a.createElement("div",{className:this.state.showGhipy||this.state.showSvg||this.state.showMask||this.state.searchActive?"noDisplay":"row mt-4"},!this.state.searchActive&&o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Shapes"),o.a.createElement("a",{className:this.state.showAll1?"noDisplay":"see-all",onClick:this.showAllElements},"See all")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2 mb-4"},o.a.createElement("ul",{className:"category-section elements-svg"},!this.state.showAll1&&!this.state.searchActive&&o.a.createElement("li",{onClick:function(){return e.addShapes("circle")}},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:"/img/scircle.webp"}))),!this.state.showAll1&&!this.state.searchActive&&o.a.createElement("li",{onClick:function(){return e.addShapes("square")}},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:"/img/ssquare.webp"}))),this.state.showAll1&&this.state.shapesData&&this.state.shapesList.map((function(t,a){return o.a.createElement("li",{onClick:function(a){return e.addShapes(t.name)},key:a,className:"mt-4"},o.a.createElement("span",{className:"img-section"},o.a.createElement("img",{src:"/"+t.image})))}))))),o.a.createElement("div",{className:this.state.showSvg||this.state.showAll1||this.state.showMask||this.state.searchActive?"noDisplay":""},o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-5"},!this.state.searchActive&&!this.state.showGhipy&&o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Stickers"),o.a.createElement("a",{className:"see-all",onClick:this.showAllGhipy},"See all")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section"},!this.state.showGhipy&&!this.state.searchActive&&this.state.giphyFirstTwo.map((function(t,a){return o.a.createElement("li",{onClick:function(){return e.addStickers(t.images.downsized_medium.webp?t.images.downsized_medium.webp:t.images.downsized_medium.url?t.images.downsized_medium.url:"",t.images.downsized_medium.width,t.images.downsized_medium.height)},key:a},o.a.createElement("span",{className:"img-section ghipy"},o.a.createElement("img",{src:t.images.fixed_width_still.url})))})),this.state.showGhipy&&this.state.ghipyList&&this.state.ghipyList.length&&this.state.ghipyList.map((function(t,a){return o.a.createElement("li",{className:"mb-3",key:a,onClick:function(){return e.addStickers(t.images.downsized_medium.webp?t.images.downsized_medium.webp:t.images.downsized_medium.url?t.images.downsized_medium.url:"",t.images.downsized_medium.width,t.images.downsized_medium.height)}},o.a.createElement("span",{className:"img-section ghipy"},o.a.createElement("img",{src:t.images.fixed_width_still.url})))})))))),this.state.searchActive&&o.a.createElement("div",{className:this.state.searchActive?"":"noDisplay"},o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-5"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section"},this.state.ghipyList&&this.state.ghipyList.length&&this.state.ghipyList.map((function(t,a){return o.a.createElement("li",{className:"mb-3",key:a,onClick:function(){return e.addStickers(t.images.downsized_medium.webp?t.images.downsized_medium.webp:t.images.downsized_medium.url?t.images.downsized_medium.url:"",t.images.downsized_medium.width,t.images.downsized_medium.height)}},o.a.createElement("span",{className:"img-section ghipy"},o.a.createElement("img",{src:t.images.fixed_width_still.url})))})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(e.exportEmptyData(),void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas),void 0!==e.svgsData&&e.svgsData!==t.svgsData&&(a.svgsData=e.svgsData,a.svgsList=e.svgsData?e.svgsData.data:[],a.showSvg=!1),void 0!==e.svgsTermData&&e.svgsTermData!==t.svgsTermData&&e.termDate!==t.termDate&&(a.svgsList=e.svgsTermData?e.svgsTermData.data:[],e.svgsTermData&&a.svgsList.length?a.showSvg=!0:a.showSvg=!1),void 0!==e.ghipyData&&t.ghipyList&&0==t.ghipyList.length){e.exportEmptyData();var s=[];a.ghipyList=e.ghipyData,a.showLoader=!1,a.ghipyList.length&&a.ghipyList.map((function(e,t){t<2&&s.push(e)})),a.giphyFirstTwo=s}if(void 0!==e.ghipyData&&e.ghipyData!==t.ghipyList&&0!==t.ghipyList.length&&e.giphyListDate!==t.giphyListDate&&(e.exportEmptyData(),a.showLoader=!1,a.giphyListDate=e.giphyListDate,a.ghipyList=[].concat(Object(ta.a)(t.ghipyList),Object(ta.a)(e.ghipyData))),void 0!==e.loadMore&&e.loadMore!==t.loadMore){if(a.loadMore=e.loadMore,1==a.loadMore.elements&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&!t.searchActive&&(""!==t.term||"stickers"==t.term)){a.page=a.loadMore.page;var n={page:a.page};e.getGiphy(n)}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.searchActive&&(""!==t.term||"stickers"!==t.term)){a.page=a.loadMore.page;var o={page:a.page,term:t.term};e.giphySearch(o)}}return void 0!==e.shapesData&&"200"==e.shapesData.status&&e.shapesData!==t.shapesData&&(a.shapesData=e.shapesData?e.shapesData:{},a.shapesList=e.shapesData?e.shapesData.data:[]),void 0!==e.maskData&&"200"==e.maskData.status&&e.maskData!==t.maskData&&(a.maskData=e.maskData?e.maskData:{},a.maskList=e.maskData?e.maskData.data:[]),a}}]),a}(n.Component),Xa=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{},t.loadMore=a?a.scrollData:{}),"GET_SVG_IMAGES"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.svgsData=e.SidebarReducer.data),"GET_SHAPES"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.shapesData=e.SidebarReducer.data),"GET_MASK"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.maskData=e.SidebarReducer.data),"GET_GIPHY_IMAGES"==e.SidebarReducer.action&&(200!==e.SidebarReducer.data.meta.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.ghipyData=e.SidebarReducer.data.data,t.giphyListDate=new Date)),"SEARCH_GIPHY_IMAGES"==e.SidebarReducer.action&&(200!==e.SidebarReducer.data.meta.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.ghipyData=e.SidebarReducer.data.data,t.giphyListDate=new Date)),"SEARCH_ELEMENTS"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.svgsTermData=e.SidebarReducer.data,t.termDate=new Date)),t}),(function(e){return Object(d.b)({getSvgs:ha,elementSearch:ya,getGiphy:wa,scrollState:O,getShapes:Oa,giphySearch:ka,exportEmptyData:Da,getSelectedType:E,getMask:La},e)}))(Object(H.g)(Wa)),qa=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.loadOnFontCombi=function(e){var t={id:e};s.props.loadFontTemplate(t)},s.handleSearchClose=function(){s.props.getFontTemplates(),s.setState({term:"",searchActive:!1})},s.handleSubmit=function(e){if(e.preventDefault(),s.props.exportEmptyData(),s.state.term){var t={term:s.state.term};s.props.fcSearch(t)}else s.props.getFontTemplates();s.setState({fontCombiList:[],searchActive:!0})},s.state={fontCombiData:{},fontCombiList:[],term:"",canvas:"",loadedFontCombi:{},searchActive:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.getFontTemplates()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"text-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Text","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.term&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),!this.state.searchActive&&o.a.createElement("div",{className:"row text-box mt-2"},o.a.createElement("div",{className:"col-md-12 col-sm-12 my-2"},o.a.createElement("span",{className:"d-block"},"Click text to add to page")),o.a.createElement("div",{className:"col-md-12 col-sm-12  my-2"},o.a.createElement("button",{type:"button",className:"btn heading-btn w-100",onClick:function(t){return e.props.addHeading("Add a heading")}},o.a.createElement("h2",null,"Add a heading"))),o.a.createElement("div",{className:"col-md-12 col-sm-12 my-2"},o.a.createElement("button",{type:"button",className:"btn heading-btn w-100",onClick:function(t){return e.props.addHeading("Add a subheading")}},o.a.createElement("h5",null,"Add a subheading"))),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("button",{type:"button",className:"btn heading-btn w-100",onClick:function(t){return e.props.addHeading("Add a litle bit of body text heading")}},o.a.createElement("h6",null,"Add a litle bit of body text heading")))),this.state.fontCombiList&&o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-5"},this.state.fontCombiData&&this.state.fontCombiList.length>0&&o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:this.state.searchActive?"noDisplay":"poster-heading"},"Font Combinations")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section"},this.state.fontCombiData&&this.state.fontCombiList.length>0&&this.state.fontCombiList.map((function(t,a){return o.a.createElement("li",{key:a,className:"mb-2"},o.a.createElement("span",{className:"img-section font-box"},o.a.createElement("span",{class:"filter-box"},o.a.createElement("img",{src:t.fc_url,onClick:function(a){e.loadOnFontCombi(t._id)}}))))})),this.state.fontCombiData&&this.state.fontCombiList.length<=0&&this.state.searchActive&&o.a.createElement("li",{className:"mb-2 width-100-li"},o.a.createElement("span",null,"Sorry, we couldn't find any Font Combinations for \""," "+this.state.term+" ",' " Try searching something related.'))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas?e.canvas:""),void 0!==e.fontCombiData&&e.fontCombiData!==t.fontCombiData&&(a.fontCombiList=e.fontCombiData.data?e.fontCombiData.data:[]),void 0!==e.loadedFontCombi&&e.loadedFontCombi!==t.loadedFontCombi&&e.loadDate!==t.loadDate&&(a.loadDate=e.loadDate,a.loadedFontCombi=e.loadedFontCombi,a.loadedObject=e.loadedFontCombi?e.loadedFontCombi.fc_template:"",a.loadedfcId=e.loadedFontCombi?e.loadedFontCombi._id:"",sessionStorage.setItem("LTID",e.loadedFontCombi._id),a.canvas&&(a.canvas.loadFromJSON(JSON.parse(a.loadedObject),a.canvas.renderAll.bind(a.canvas)),a.canvas))){var s=a.canvas.getObjects()[0];console.log(s)}return a}}]),a}(n.Component),Ka=Object(V.b)((function(e){var t={};return"GET_FONT_TEMPLATES"==e.TemplateReducer.action&&("200"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.fontCombiData=e.TemplateReducer.data),"LOAD_FONT_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.loadedFontCombi=e.TemplateReducer.data,t.loadDate=new Date)),"SEARCH_FC_TEMPLATE"==e.TemplateReducer.action&&("200"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):t.fontCombiData=e.TemplateReducer.data),void 0!==e.CanvasReducer&&(t.canvas=e.CanvasReducer.canvasData,t.canvasDate=new Date),t}),(function(e){return Object(d.b)({getFontTemplates:At,loadFontTemplate:Ot,fcSearch:Tt,getSelectedType:E,exportEmptyData:jt},e)}))(Object(H.g)(qa)),Za=(a(1029),function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.addThisVideo=function(e){var t=s.state.canvas;e&&Qe(t,e)},s.handleSearchClose=function(){var e={per_page:20,page:s.state.page,minDuration:10,maxDuration:30};s.props.pexelsVideoList(e),s.setState({term:"",page:1,videoList:[],videoData:[],searchActive:!1}),s.props.exportEmptyData()},s.handleSubmit=function(e){e.preventDefault();var t=s.state.term?s.state.term.trim():"";if(""!==t&&void 0!==t&&null!==t){if(t&&""!==t){var a={per_page:20,minDuration:10,maxDuration:30,page:1,query:t||""};s.props.pexelsVideoSearch(a)}else{var n={per_page:20,page:s.state.page,minDuration:10,maxDuration:30};s.props.pexelsVideoList(n)}s.setState({videoList:[],searchActive:!0,videoData:{},showLoader:!0})}},s.state={cg:s.props.match.params?s.props.match.params.cg:"cus",videoData:{},videoList:[],page:1,canvas:"",term:"",searchActive:!1,showLoader:!1},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e={per_page:20,page:this.state.page,minDuration:10,maxDuration:30};this.setState({showLoader:!0}),this.props.pexelsVideoList(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"videos-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Videos","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.term&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),o.a.createElement("div",{className:this.state.searchActive?"row mt-2":"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Trending")),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.videoList&&this.state.videoList.length>0&&this.state.videoList.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesignVideos"},o.a.createElement("span",{className:"",key:a,onClick:function(){return e.addThisVideo(t.video_files?t.video_files[2].link:t.video_files[1]?t.video_files[1].link:"")}},o.a.createElement("video",{key:a,name:"displayFor",muted:!0,style:{width:"100%",cursor:"pointer",height:"100%",display:"block"},onMouseOver:function(e){return e.target.play()},onMouseOut:function(e){return e.target.pause()},src:t.video_files?t.video_files[2].link:t.video_files[1]?t.video_files[1].link:""})))}))),this.state.videoList&&0==this.state.videoList.length&&this.state.term&&!this.state.showLoader&&o.a.createElement("span",{className:this.state.searchActive?"error-text":"noDisplay"},"Sorry, we couldn't find any Video for \""," "+this.state.term+" ",' " Try searching something related.'),this.state.videoList&&0==this.state.videoList.length&&this.state.showLoader&&o.a.createElement("span",{className:"error-text"},o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.exportEmptyData();var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas),void 0!==e.pexelsVideos&&0==t.videoList.length?(e.exportEmptyData(),a.videoData=e.pexelsVideos?e.pexelsVideos:{},a.videoList=e.pexelsVideos?e.pexelsVideos.videos:[],a.showLoader=!1):void 0!==e.pexelsVideos&&e.pexelsVideos!==t.videoData&&0!==t.videoList.length&&e.pexelsVideosDate!==t.pexelsVideosDate&&(a.pexelsVideosDate=e.pexelsVideosDate,a.videoList=[].concat(Object(ta.a)(t.videoList),Object(ta.a)(e.pexelsVideos.videos)),a.showLoader=!1),void 0!==e.loadMore&&e.loadMore!==t.loadMore){if(a.loadMore=e.loadMore,1==a.loadMore.videos&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&""==t.term){a.page=a.loadMore.page;var s={page:a.page,per_page:20,minDuration:10,maxDuration:30,query:""};e.pexelsVideoList(s)}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.term){a.page=a.loadMore.page;var n={page:a.page,query:t.term,per_page:20,minDuration:10,maxDuration:30};e.pexelsVideoSearch(n)}}return a}}]),a}(n.Component)),$a=Object(V.b)((function(e){var t={};if("VIDEO_LIST"==e.SidebarReducer.action&&(e.SidebarReducer.data?(t.pexelsVideos=e.SidebarReducer.data,t.pexelsVideosDate=new Date):(t.errorData=e.SidebarReducer.data,t.errorDate=new Date)),"VIDEO_SEARCH"==e.SidebarReducer.action&&(e.SidebarReducer.data?(t.pexelsVideos=e.SidebarReducer.data,t.pexelsVideosDate=new Date):(t.errorData=e.SidebarReducer.data,t.errorDate=new Date)),void 0!==e.CanvasReducer){var a=e.CanvasReducer;t.canvas=e.CanvasReducer.canvasData,t.loadMore=a?a.scrollData:{}}return t}),(function(e){return Object(d.b)({pexelsVideoList:_a,pexelsVideoSearch:xa,exportEmptyData:Da,pexelVideo:Ia},e)}))(Object(H.g)(Za)),Qa=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.handleColorPalette=function(){s.setState({showColor:!0})},s.handleColorModal=function(){s.setState({showColorModal:!s.state.showColorModal,showColor:!1}),s.props.backgroundState(!s.state.showColorModal)},s.handleChangeComplete=function(e){s.setState({background:e.hex}),s.props.changeBackgroundColor(e.hex)},s.handleSearchClose=function(){s.setState({term:"",page:1,unsplashBackgroundList:[],backgroundImages:[],searchActive:!1,errormsg:"",showLoader:!0});s.props.exportEmptyData(),s.props.getBackground({page:1,query:"background"})},s.handleSubmit=function(e){if(e.preventDefault(),s.props.exportEmptyData(),s.state.term){var t={page:1,query:s.state.term};s.setState({searchActive:!0,errormsg:s.state.term}),s.props.getBackground(t)}else{s.setState({searchActive:!1,errormsg:""}),s.props.getBackground({page:1,query:"background"})}s.setState({unsplashBackgroundList:[],backgroundImages:[],showLoader:!0})},s.state={background:"",showColor:!1,showColorModal:!1,backgroundImages:[],canvas:"",term:"",unsplashBackground:{},unsplashBackgroundList:[],page:1,showLoader:!1,loadMore:{},searchActive:!1,errormsg:""},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getBackground({page:1,query:"background"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.showColorModal&&o.a.createElement("div",{class:"overlay-sidebar",onClick:this.handleColorModal}),o.a.createElement("div",{className:"background-category mt-4"},o.a.createElement("div",{className:"row search-box"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group rounded-pill p-1"},o.a.createElement("div",{className:"input-group-prepend border-0"},o.a.createElement("button",{id:"button-addon4",type:"button",className:"btn btn-link text-info"},o.a.createElement("i",{className:"fa fa-search"}))),o.a.createElement("input",{value:this.state.term,type:"text",placeholder:"Search Background","aria-describedby":"button-addon4",className:"form-control bg-none border-0",onChange:this.handleInputChange,name:"term",autoComplete:"off"}),this.state.searchActive&&o.a.createElement("button",{type:"button",className:"close search-close","aria-label":"Close",onClick:this.handleSearchClose},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))),o.a.createElement("div",{className:"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"palette"},o.a.createElement("li",{className:"palette-box"},o.a.createElement("img",{src:"/img/palette.png",onClick:this.handleColorModal}),this.state.showColorModal&&o.a.createElement("ul",{className:"print-dropdown palette-dropdown"},o.a.createElement("li",null,o.a.createElement("h5",null,"New color"),o.a.createElement("img",{className:"new-color",src:"/img/colorwheel.webp",onClick:this.handleColorPalette}),this.state.showColor&&o.a.createElement(ea.ChromePicker,{color:this.state.background,onChangeComplete:this.handleChangeComplete})),o.a.createElement("li",null,o.a.createElement("h5",null,"Documents colors"),o.a.createElement("ul",{className:"document-color"},o.a.createElement("li",{style:{background:this.props.backgroundColor}}))),o.a.createElement("li",null,o.a.createElement("h5",null,"Default colors"),o.a.createElement("ul",{className:"document-color"},o.a.createElement("li",{style:{background:"#6c7093"},onClick:function(){return e.props.changeBackgroundColor("#6c7093")}}),o.a.createElement("li",{style:{background:"#99b34d"},onClick:function(){return e.props.changeBackgroundColor("#99b34d")}}),o.a.createElement("li",{style:{background:"#b35ba0"},onClick:function(){return e.props.changeBackgroundColor("\t#b35ba0")}}),o.a.createElement("li",{style:{background:"#1b1452"},onClick:function(){return e.props.changeBackgroundColor("#1b1452")}}),o.a.createElement("li",{style:{background:"#d6ffe8"},onClick:function(){return e.props.changeBackgroundColor("#d6ffe8")}}),o.a.createElement("li",{style:{background:"#fb4204"},onClick:function(){return e.props.changeBackgroundColor("#fb4204")}})),o.a.createElement("ul",{className:"document-color"},o.a.createElement("li",{style:{background:"#293233"},onClick:function(){return e.props.changeBackgroundColor("#293233")}}),o.a.createElement("li",{style:{background:"#1ca69d"},onClick:function(){return e.props.changeBackgroundColor("#1ca69d")}}),o.a.createElement("li",{style:{background:"#c13e72"},onClick:function(){return e.props.changeBackgroundColor("#c13e72")}}),o.a.createElement("li",{style:{background:"#44adbb"},onClick:function(){return e.props.changeBackgroundColor("#44adbb")}}),o.a.createElement("li",{style:{background:"#f9ccaa"},onClick:function(){return e.props.changeBackgroundColor("#f9ccaa")}}),o.a.createElement("li",{style:{background:"#4b072c"},onClick:function(){return e.props.changeBackgroundColor("#4b072c")}}))))),o.a.createElement("li",{style:{background:"#ffffff"},onClick:function(){return e.props.changeBackgroundColor("#ffffff")}}),o.a.createElement("li",{style:{background:"#7c677f"},onClick:function(){return e.props.changeBackgroundColor("#7c677f")}}),o.a.createElement("li",{style:{background:"#39a0ca"},onClick:function(){return e.props.changeBackgroundColor("#39a0ca")}}),o.a.createElement("li",{style:{background:"#ff414e"},onClick:function(){return e.props.changeBackgroundColor("#ff414e")}}),o.a.createElement("li",{style:{background:"#007f4f"},onClick:function(){return e.props.changeBackgroundColor("#007f4f")}}),o.a.createElement("li",{style:{background:"#d9d9d9"},onClick:function(){return e.props.changeBackgroundColor("#d9d9d9")}})))),this.state.backgroundImages&&o.a.createElement("div",{className:this.state.backgroundImages&&0!==this.state.backgroundImages.length?"row mt-4":"row mt-2"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.backgroundImages&&this.state.backgroundImages&&this.state.backgroundImages.length&&this.state.backgroundImages.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesignVideos",id:"images",style:{cursor:"pointer"},onClick:function(){e.props.changeBackgroundImg(t.bg_url?t.bg_url:"")}},o.a.createElement("span",null,o.a.createElement("img",{src:t.bg_url,draggable:"true"})))}))),this.state.backgroundImages&&this.state.backgroundImages&&0==this.state.backgroundImages.length&&this.state.searchActive&&!this.state.showLoader&&o.a.createElement("span",{className:this.state.searchActive?"error-text":"noDisplay",style:{color:"#ffffff"}},"Sorry, we couldn't find any background for \""," "+this.state.errormsg+" ",' " Try searching something related.'),this.state.backgroundImages&&this.state.backgroundImages&&0==this.state.backgroundImages.length&&this.state.showLoader&&o.a.createElement("span",{className:"mb-2  error-text"},o.a.createElement(sa.a,{size:10,color:"#ffffff",loading:this.state.showLoader}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas&&(a.canvas=e.canvas),void 0!==e.backgroundImages&&t.backgroundImages&&0==t.backgroundImages.length&&(a.backgroundImages=e.backgroundImages?e.backgroundImages:[],a.showLoader=!1),void 0!==e.backgroundImages&&e.backgroundImages!==t.backgroundImages&&0!==t.backgroundImages.length&&e.backgroundImagesDate!==t.backgroundImagesDate&&(e.exportEmptyData(),a.showLoader=!1,a.backgroundImagesDate=e.backgroundImagesDate,e.backgroundImages&&(a.backgroundImages=[].concat(Object(ta.a)(t.backgroundImages),Object(ta.a)(e.backgroundImages)))),void 0!==e.loadMore&&e.loadMore!==t.loadMore){if(a.loadMore=e.loadMore,1==a.loadMore.background&&a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&""==t.term){a.page=a.loadMore.page;var s={page:a.page,query:"background"};e.getBackground(s)}if(a.loadMore.page!==t.page&&1==a.loadMore.scrolling&&t.term){a.page=a.loadMore.page;var n={page:a.page,query:t.term};e.getBackground(n)}}return void 0!==e.bgModal&&e.bgModal!==t.bgModal&&(a.showColorModal=e.bgModal),a}}]),a}(n.Component),es=Object(V.b)((function(e){var t={};if("GET_BACKGROUND_IMAGES"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.backgroundImages=e.SidebarReducer.data.data,t.backgroundImagesDate=new Date)),"SEARCH_BACKGROUND"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.backgroundImages=e.SidebarReducer.data.data),"SEARCH_UNSPLASH_BACKGROUND"==e.SidebarReducer.action&&(e.SidebarReducer.data&&e.SidebarReducer.data.length<=0?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.unsplashBackground=e.SidebarReducer.data,t.unsplashBackgroundDate=new Date,t.apiChanges=!0)),void 0!==e.CanvasReducer){var a=e.CanvasReducer;t.canvas=e.CanvasReducer.canvasData,t.loadMore=a?a.scrollData:{},t.bgModal=!!a&&a.bgModal}return t}),(function(e){return Object(d.b)({getBackground:ua,backgroundSearch:Ea,unsplashBackgroundSearch:Aa,exportEmptyData:Da,getSelectedType:E,backgroundState:N},e)}))(Object(H.g)(Qa)),ts=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"folders-category mt-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Folders"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},o.a.createElement("ul",{className:"category-section"},o.a.createElement("li",null,o.a.createElement("span",{className:"icons"},o.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"})),o.a.createElement("span",{className:"text"},"Purchased")),o.a.createElement("li",null,o.a.createElement("span",{className:"icons"},o.a.createElement("i",{className:"fa fa-heart-o","aria-hidden":"true"})),o.a.createElement("span",{className:"text"},"Likes")),o.a.createElement("li",null,o.a.createElement("span",{className:"icons"},o.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),o.a.createElement("span",{className:"text"},"Create folders"))))))}}]),a}(n.Component),as=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).loadOnCanvas=function(e){var t={id:e};s.props.loadCanvas(t)},s.handleDelete=function(e){e&&s.props.deleteCanvas(e)},s.state={canvas:"",canvasList:[],userCanvas:{},loadedCanvas:{},canvasData:{},canvasObject:"",cid:s.props.match.params.id,cg:s.props.match.params.cg},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserCanvas()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"folders-edit-category mt-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("span",{className:"poster-heading"},"Your Design"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-2"},this.state.canvasList&&0==this.state.canvasList.length&&o.a.createElement("div",{className:"text-no-img mt-3"},o.a.createElement("span",null,"You have not created any poster yet!")),o.a.createElement(oa.a,{breakpointCols:2,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},this.state.canvasList&&this.state.canvasList.length>0&&this.state.canvasList.map((function(t,a){return o.a.createElement("div",{key:a,className:"myDesign"},o.a.createElement("span",{className:""},o.a.createElement("span",{className:"delete-btn",onClick:function(a){return e.handleDelete(t._id)}},o.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," "),o.a.createElement("img",{src:t.canvas_image,onClick:function(){return e.loadOnCanvas(t._id)}})))}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&""!==e.canvas&&(a.canvas=e.canvas?e.canvas:""),void 0!==e.userCanvas&&"200"==e.userCanvas.status&&e.userCanvas!==t.userCanvas&&e.userDate!==t.userDate&&(a.canvasList=e.userCanvas?e.userCanvas.data:[],a.userDate=e.userDate),void 0!==e.canvasData&&e.canvasData!==t.canvasData){a.canvasData=e.canvasData,a.canvasObject=e.canvasData?e.canvasData.canvas_object:"";var s=JSON.parse(e.canvasData.canvas_size),n=e.canvasData.category,o=e.canvasData?e.canvasData._id:t.cid,r=document.getElementsByTagName("canvas")[0];for(var i in sessionStorage)i[0]+i[1]=="J-"&&sessionStorage.removeItem(i);r.width=s.width,r.height=s.height;var c=Math.min(1150/s.width,560/s.height);sessionStorage.setItem("size",JSON.stringify(s)),a.canvas.setDimensions({width:s.width*c,height:s.height*c}),a.canvas.setZoom(c);var l=JSON.parse(a.canvasObject);a.canvas.loadFromJSON(JSON.stringify(l),(function(){a.canvas.renderAll.bind(l);for(var e=l.objects,t=0;t<e.length;t++)e[t].hasOwnProperty("video_src")&&Qe(a.canvas,e[t].video_src,e[t].left,e[t].top,e[t].scaleX,e[t].scaleY,t,e[t].opacity,e[t].flipX,e[t].flipY,e[t].locked)}),function(){var e=Object(re.a)(oe.a.mark((function e(t,s){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.maskname&&"image"!==s.type&&a.canvas.bringForward(s),!(s&&s.maskname&&s.myImage)){e.next=5;break}return console.log("my Inside"),e.next=5,new Promise((function(e,t){if(s.maskname&&null==s.fill&&s.myImage){J.fabric.Object.prototype.transparentCorners=!1;var n=new Image;n.crossOrigin="anonymous",n.src=s.myImage,n.onload=function(e){var t=new J.fabric.Image(n,{});"heart"==s.maskname?t.scaleToWidth(700):"bili"===s.maskname?(t.scaleToWidth(700),t.scaleToHeight(1e3)):t.scaleToWidth(500);var o=new J.fabric.StaticCanvas;o.add(t),o.renderAll();var r=new J.fabric.Pattern({source:function(){return t.getScaledWidth()&&o.setDimensions({width:t.getScaledWidth()+0,height:t.getScaledHeight()+0}),o.renderAll(),o.getElement()},repeat:"no-repeat"});s.set({fill:r}),a.canvas.requestRenderAll()}}}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());var d={showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1,templateChange:!0,category:n,myDesign:!0,template:!1,cid:o||Object(se.a)()},m={category:t.cg?t.cg:"cus"};Gt.a.pack(sessionStorage.setItem("J-"+o,a.canvasObject));var p=Math.random().toString(36).substring(7);e.getTemplates(m),e.getCanvas(a.canvas),e.toolsMenu(d),a.canvas.renderAll(),e.history.push("/design/".concat(o,"/edit/").concat(n,"&cat=").concat(p))}return a}}]),a}(n.Component),ss=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{}),"GET_ALL_CANVAS"===e.CanvasExternalReducer.action&&("200"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userCanvas=e.CanvasExternalReducer.data,t.userDate=new Date)),"LOAD_CANVAS"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):t.canvasData=e.CanvasExternalReducer.data),"DELETE_USER_CANVAS"===e.CanvasExternalReducer.action&&("200"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userCanvas=e.CanvasExternalReducer.data,t.userDate=new Date,t.callData=!0)),t}),(function(e){return Object(d.b)({getUserCanvas:rt,loadCanvas:ot,deleteCanvas:ct,toolsMenu:k,getCanvas:v,getTemplates:wt},e)}))(Object(H.g)(as)),ns=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s,n;return Object(X.a)(this,a),(n=t.call(this,e)).handleSidebar=function(e){var t=e;n.props.emptyData();var a=n.state.canvas;if("temp"===t&&n.setState({template:!0,uploads:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!1,more:!1,showFilters:!1,activeClass:"temp",show2ndSideBar:!1,showAdjust:!1,yourdesign:!1,giphy:!1,page:0,scrolling:!1}),"uploads"===t){n.setState({uploads:!0,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"uploads",show2ndSideBar:!1,yourdesign:!1,giphy:!1,page:0,scrolling:!1}),n.props.getUserUploadImage();n.props.scrollState({page:0})}if("photos"===t){n.setState({uploads:!1,template:!1,photos:!0,elements:!1,text:!1,videos:!1,background:!1,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"photos",show2ndSideBar:!1,yourdesign:!1,page:1,scrolling:!1,giphy:!1});n.props.scrollState({scrolling:!1}),n.props.exportEmptyData()}"elements"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!0,text:!1,videos:!1,background:!1,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"elements",show2ndSideBar:!1,yourdesign:!1,page:0,scrolling:!1,giphy:!1}),"text"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!0,videos:!1,background:!1,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"text",show2ndSideBar:!1,yourdesign:!1,giphy:!1}),"videos"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!0,background:!1,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"videos",show2ndSideBar:!1,giphy:!1,yourdesign:!1}),"background"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!0,folders:!1,more:!1,showFilters:!1,showAdjust:!1,activeClass:"background",show2ndSideBar:!1,yourdesign:!1,page:1,scrolling:!1,giphy:!1}),"folders"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!0,more:!1,showFilters:!1,showAdjust:!1,activeClass:"folders",show2ndSideBar:!1,yourdesign:!1}),"yourdesign"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,yourdesign:!0,more:!1,showFilters:!1,showAdjust:!1,activeClass:"yourdesign",show2ndSideBar:!1,folders:!1,giphy:!1}),"more"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!1,show2ndSideBar:!1,showFilters:!1,more:!0,showAdjust:!1,activeClass:"more",yourdesign:!1,giphy:!1}),"giphy"===t&&n.setState({uploads:!1,template:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!1,show2ndSideBar:!1,showFilters:!1,more:!1,showAdjust:!1,activeClass:"giphy",yourdesign:!1,giphy:!0}),n.props.cropState(!1),n.props.showAdjustments(!1),n.props.headerMenu({fileMenu:!1,showDownload:!1}),n.handleToolBarShowHide(),n.props.getCanvas(a),Ke(a),n.setState({sidebarExpand:!0}),n.props.mainSideBarState(!0)},n.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n.setState(Object(ie.a)({},e.target.name,a))},n.hideSideBar=function(){n.setState({sidebarExpand:!1}),n.props.mainSideBarState(!1)},n.changeBackgroundColor=function(e){var t=n.state.canvas;Ue(t,e);var a=e;n.setState({backgroundColor:a,imgUrl:""}),setTimeout((function(){n.props.getCanvas(t),n.props.backgroundColorChange(!0)}),1e3)},n.changeBackgroundImg=function(e){var t=n.state.canvas,a=e;Fe(t,e),n.setState({imgUrl:a,backgroundColor:""}),setTimeout((function(){n.props.backgroundChange(!0),n.props.getCanvas(t)}),1e3)},n.addHeading=function(e){var t=30;"Add a heading"==e&&(t=55),"Add a subheading"==e&&(t=40),"Add a litle bit of body text heading"==e&&(t=20);var a=n.state.canvas,s=e;n.state.id;!function(e,t,a,s){var n=1;JSON.parse(sessionStorage.getItem("size")).width<500&&(n=.3);var o=new J.fabric.Textbox(t,{scaleX:n,scaleY:n,fontFamily:55==s?"arial black":40==s?"arial":30==s?"Bookman":"arial",width:550,textAlign:"center",fontSize:s||35,splitByGrapheme:!0,lockScalingFlip:!0,offsetX:"2px 2px 10px rgba(0,0,0,0.2)",editingBorderColor:"#c00c41"});o.setControlsVisibility({mt:!1,mb:!1,ml:!0,mr:!0});var r=Ve(e);console.log("position",r),null!==r&&(console.log("not null"),o.set({top:r.top+10,left:r.left})),e.add(o),e.setActiveObject(o),null!=r&&"null"!=r||o.viewportCenter(),e.renderAll()}(a,s,0,t),n.setState({text:s}),n.props.getSelectedType("textbox")},n.deSelect=function(){!function(e){e.discardActiveObject().renderAll()}(n.state.canvas)},n.handleColorPalette=function(){n.setState({showColor:!n.state.showColor,sidebarExpand:!1}),1==n.state.showColor?n.props.mainSideBarState(!0):n.props.mainSideBarState(!1)},n.handleChangeColorComplete=function(e){Pe(n.state.canvas,e.hex),n.setState({textColor:e.hex})},n.changeTextColor=function(e){Pe(n.state.canvas,e),n.setState({textColor:e})},n.handleChangeStart=function(){console.log("Change event started")},n.handleChange=function(e){n.props.canvas;n.setState({value:e})},n.handleChangeComplete=function(){console.log("Change event completed")},n.handleFilters=function(e){n.setState({filterNum:e}),function(e,t){J.fabric.isWebglSupported()&&(J.fabric.textureSize=4096);var a=e.getActiveObject();a&&a.filters.length>0&&(a.filters=[]),8!=t?a&&(a.filters[t]=Ie[t],a.applyFilters(),e.counter++,e.renderAll()):Xe(e,.3)}(n.props.canvas,e),setTimeout((function(){return n.props.getCanvas(n.props.canvas)}),0)},n.handleChangeStart=function(){console.log("Change event started")},n.handleChangeLineSpace=function(e){n.props.canvas;n.setState({lineSpace:e})},n.handleChangeBrightness=function(e){!function(e,t){We(e,11,new J.fabric.Image.filters.Brightness({brightness:parseFloat(t,10)},null,"anonymous")),e.counter++,e.renderAll()}(n.state.canvas,e/10),n.setState({brightness:parseFloat(e,10)}),n.props.mainSideBarState(!1)},n.handleChangeContrast=function(e){!function(e,t){We(e,12,new J.fabric.Image.filters.Contrast({contrast:parseFloat(t,10)},null,"anonymous")),e.counter++,e.renderAll()}(n.state.canvas,e/10),n.setState({contrast:parseFloat(e,10)}),n.props.mainSideBarState(!1)},n.handleChangeSaturation=function(e){!function(e,t){We(e,13,new J.fabric.Image.filters.Saturation({saturation:parseFloat(t,10)})),e.renderAll()}(n.state.canvas,e/10),n.setState({saturation:parseFloat(e,10)}),n.props.mainSideBarState(!1)},n.handleChangeBlur=function(e){Xe(n.props.canvas,e/10),n.setState({blur:parseFloat(e,10)}),n.props.mainSideBarState(!1)},n.handleChangeHue=function(e){!function(e,t){We(e,15,new J.fabric.Image.filters.HueRotation({rotation:parseFloat(t,10)})),e.renderAll()}(n.props.canvas,e/10),n.setState({hue:parseFloat(e,10)}),n.props.mainSideBarState(!1)},n.resetFilters=function(){var e=n.state.canvas;n.setState({hue:0,brightness:0,contrast:0,saturation:0,blur:0,filterNum:-1}),function(e){var t=e.getActiveObject();t&&t.filters.length>0&&(t.filters=[],t.applyFilters(),e.renderAll())}(e),n.props.mainSideBarState(!1),n.setState({filterNum:-1})},n.handleToolBarShowHide=function(){n.props.toolsMenu({showOpacity:!1,showPositionDropdown:!1,showLine:!1,showFlip:!1})},n.handleScroll=function(e){var t=e.target;if(t.scrollHeight-t.scrollTop===t.clientHeight){if(1==n.state.photos&&"photos"==n.state.activeClass){var a={page:n.state.page+1,scrolling:!0,photos:n.state.photos,elements:n.state.elements,videos:n.state.videos,template:!1};n.setState({page:a.page,scrolling:a.scrolling}),n.props.scrollState(a)}if(1==n.state.template&&"temp"==n.state.activeClass){var s={page:n.state.page+1,scrolling:!0,template:n.state.template,elements:n.state.elements,videos:n.state.videos};n.setState({page:s.page,scrolling:s.scrolling}),n.props.scrollState(s)}if(1==n.state.elements&&"elements"==n.state.activeClass){var o={page:n.state.page+1,scrolling:!0,photos:n.state.photos,videos:n.state.videos,elements:n.state.elements,template:!1};n.setState({page:o.page,scrolling:o.scrolling}),n.props.scrollState(o)}if(1==n.state.background&&"background"==n.state.activeClass){var r={page:n.state.page+1,scrolling:!0,photos:n.state.photos,elements:n.state.elements,background:n.state.background,videos:n.state.videos,template:!1};n.setState({page:r.page,scrolling:r.scrolling}),n.props.scrollState(r)}if(1==n.state.giphy&&"giphy"==n.state.activeClass){var i={page:n.state.page+1,scrolling:!0,photos:n.state.photos,elements:n.state.elements,background:n.state.background,giphy:n.state.giphy,videos:n.state.videos,template:!1};n.setState({page:i.page,scrolling:i.scrolling}),n.props.scrollState(i)}if(1==n.state.videos&&"videos"==n.state.activeClass){var c={page:n.state.page+1,scrolling:!0,photos:n.state.photos,elements:n.state.elements,giphy:n.state.giphy,template:!1,videos:n.state.videos};n.setState({page:c.page,scrolling:c.scrolling}),n.props.scrollState(c)}}},n.state=(s={sidebarExpand:!0,template:!0,uploads:!1,photos:!1,elements:!1,text:!1,videos:!1,background:!1,folders:!1,more:!1,activeClass:"temp",backgroundColor:"",imgUrl:""},Object(ie.a)(s,"text",""),Object(ie.a)(s,"canvas",""),Object(ie.a)(s,"show2ndSideBar",!1),Object(ie.a)(s,"showColor",!1),Object(ie.a)(s,"textColor","#ffffff"),Object(ie.a)(s,"showFilters",!1),Object(ie.a)(s,"id",1),Object(ie.a)(s,"value",60),Object(ie.a)(s,"showIntensity",!1),Object(ie.a)(s,"objType",""),Object(ie.a)(s,"lineSpace",10),Object(ie.a)(s,"brightness",0),Object(ie.a)(s,"contrast",0),Object(ie.a)(s,"saturation",0),Object(ie.a)(s,"blur",0),Object(ie.a)(s,"showAdjust",!1),Object(ie.a)(s,"hue",0),Object(ie.a)(s,"yourdesign",!1),Object(ie.a)(s,"activeIndex",-1),Object(ie.a)(s,"page",1),Object(ie.a)(s,"scrolling",!1),Object(ie.a)(s,"giphy",!1),Object(ie.a)(s,"giphyList",[]),Object(ie.a)(s,"filterNum",-1),Object(ie.a)(s,"uploadsData",{}),Object(ie.a)(s,"imageList",[]),Object(ie.a)(s,"giphyFirstTwo",[]),Object(ie.a)(s,"cropActive",!1),s),n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.getGiphy({page:0}),this.props.getUserUploadImage()}},{key:"componentDidUpdate",value:function(e,t){this.state.canvas}},{key:"render",value:function(){var e=this,t=(this.state.canvas,0==this.state.brightness?0:this.state.brightness>0?this.state.brightness+2:this.state.brightness<0?this.state.brightness-2:0),a=0==this.state.contrast?0:this.state.contrast>0?this.state.contrast+2:this.state.contrast<0?this.state.contrast-2:0;return o.a.createElement("aside",null,o.a.createElement("div",{className:"border-left-icons",id:this.state.sidebarExpand||this.state.show2ndSideBar||this.state.showFilters||this.state.showAdjust?"sidebar-icons":"hiddenSidebar"},o.a.createElement("div",{className:"sidebar-menu"},o.a.createElement("nav",null,o.a.createElement("ul",{className:"left-icons-list"},o.a.createElement("li",{onClick:function(t){return e.handleSidebar("temp")}},o.a.createElement("a",{className:"temp"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{name:"temp",className:"d-block template"}),o.a.createElement("span",{name:"temp",className:"d-block"},"Templates"))),o.a.createElement("li",{name:"uploads",onClick:function(t){return e.handleSidebar("uploads")}},o.a.createElement("a",{className:"uploads"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block upload"}),o.a.createElement("span",{className:"d-block"},"Uploads"))),o.a.createElement("li",{name:"photos",onClick:function(t){return e.handleSidebar("photos")}},o.a.createElement("a",{className:"photos"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block photo"}),o.a.createElement("span",{className:"d-block"},"Photos"))),o.a.createElement("li",{name:"elements",onClick:function(t){return e.handleSidebar("elements")}},o.a.createElement("a",{className:"elements"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block element"}),o.a.createElement("span",{className:"d-block"},"Elements"))),o.a.createElement("li",{name:"text",onClick:function(t){return e.handleSidebar("text")}},o.a.createElement("a",{className:"text"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block fonts"}),o.a.createElement("span",{className:"d-block"},"Text"))),o.a.createElement("li",{name:"videos",onClick:function(t){return e.handleSidebar("videos")}},o.a.createElement("a",{className:"videos"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block videos"}),o.a.createElement("span",{className:"d-block"},"Videos"))),o.a.createElement("li",{name:"background",onClick:function(t){return e.handleSidebar("background")}},o.a.createElement("a",{className:"background"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block background"}),o.a.createElement("span",{className:"d-block"},"Background"))),o.a.createElement("li",{name:"folders",onClick:function(t){return e.handleSidebar("yourdesign")}},o.a.createElement("a",{className:"yourdesign"==this.state.activeClass?"active-catg":""},o.a.createElement("span",{className:"d-block folder"}),o.a.createElement("span",{className:"d-block"},"My Designs")))))),this.state.show2ndSideBar&&o.a.createElement("div",{className:"color-box-section"},o.a.createElement("div",{className:"row color-box mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h3",null,"New color")),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"new-color-ul"},o.a.createElement("li",null,o.a.createElement("img",{src:"/img/colorwheel.webp",onClick:this.handleColorPalette}),this.state.showColor&&o.a.createElement(ea.ChromePicker,{color:this.state.textColor,onChangeComplete:this.handleChangeColorComplete}))))),o.a.createElement("div",{className:"row color-box mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h3",null,"Document colors")),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"document-color-ul"},o.a.createElement("li",{style:{background:this.state.textColor}})))),o.a.createElement("div",{className:"row color-box mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h3",null,"Default color")),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"default-color-ul"},o.a.createElement("li",{style:{background:"#ffffff"},onClick:function(){return e.changeTextColor("#ffffff")}}),o.a.createElement("li",{style:{background:"#7c677f"},onClick:function(){return e.changeTextColor("#7c677f")}}),o.a.createElement("li",{style:{background:"#39a0ca"},onClick:function(){return e.changeTextColor("#39a0ca")}}),o.a.createElement("li",{style:{background:"#ff414e"},onClick:function(){return e.changeTextColor("#ff414e")}}),o.a.createElement("li",{style:{background:"#007f4f"},onClick:function(){return e.changeTextColor("#007f4f")}}),o.a.createElement("li",{style:{background:"#d9d9d9"},onClick:function(){return e.changeTextColor("#d9d9d9")}})),o.a.createElement("ul",{className:"default-color-ul"},o.a.createElement("li",{style:{background:"#293233"},onClick:function(){return e.changeTextColor("#293233")}}),o.a.createElement("li",{style:{background:"#1ca69d"},onClick:function(){return e.changeTextColor("#1ca69d")}}),o.a.createElement("li",{style:{background:"#c13e72"},onClick:function(){return e.changeTextColor("#c13e72")}}),o.a.createElement("li",{style:{background:"#44adbb"},onClick:function(){return e.changeTextColor("#44adbb")}}),o.a.createElement("li",{style:{background:"#f9ccaa"},onClick:function(){return e.changeTextColor("#f9ccaa")}}),o.a.createElement("li",{style:{background:"#4b072c"},onClick:function(){return e.changeTextColor("#4b072c")}})),o.a.createElement("ul",{className:"default-color-ul"},o.a.createElement("li",{style:{background:"#6c7093"},onClick:function(){return e.changeTextColor("#6c7093")}}),o.a.createElement("li",{style:{background:"#99b34d"},onClick:function(){return e.changeTextColor("#99b34d")}}),o.a.createElement("li",{style:{background:"#b35ba0"},onClick:function(){return e.changeTextColor("\t#b35ba0")}}),o.a.createElement("li",{style:{background:"#1b1452"},onClick:function(){return e.changeTextColor("#1b1452")}}),o.a.createElement("li",{style:{background:"#d6ffe8"},onClick:function(){return e.changeTextColor("#d6ffe8")}}),o.a.createElement("li",{style:{background:"#fb4204"},onClick:function(){return e.changeTextColor("#fb4204")}})),o.a.createElement("ul",{className:"default-color-ul"},o.a.createElement("li",{style:{background:"#6f8b90"},onClick:function(){return e.changeTextColor("#6f8b90")}}),o.a.createElement("li",{style:{background:"#f2d53c"},onClick:function(){return e.changeTextColor("#f2d53c")}}),o.a.createElement("li",{style:{background:"#c80e13"},onClick:function(){return e.changeTextColor("#c80e13")}}),o.a.createElement("li",{style:{background:"#e1b382"},onClick:function(){return e.changeTextColor("#e1b382")}}),o.a.createElement("li",{style:{background:"#2d545e"},onClick:function(){return e.changeTextColor("#2d545e")}}),o.a.createElement("li",{style:{background:"#ff5e6c"},onClick:function(){return e.changeTextColor("#ff5e6c")}}))))),this.state.showAdjust&&o.a.createElement("div",{className:"adjustment-box-section"},o.a.createElement("div",{className:"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h3",null,"Adjustments"),o.a.createElement("a",{className:"float-right",onClick:function(){return e.resetFilters()}},"Reset")),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("hr",null)),o.a.createElement("div",{className:"col-md-12 col-sm-12 mt-3 mb-3"},o.a.createElement("div",{className:"adjust-box"},o.a.createElement("span",{className:"d-inline"},"Brightness"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:-8,max:8,value:this.state.brightness,onChange:this.handleChangeBrightness,tooltip:!1,step:1})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:t,onChange:this.handleInputChange,name:"brightness",disabled:!0})))),o.a.createElement("div",{className:"col-md-12 col-sm-12 mb-3"},o.a.createElement("div",{className:"adjust-box"},o.a.createElement("span",{className:"d-inline"},"Contrast"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:-8,max:8,value:this.state.contrast,onChange:this.handleChangeContrast,tooltip:!1,step:1})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:a,onChange:this.handleInputChange,name:"contrast",disabled:!0})))),o.a.createElement("div",{className:"col-md-12 col-sm-12 mb-3"},o.a.createElement("div",{className:"adjust-box"},o.a.createElement("span",{className:"d-inline"},"Saturation"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:-10,max:10,value:this.state.saturation,onChange:this.handleChangeSaturation,tooltip:!1,step:1,disabled:!0})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:this.state.saturation,onChange:this.handleInputChange,name:"saturation",disabled:!0})))),o.a.createElement("div",{className:"col-md-12 col-sm-12 mb-3"},o.a.createElement("div",{className:"adjust-box"},o.a.createElement("span",{className:"d-inline"},"Blur"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:0,max:10,value:this.state.blur,onChange:this.handleChangeBlur,tooltip:!1,step:1,disabled:!0})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:this.state.blur,onChange:this.handleInputChange,name:"blur",disabled:!0})))),o.a.createElement("div",{className:"col-md-12 col-sm-12 mb-3"},o.a.createElement("div",{className:"adjust-box"},o.a.createElement("span",{className:"d-inline"},"Hue"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:-10,max:10,value:this.state.hue,onChangeStart:this.handleChangeStart,onChange:this.handleChangeHue,onChangeComplete:this.handleChangeComplete,tooltip:!1,step:1,disabled:!0})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:this.state.hue,onChange:this.handleInputChange,name:"hue",disabled:!0})))))),this.state.showFilters&&o.a.createElement("div",{className:"filters-box-section"},o.a.createElement("div",{className:"row mt-4"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h3",null,"Filters")),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("hr",null)),o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("ul",{className:"filers-ul"},o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.resetFilters()}},o.a.createElement("span",{className:-1==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"None"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(3)}},o.a.createElement("span",{className:3==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Epic"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(4)}},o.a.createElement("span",{className:4==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Festive"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(5)}},o.a.createElement("span",{className:5==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Summer"))),this.state.showIntensity&&o.a.createElement("li",{className:"w-100 filter-percentage"},o.a.createElement("span",{className:"d-inline"},"Intensity"),o.a.createElement("span",{className:"d-inline rang-span"},o.a.createElement(Wt.a,{min:0,max:100,value:this.state.value,onChangeStart:this.handleChangeStart,onChange:this.handleChange,onChangeComplete:this.handleChangeComplete,tooltip:!1})),o.a.createElement("span",{className:"range-input"},o.a.createElement("input",{type:"text",placeholder:"--",value:this.state.value,onChange:this.handleChange,disabled:!0}))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(0)}},o.a.createElement("span",{className:0==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Greyscale"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(8)}},o.a.createElement("span",{className:8==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Blur"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(6)}},o.a.createElement("span",{className:6==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Peony"))),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:function(){return e.handleFilters(1)}},o.a.createElement("span",{className:1==this.state.filterNum?"img-box active-border":"img-box"},o.a.createElement("img",{src:"/img/car1.jpg"})),o.a.createElement("span",{className:"text-box text-center"},"Sepia"))))))),this.state.sidebarExpand&&o.a.createElement("div",{className:"rights-section-poster hidden-section",onScroll:this.handleScroll},this.state.template?o.a.createElement(ia,null):"",this.state.uploads?o.a.createElement(Ra,{imageList:this.state.imageList}):"",this.state.photos?o.a.createElement(Ua,null):"",this.state.elements?o.a.createElement(Xa,{stickers:this.state.giphyList,firstTwo:this.state.giphyFirstTwo}):"",this.state.giphy?o.a.createElement(Ya,{list:this.state.giphyList}):"",this.state.text?o.a.createElement(Ka,{addHeading:function(t){e.addHeading(t)}}):"",this.state.videos?o.a.createElement($a,null):"",this.state.background?o.a.createElement(es,{changeBackgroundColor:function(t){return e.changeBackgroundColor(t)},backgroundColor:this.state.backgroundColor,changeBackgroundImg:function(t){return e.changeBackgroundImg(t)}}):"",this.state.folders?o.a.createElement(ts,null):"",this.state.yourdesign?o.a.createElement(ss,null):""),o.a.createElement("div",{className:this.state.sidebarExpand?"hide-arrow":"noDisplay",onClick:this.hideSideBar},o.a.createElement("img",{src:"/img/hide-arrow.svg"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.canvas&&""!==e.canvas){a.canvas=e.canvas,void 0!==e.sidebarExpand&&e.sidebarExpand!==t.sidebarExpand&&e.sidebarExpandDate!==t.sidebarExpandDate&&(1==e.showSidebar2||1==e.showFilters?a.sidebarExpand=!1:a.sidebarExpand=e.sidebarExpand,a.sidebarExpandDate=e.sidebarExpandDate,a.showColor=!1);var s=e.canvas?e.canvas:"",n=e.objectIndex;if(a.activeIndex!==e.objectIndex&&(a.activeIndex=e.objectIndex),n>-1)s.toObject().objects.map((function(e,t){t===n&&e&&e.filters&&(e.filters.length>0&&e.filters.map((function(e,t){"Brightness"==e.type?a.brightness=10*parseFloat(e.brightness,10):"Contrast"==e.type?a.contrast=10*parseFloat(e.contrast,10):"Saturation"==e.type?a.saturation=10*parseFloat(e.saturation,10):"Blur"==e.type?a.blur=10*parseFloat(e.blur,10):"HueRotation"==e.type&&(a.hue=10*parseFloat(e.rotation,10)),e&&"Sepia"==e.type&&(a.filterNum=1),e&&"Kodachrome"==e.type&&(a.filterNum=6),e&&"Blur"==e.type&&(a.filterNum=8),e&&"Grayscale"==e.type&&(a.filterNum=0),e&&"Brownie"==e.type&&(a.filterNum=5),e&&"Technicolor"==e.type&&(a.filterNum=4),e&&"Vintage"==e.type&&(a.filterNum=3)})),e&&e.filters.length<=0&&(a.brightness=0,a.contrast=0,a.saturation=0,a.blur=0,a.hue=0,a.filterNum=-1))}))}if(void 0!==e.showSidebar2&&e.showSidebar2!==t.showSidebar2&&(a.showSidebar2Date=e.showSidebar2Date,a.show2ndSideBar=e.showSidebar2,a.show2ndSideBar&&(a.showFilters=!1,a.sidebarExpand=!1)),void 0!==e.showFilters&&""!==e.showFilters&&e.showFilters!==t.showFilters&&(a.showFilters=e.showFilters,a.sidebarExpand=!1,a.show2ndSideBar=!1,1==a.showFilters&&(a.sidebarExpand=!1,a.show2ndSideBar=!1),0==a.showFilters&&(a.sidebarExpand=!0,a.show2ndSideBar=!1,a.showFilters=!1),a.showSidebar2Date=e.showSidebar2Date),void 0!=e.objType&&""!=e.objType||(""==e.objType&&(a.showAdjust=!1),"textbox"==e.objType&&e.showSidebar2?a.show2ndSideBar=e.showSidebar2:(a.showFilters=!1,a.show2ndSideBar=!1,a.showAdjust=!1)),void 0!==e.objType&&e.objType!==t.objType&&e.showSidebar2Date!==t.showSidebar2Date&&(a.objType=e.objType?e.objType:"","textbox"==a.objType&&(1==e.showSidebar2?(a.sidebarExpand=!1,a.show2ndSideBar=e.showSidebar2):(a.showFilters=!1,a.sidebarExpand=!0,a.show2ndSideBar=!1)),"image"==a.objType&&(a.show2ndSideBar=!1,a.showColor=!1,1==e.showFilters&&(a.sidebarExpand=!1),a.sidebarExpand=!0,a.showFilters=!1)),void 0!==e.showAdjust&&e.showAdjust!==t.showAdjust&&(a.showAdjust=e.showAdjust,1==a.showAdjust&&(a.sidebarExpand=!1,a.show2ndSideBar=!1),0==a.showAdjust&&(a.sidebarExpand=!0,a.showAdjust=!1)),void 0!==e.loadMore&&e.loadMore!==t.loadMore&&(a.loadMore=e.loadMore,1==a.loadMore.scrolling&&(a.scrolling=!1)),void 0!==e.ghipyData&&t.giphyList&&0==t.giphyList.length){var o=[];a.giphyList=e.ghipyData,e.ghipyData&&e.ghipyData.length&&e.ghipyData.map((function(e,t){t<2&&o.push(e)})),a.giphyFirstTwo=o}return void 0!==e.uploadsData&&"200"==e.uploadsData.status&&e.uploadsData!==t.uploadsData&&(a.uploadsData=e.uploadsData,a.imageList=e.uploadsData?e.uploadsData.data:[]),void 0!==e.cropActive&&e.cropActive!==t.cropActive&&(a.cropActive=e.cropActive),a}}]),a}(n.Component),os=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.objectIndex=a.objectIndex,t.canvas=a.canvasData,t.showSidebar2=a.showSidebar2,t.showSidebar2Date=new Date,t.showFilters=a.filters,t.objType=a?a.objectType:"",t.showAdjust=a?a.showAdjust:"",t.sidebarExpand=!!a&&a.mainSidebar,t.sidebarExpandDate=new Date,t.loadMore=a?a.scrollData:{},t.isUpload=!!a&&a.isUpload,t.isBackground=!!a&&a.isBackground,t.isBackgroundColor=!!a&&a.isBackgroundColor,t.isUploadDate=new Date,t.cropActive=!!a.cropState&&a.cropState),"GET_GIPHY_IMAGES"==e.SidebarReducer.action&&(e.SidebarReducer.data.meta&&200!==e.SidebarReducer.data.meta.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):(t.ghipyData=e.SidebarReducer.data.data,t.giphyListDate=new Date)),"GET_USER_UPLOAD_IMAGE"==e.SidebarReducer.action&&("200"!==e.SidebarReducer.data.status?(t.errorData=e.SidebarReducer.data,t.errorDate=new Date):t.uploadsData=e.SidebarReducer.data),t}),(function(e){return Object(d.b)({setBackground:h,addHeadingData:g,emptyData:M,headerMenu:C,showAdjustments:y,toolsMenu:k,getCanvas:v,mainSideBarState:D,scrollState:O,getSelectedType:E,getGiphy:wa,cropState:A,exportEmptyData:Da,getUserUploadImage:va,closeUploads:x,backgroundChange:I,backgroundColorChange:L},e)}))(Object(H.g)(ns)),rs=JSON.parse(sessionStorage.getItem("size")),is={google:{families:["Alfa Slab One","Source Sans Pro:300,600","Grenze Gotisch","Lobster","Dancing Script","Indie Flower","Caveat","Concert One","Lexend Zetta","Modak","Raleway","Ultra"]}},cs=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).keepOnPage=function(e){},s.callback=function(e){},s.state={showLoader:!1,cid:s.props.match.params.id,cg:s.props.match.params.cg,cWidth:940,cHeight:788,zoomValue:.5,canvasId:Object(se.a)()},s}return Object(q.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.keepOnPage)}},{key:"componentDidMount",value:function(){if(window.addEventListener("beforeunload",this.keepOnPage),this.state.cg){var e=JSON.parse(sessionStorage.getItem("size"));if(this.state.cg&&e)if("pos"==this.state.cg&&1587.4!==e.width){this.setState({cWidth:1587.4,cHeight:2245.4});var t={width:1587.4,height:2245.4,zoomValue:584/2245.4-.02};sessionStorage.setItem("size",JSON.stringify(t))}else if("fly"==this.state.cg&&793.701!==e.width){this.setState({cWidth:793.701,cHeight:1122.52});var a={width:793.701,height:1122.52,zoomValue:584/1122.52-.02};sessionStorage.setItem("size",JSON.stringify(a))}else if("log"==this.state.cg&&1500!==e.width){this.setState({cWidth:1500,cHeight:1500});var s={width:1500,height:1500,zoomValue:584/1500-.02};sessionStorage.setItem("size",JSON.stringify(s))}else if("bus"==this.state.cg&&321.26!==e.width){this.setState({cWidth:321.26,cHeight:188.976});var n={width:321.26,height:188.976,zoomValue:584/188.976-.02};sessionStorage.setItem("size",JSON.stringify(n))}else if("pre"==this.state.cg&&1920!==e.width){this.setState({cWidth:1920,cHeight:1080});var o={width:1920,height:1080,zoomValue:584/1080-.02};sessionStorage.setItem("size",JSON.stringify(o))}else if("soc"==this.state.cg&&800!==e.width){this.setState({cWidth:800,cHeight:800});var r={width:800,height:800,zoomValue:.71};sessionStorage.setItem("size",JSON.stringify(r))}else if("soc"==this.state.cg&&800!==e.width){this.setState({cWidth:800,cHeight:800});var i={width:800,height:800,zoomValue:.71};sessionStorage.setItem("size",JSON.stringify(i))}else if("ins"==this.state.cg&&1080!==e.width){this.setState({cWidth:1080,cHeight:1920});var c={width:1080,height:1920,zoomValue:584/1920-.02};sessionStorage.setItem("size",JSON.stringify(c))}else if("you"==this.state.cg&&1280!==e.width){this.setState({cWidth:1280,cHeight:720});var l={width:1280,height:720,zoomValue:584/720-.02};sessionStorage.setItem("size",JSON.stringify(l))}else if("fac"==this.state.cg&&940!==e.width){this.setState({cWidth:940,cHeight:788});var d={width:940,height:788,zoomValue:584/788-.02};sessionStorage.setItem("size",JSON.stringify(d))}else if("inp"==this.state.cg&&2160!==e.width){this.setState({cWidth:2160,cHeight:2160});var m={width:2160,height:2160,zoomValue:584/2160-.02};sessionStorage.setItem("size",JSON.stringify(m))}else if("cus"==this.state.cg&&e.width){this.setState({cWidth:e.width,cHeight:e.height});var p=584/e.height,u={width:e.width,height:e.height,zoomValue:p-.02};sessionStorage.setItem("size",JSON.stringify(u))}else console.log()}}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(W.a,{config:is,onStatus:this.callback},o.a.createElement(ee.a,{active:this.state.showLoader,text:"Preparing Your Video...",spinner:o.a.createElement(ae.a,{size:90,color:"#101010;"})},o.a.createElement("div",{className:"",id:"wrapper-inner"},o.a.createElement(Ut,null),o.a.createElement("div",{className:"container-fluid p-0"},o.a.createElement("div",{className:"canvas-flex"},o.a.createElement(os,null),o.a.createElement(Qt,{cWidth:this.state.cWidth,cHeight:this.state.cHeight,zoomValue:this.state.zoomValue})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.showLoader&&e.showLoader!==t.showLoader&&(a.showLoader=!!e.showLoader&&e.showLoader),void 0!==e.canvasSize&&e.canvasSize!==t.canvasSize&&(e.canvasSize||rs?(a.cWidth=e.canvasSize?e.canvasSize.width:rs.width,a.cHeight=e.canvasSize?e.canvasSize.height:rs.height,a.zoomValue=e.zoomValue?e.zoomValue:rs.zoomValue):e.history.push("/home")),a}}]),a}(n.Component),ls=Object(V.b)((function(e){var t={},a=e.CanvasReducer,s=e.HomeReducer;return a&&(t.showLoader=a?a.showLoader:{}),s&&(t.canvasSize=s?s.data:{}),t}),(function(e){return Object(d.b)({},e)}))(Object(H.g)(cs)),ds=a(81),ms=a(411),ps=a(412),us=a(413),hs=a(414),gs=a(190),vs=a.n(gs),fs=a(1033),bs=a(1032),Es="undefined"!==typeof InstallTrigger,ys=(!!!document.documentMode&&window.StyleMedia,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)&&window.CSS,function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(X.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).selectSize=function(t,a,s){sessionStorage.removeItem("canvasName");var n=Math.random().toString(36).substring(7),o=s,r=Object(se.a)();if(t&&a){var i=584/a,c={width:t,height:a,zoomValue:i-.02};e.props.setCanvasSize(c);var l={width:t,height:a,zoomValue:i-.02};sessionStorage.setItem("size",JSON.stringify(l))}if(!Es){var d="/design/".concat(r,"/edit/").concat(o,"&cat=").concat(n);window.open().location.href=d}Es&&setTimeout((function(){var e="/design/".concat(r,"/edit/").concat(o,"&cat=").concat(n);window.open(e,"_blank")}),0)},e}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("button",{className:"redirect_button",type:"button",style:{display:"none"}}),o.a.createElement(fs.a,{spaceBetween:30,slidesPerView:"auto",slidesPerGroup:6,simulateTouch:!1,navigation:{nextEl:".swiper-button-canvas-next",prevEl:".swiper-button-canvas-prev"},onSwiper:function(e){return console.log()},onSlideChange:function(){return console.log("")},className:"create_new_design"},o.a.createElement("h3",{className:"list_heading"},"Create a new design"),o.a.createElement("div",{className:"canvas_list swiper-wrapper"},o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(1587.4,2245.4,"pos")}},o.a.createElement("img",{className:"list_sm_image",src:"./home-img/poster.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Poster"),o.a.createElement("h6",{className:"list_sm_desc"},"1587 x 2245 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(793.701,1122.52,"fly")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Flyer.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Flyer"),o.a.createElement("h6",{className:"list_sm_desc"},"793 x 1122 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(1500,1500,"log")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Logo.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Logo"),o.a.createElement("h6",{className:"list_sm_desc"},"1500 x 1500 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(1920,1080,"pre")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Presentation_Card.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Presentation Card"),o.a.createElement("h6",{className:"list_sm_desc"},"1920 x 1080 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(800,800,"soc")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Social_media.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Social Media"),o.a.createElement("h6",{className:"list_sm_desc"},"800 x 800 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(1080,1920,"ins")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Instagram_story.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Instagram Story"),o.a.createElement("h6",{className:"list_sm_desc"},"1080 x 1920 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(1280,720,"you")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Youtube_thumbnail.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Youtube Thumbnail"),o.a.createElement("h6",{className:"list_sm_desc"},"1280 x 720 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(940,788,"fac")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Facebook_post.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Facebook Post"),o.a.createElement("h6",{className:"list_sm_desc"},"940 x 788 px")),o.a.createElement(bs.a,{className:"canvas_list_item",onClick:function(){return e.selectSize(2160,2160,"inp")}}," ",o.a.createElement("img",{className:"list_sm_image",src:"./home-img/Social_media.svg",alt:"canvas"}),o.a.createElement("h4",{className:"list_sm_title"},"Instagram Post"),o.a.createElement("h6",{className:"list_sm_desc"},"2160 x 2160 px"))),o.a.createElement("div",{className:"swiper-button-next swiper-button-canvas-next"}),o.a.createElement("div",{className:"swiper-button-prev swiper-button-canvas-prev"})))}}]),a}(n.Component)),Ss=Object(V.b)((function(e){var t={},a=e.HomeReducer;return a&&(t.canvasSize=a?a.data:{}),t}),(function(e){return Object(d.b)({setCanvasSize:B},e)}))(Object(H.g)(ys)),ws="undefined"!==typeof InstallTrigger,Cs=(!!!document.documentMode&&window.StyleMedia,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)&&window.CSS,function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).callJson=function(e){sessionStorage.removeItem("size"),sessionStorage.removeItem("canvasName");var t={id:e};s.props.loadCanvas(t)},s.deleteUserCanvas=function(e,t){e.preventDefault(),t&&s.props.deleteCanvas(t)},s.posterShared=function(e,t){var a=s.props.userInfo?s.props.userInfo:{},n={shared_on:e||"",name:a.name,email:a.email,shared_template:t||""};s.props.socialShareCount(n)},s.state={userCanvasList:[],userCanvas:{}},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserCanvas()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.state.userCanvasList&&this.state.userCanvasList.length?"bottomMargin":"noDisplay"},o.a.createElement(Ae.a,null),this.state.userCanvasList&&this.state.userCanvasList.length&&o.a.createElement(fs.a,{spaceBetween:30,slidesPerView:"auto",slidesPerGroup:6,simulateTouch:!1,navigation:{nextEl:".swiper-button-recent-next",prevEl:".swiper-button-recent-prev"},onSwiper:function(e){return console.log("sd")},onSlideChange:function(){return console.log("d")},className:"recent_designs"},o.a.createElement("h3",{className:"list_heading"},"Your Designs"),o.a.createElement("div",{className:"design_list swiper-wrapper"},this.state.userCanvasList&&this.state.userCanvasList.map((function(t,a){return o.a.createElement(bs.a,{key:a,className:"design_list_item"},o.a.createElement("div",{class:"dropdown hover-custom"},o.a.createElement("span",{className:"delete-button share-button dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("i",{className:"fa fa-ellipsis-h","aria-hidden":"true"})),o.a.createElement("div",{class:"dropdown-menu dropdown_custom dropdown_custom_right dropdown-menu-right dropdown-custom-sm ","aria-labelledby":"dropdownMenuButton"},o.a.createElement("a",{class:"dropdown-item drop_item"},o.a.createElement(Ne.a,{url:t.canvas_share?t.canvas_share:t.canvas_image?t.canvas_image:"",title:"Hey, I have just created the design over Poster Maker",hashtag:"#postermaker",via:"postermaker",style:{width:"100%",textAlign:"left"},onShareWindowClose:function(a,s){return e.posterShared("twitter",t.canvas_image)},disabled:!t.canvas_image},o.a.createElement("span",{"data-href":"https://posterapplab.com"},"Share on Twitter"))),o.a.createElement("a",{class:"dropdown-item drop_item"},o.a.createElement(Oe.a,{url:t.canvas_share?t.canvas_share:t.canvas_image?t.canvas_image:"",quote:"Hey, I have just created the design over Poster Maker ".concat(t.canvas_share?t.canvas_share:t.canvas_image?t.canvas_image:""),hashtag:"#postermaker",style:{width:"100%"},onShareWindowClose:function(a,s){return e.posterShared("facebook",t.canvas_image)},disabled:!t.canvas_image},o.a.createElement("span",{"data-href":"https://posterapplab.com"},"Share on Facebook"))),o.a.createElement("a",{class:"dropdown-item drop_item",onClick:function(a,s){return e.deleteUserCanvas(a,t._id)}},"Delete"))),o.a.createElement("div",{className:"list_image_wrapper align-items-start"},o.a.createElement("img",{src:t.canvas_image,alt:"image",onClick:function(a){return e.callJson(t._id)}})),o.a.createElement("h4",{className:"list_sm_title"},"t"==t.canvas_name[2]?"Untitled Design":t.canvas_name),o.a.createElement("h6",{className:"list_sm_desc"},"Edited on",t.createdAt?" "+t.createdAt.substring(0,10):""))}))),o.a.createElement("div",{className:"swiper-button-next swiper-button-recent-next"}),o.a.createElement("div",{className:"swiper-button-prev swiper-button-recent-prev"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},s="",n=Object(se.a)(),o="";if(e.userCanvas&&e.userCanvas!==t.userCanvas&&e.userCanvasDate!==t.userCanvasDate&&(a.userCanvas=e.userCanvas?e.userCanvas:{},a.userCanvasList=e.userCanvas?e.userCanvas.data:[],a.userCanvasDate=e.userCanvasDate),void 0!==e.canvasData&&e.canvasData!==t.canvasData){a.canvasData=e.canvasData,a.canvasObject=e.canvasData?e.canvasData.canvas_object:"",a.canvasSize=e.canvasData?e.canvasData.canvas_size:"",a.canvasCategory=e.canvasData?e.canvasData.category:"cus",sessionStorage.removeItem("canvasName"),o=e.canvasData?e.canvasData.canvas_name:"",n=e.canvasData?e.canvasData._id:Object(se.a)(),s=a.canvasCategory;var r=Math.random().toString(36).substring(7);sessionStorage.setItem("size",a.canvasSize),"u"!==o[0]&&"U"!==o[0]&&sessionStorage.setItem("canvasName",o),Gt.a.unpack(sessionStorage.setItem("J-"+n,a.canvasObject)),ws||setTimeout((function(){var e=document.createElement("a");e.target="_blank",e.href="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(r),e.click()}),0),ws&&setTimeout((function(){var e="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(r);window.open(e,"_blank")}),0),setTimeout((function(){sessionStorage.removeItem("J-"+n)}),3e3)}return a}}]),a}(n.Component)),ks=Object(V.b)((function(e){var t={};return"LOAD_CANVAS"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):t.canvasData=e.CanvasExternalReducer.data),"GET_ALL_CANVAS"===e.CanvasExternalReducer.action&&("200"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userCanvas=e.CanvasExternalReducer.data,t.userCanvasDate=new Date)),"DELETE_USER_CANVAS"===e.CanvasExternalReducer.action&&("200"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userCanvas=e.CanvasExternalReducer.data,t.userCanvasDate=new Date,t.callData=!0)),t}),(function(e){return Object(d.b)({loadCanvas:ot,getUserCanvas:rt,toolsMenu:k,deleteCanvas:ct,socialShareCount:ht},e)}))(Object(H.g)(Cs)),Ds="undefined"!==typeof InstallTrigger,As=(!!!document.documentMode&&window.StyleMedia,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)&&window.CSS,function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).loadTemplate=function(e){var t={id:e};s.props.loadTemplate(t)},s.state={data:[],term:""},s}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container mt-4"},o.a.createElement("div",{className:"search_results pl-0 pr-0"},o.a.createElement("h3",{className:"list_heading"},"Search Results for ",this.props.term),this.props.searchArray&&this.props.searchArray.length&&o.a.createElement("div",{className:"design_list search_results_list"},this.props.searchArray.map((function(t,a){return o.a.createElement("div",{className:"design_list_item",onClick:function(a){return e.loadTemplate(t._id)},key:a},o.a.createElement("div",{className:"list_image_wrapper align-items-start"},o.a.createElement("img",{src:t.template_image,alt:"search designs image"})))})))),this.props.term&&this.props.searchArray&&!this.props.showLoader&&o.a.createElement("div",{className:this.props.searchArray.length?"noDisplay":"mt-4"},o.a.createElement("h4",{className:"noDataSearch"},'Sorry, we couldn\u2019t find any templates for "',this.props.term,'"')),this.props.term&&this.props.searchArray&&this.props.showLoader&&o.a.createElement("div",{className:"mt-4"},o.a.createElement("h4",{className:"noDataSearch"},"Loading templates for "+this.props.term)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},s="",n=Object(se.a)();if(void 0!==e.loadedTemplate&&e.loadedTemplate!==t.loadedTemplate&&e.loadDate!==t.loadDate){a.loadedTemplate=e.loadedTemplate,a.templateObject=e.loadedTemplate?e.loadedTemplate.template:"",a.loadedTemplateId=e.loadedTemplate?e.loadedTemplate._id:"",a.templateSize=e.loadedTemplate?e.loadedTemplate.template_size:"",a.templateCategory=e.loadedTemplate?e.loadedTemplate.category:"cus",s=a.templateCategory;var o=Math.random().toString(36).substring(7);sessionStorage.setItem("size",a.templateSize),Gt.a.unpack(sessionStorage.setItem("J-"+n,a.templateObject)),Ds||setTimeout((function(){var e=document.createElement("a");e.target="_blank",e.href="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(o),e.click()}),0),Ds&&setTimeout((function(){var e="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(o);window.open(e,"_blank")}),0),setTimeout((function(){sessionStorage.removeItem("J-"+n)}),3e3)}return a}}]),a}(n.Component)),Os=Object(V.b)((function(e){var t={},a=e.CanvasReducer;return a&&(t.canvas=a?a.canvasData:{}),"LOAD_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.loadedTemplate=e.TemplateReducer.data,t.loadDate=new Date)),t}),(function(e){return Object(d.b)({loadTemplate:St,exportEmptyData:jt},e)}))(Object(H.g)(As)),Ns=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"modal-backdrop fade show",id:"account_settings",tabIndex:"-1","aria-labelledby":"account_settings","aria-hidden":"true",style:{paddingRight:"15px",display:"block"}},o.a.createElement("form",null,o.a.createElement("div",{className:"modal-dialog modal_custom text-center modal-dialog-centered"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"close_button","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.dismissFeedbackModal()}},o.a.createElement("img",{src:"/home-img/close.svg",alt:"icon"})),o.a.createElement("div",{className:"edit_profile"},o.a.createElement("div",{class:"modal-heading"},"Share Feedback"),o.a.createElement("p",null),o.a.createElement("p",{style:{color:"#ffffff"}},this.props.message),o.a.createElement("div",{className:"fields"},o.a.createElement("input",{type:"text",placeholder:"Subject",name:"fSubject",maxLength:100,value:this.props.fSubject,className:this.props.fSubjectError?"fieldError":"",onChange:function(t){return e.props.handleInputChange(t)},autoComplete:"off",required:!0}),o.a.createElement("textarea",{type:"text",placeholder:"Your feedback is important to us...",name:"feedback",className:this.props.feedbackError?"fieldError":"",value:this.props.feedback,onChange:function(t){return e.props.handleInputChange(t)},required:!0,autoComplete:"off"})),o.a.createElement("button",{className:"save_button",onClick:function(t){return e.props.handleFeedbackSubmit(t)}},"Submit")))))))}}]),a}(n.Component),Ts="undefined"!==typeof InstallTrigger,js=(!!!document.documentMode&&window.StyleMedia,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)&&window.CSS,function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).callJson=function(e){console.log(e),sessionStorage.removeItem("size"),sessionStorage.removeItem("canvasName");var t={id:e};s.props.loadTemplate(t)},s.deleteUserCanvas=function(e,t){e.preventDefault(),t&&s.props.deleteCanvas(t)},s.posterShared=function(e,t){var a=s.props.userInfo?s.props.userInfo:{},n={shared_on:e||"",name:a.name,email:a.email,shared_template:t||""};s.props.socialShareCount(n)},s.onShowMe=function(e){},s.state={trendingList:[],templateData:{}},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e={start_date:(new Date).toISOString()};this.props.getTrends(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"bottomMargin"},o.a.createElement(Ae.a,null),this.state.trendingList&&this.state.trendingList.length&&o.a.createElement(fs.a,{spaceBetween:30,slidesPerView:"auto",slidesPerGroup:6,simulateTouch:!1,navigation:{nextEl:".swiper-button-recent-next",prevEl:".swiper-button-recent-prev"},onSwiper:function(e){return console.log("sd")},onSlideChange:function(){return console.log("d")},className:"recent_designs"},o.a.createElement("h3",{className:"list_heading"},"Trending Designs"),o.a.createElement("div",{className:"design_list swiper-wrapper"},this.state.trendingList&&this.state.trendingList.length&&this.state.trendingList.map((function(t,a){return o.a.createElement(bs.a,{key:a,className:"design_list_item"},o.a.createElement("div",{className:"list_image_wrapper align-items-start"},o.a.createElement("img",{src:t.template_image,alt:"image",onClick:function(a){return e.callJson(t._id)}})))}))),o.a.createElement("div",{className:"swiper-button-next swiper-button-recent-next"}),o.a.createElement("div",{className:"swiper-button-prev swiper-button-recent-prev"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},s="",n=Object(se.a)(),o="";if(e.templateData&&e.templateData!==t.templateData&&e.templateDataDate!==t.templateDataDate&&(a.trendingData=e.templateData?e.templateData:{},a.trendingList=e.templateData?e.templateData.data:[],a.templateDaaDate=e.templateDataDate),void 0!==e.canvasData&&e.canvasData!==t.canvasData){a.canvasData=e.canvasData,a.canvasObject=e.canvasData?e.canvasData.template:"",a.canvasSize=e.canvasData?e.canvasData.template_size:"",a.canvasCategory=e.canvasData?e.canvasData.category:"cus",sessionStorage.removeItem("canvasName"),e.canvasData,o="",n=e.canvasData?e.canvasData._id:Object(se.a)(),s=a.canvasCategory;var r=Math.random().toString(36).substring(7);if(sessionStorage.setItem("size",a.canvasSize),"u"!==o[0]&&"U"!==o[0]&&sessionStorage.setItem("canvasName",o),Gt.a.unpack(sessionStorage.setItem("J-"+n,a.canvasObject)),!Ts){var i="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(r);window.open().location.href=i}Ts&&setTimeout((function(){var e="/design/".concat(n,"/edit/").concat(s,"&cat=").concat(r);window.open(e,"_blank")}),0),setTimeout((function(){sessionStorage.removeItem("J-"+n)}),3e3)}return a}}]),a}(n.Component)),_s=Object(V.b)((function(e){var t={};return"GET_TRENDS"===e.TemplateReducer.action&&(200!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.templateData=e.TemplateReducer.data,t.templateDataDate=new Date)),"LOAD_TEMPLATE"===e.TemplateReducer.action&&("success"!==e.TemplateReducer.data.status?(t.errorData=e.TemplateReducer.data,t.errorDate=new Date):(t.canvasData=e.TemplateReducer.data,t.canvasDataDate=new Date)),t}),(function(e){return Object(d.b)({toolsMenu:k,getTrends:_t,loadTemplate:St},e)}))(Object(H.g)(js)),xs=(n.Component,function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(X.a)(this,a),t.apply(this,arguments)}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"top_section"},o.a.createElement("div",{className:"dropdown d-flex align-items-center show"},o.a.createElement("div",{class:"home_icon mr-5",onClick:this.props.handleSearchClose},o.a.createElement("a",null,o.a.createElement("img",{src:"./home-img/home_ic.svg",onContextMenu:function(e){return e.preventDefault()}}))),!this.props.showRefer&&!this.props.showLeader&&o.a.createElement("button",{className:"create_new_dimensions",type:"button",onClick:this.props.showCustomModal},o.a.createElement("img",{src:"./home-img/custom.svg",alt:"icon"})," \xa0Custom Dimensions"),this.props.showModalE&&o.a.createElement("div",{className:"dropdown-menu dropdown_custom dropdown_custom_left show",style:{marginLeft:"60px"}},o.a.createElement("div",{className:"create_new_dimensions_dropdown"},o.a.createElement("input",{type:"text",placeholder:"width in px",value:this.props.cwidth,onChange:this.props.handleInputChange,name:"cwidth",autoComplete:"off",className:this.props.widthErrorClass?"fieldErrorHome":""}),o.a.createElement("span",{className:"ratio_lock"},o.a.createElement("img",{src:"./home-img/unlocked.svg",alt:"icon"})),o.a.createElement("input",{type:"text",placeholder:"height in px",value:this.props.cheight,name:"cheight",onChange:this.props.handleInputChange,autoComplete:"off",className:this.props.heightErrorClass?"fieldErrorHome":""}),o.a.createElement("button",{type:"button",className:"create_button",onClick:function(){return e.props.customSize()}},"Create")))),o.a.createElement("div",{className:"dropdown",onClick:this.props.setOthers},this.props.userInfo&&o.a.createElement("div",{className:"profile_dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o.a.createElement("div",{className:"profile_avatar"},o.a.createElement("img",{src:this.props.userInfo&&this.props.userInfo.profile_picture_url?this.props.userInfo.profile_picture_url:"./home-img/placeholder.svg",alt:"avatar"})),o.a.createElement("div",{className:"profile_desc"},o.a.createElement("h4",null,this.props.userInfo.name),o.a.createElement("h6",null,"xxx@xxx.com"==this.props.userInfo.email?"":this.props.userInfo.email),o.a.createElement("img",{src:"./home-img/dropdown.svg",alt:"icon"}))),o.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown_custom dropdown_custom_right"},o.a.createElement("a",{className:"drop_item",onClick:this.props.showModal},"Account Settings"),o.a.createElement("a",{class:"drop_item",onClick:this.props.openFeedbackModal},"Feedback"),o.a.createElement("a",{className:"drop_item",onClick:this.props.showReferModal},"Refer & Earn"),o.a.createElement("a",{className:"drop_item",onClick:this.props.showLeaderModal},"Leadership Board"),o.a.createElement("a",{className:"drop_item",onClick:function(){return e.props.logout()}},"Logout")))))}}]),a}(n.Component)),Is=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).copyToClipBoard=function(){vs()(s.state.referLink),s.setState({copied:!0})},s.handleInputChange=function(e){var t,a=e.target.value;s.setState((t={},Object(ie.a)(t,e.target.name,a),Object(ie.a)(t,"message",""),t))},s.handleSubmitList=function(e){var t=!1,a=s.state.inviteEmail.split(", ");if(console.log(a),a&&a.length&&a.map((function(e,a){if(!le.a.isEmail(e))return s.setState({emailError:"fieldError"}),void(t=!0)})),0==t&&s.setState({emailError:!1,message:"Sending mails...."}),1!=t){var n={mails:a,refer_link:s.state.referLink};s.props.inviteFriends(n)}},s.googleImport=function(){},s.state={referLink:"",copied:!1,googleEmail:"",googlePassword:"",inviteEmail:"",message:""},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{class:"container mb-5"},o.a.createElement("div",{class:"referral-box-container refer-friends-box"},o.a.createElement("div",{class:"row mb-3"},o.a.createElement("div",{class:"col-12"},o.a.createElement("img",{src:"/home-img/refer-win.png",class:"img-fluid refer-img"}))),o.a.createElement("h1",{class:"text-center"},"Invite your friends"),o.a.createElement("div",{class:"invitation-box"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h3",null,"Invite by email addresses"),this.state.message&&o.a.createElement("p",{className:"",style:{color:"red",fontSize:"12px"}},this.state.message)),o.a.createElement("div",{class:"col-12"},o.a.createElement("textarea",{class:this.state.emailError?"form-control form-group fieldError":"form-control form-group",placeholder:"Type a list of invitee email addresses separated by comma.",value:this.state.inviteEmail,onChange:this.handleInputChange,name:"inviteEmail"})),o.a.createElement("div",{class:"col-12 text-center"},o.a.createElement("button",{type:"submit",class:"btn invite-btn",onClick:function(t){return e.handleSubmitList()}},"Send invites")))),o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12 text-center or-text my-4"},"or")),o.a.createElement("div",{class:"invitation-box"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("div",{class:"copy-link-box"},o.a.createElement("div",{class:"d-flex-"},o.a.createElement("span",{class:"or-use"},"or use this link with friends"),o.a.createElement("input",{type:"text",class:"form-control form-group copy-link",placeholder:"",value:this.state.referLink,disabled:!0}),o.a.createElement("button",{type:"submit",class:"btn invite-btn copy-link ml-3",onClick:this.copyToClipBoard},"Copy link"),this.state.copied&&o.a.createElement("a",{className:"ml-2",style:{color:"red"}},"Copied"))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.referLink&&e.referLink!==t.referLink&&(a.referLink=e.referLink),void 0!==e.inviteUsers&&e.inviteUsers!==t.inviteUsers&&e.inviteUsersDate!==t.inviteUsersDate&&(a.inviteUsersDate=e.inviteUsersDate,a.message="Invite mails sent to the given email addresses"),a}}]),a}(n.Component),Ls=Object(V.b)((function(e){return{}}),(function(e){return Object(d.b)({exportEmptyData:ft,inviteFriends:gt},e)}))(Object(H.g)(Is)),Ms=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).state={},s}return Object(q.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"referral-box-container"},o.a.createElement("h1",null,"Top Inviters"),o.a.createElement("div",{class:"table-responsive"},o.a.createElement("table",{class:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"}),o.a.createElement("th",{scope:"col"},"Name"),o.a.createElement("th",{scope:"col"},"Invited"),o.a.createElement("th",{scope:"col"},"Pending"),o.a.createElement("th",{scope:"col"},"Joined"))),o.a.createElement("tbody",null,this.props.leaders&&this.props.leaders.length>0&&this.props.leaders.map((function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{class:"winner-img"},o.a.createElement("img",{src:e.profile_picture_url?e.profile_picture_url:"./home-img/placeholder.svg",class:"img-fluid"}))),o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.invites),o.a.createElement("td",null,e.pending?e.pending:0),o.a.createElement("td",null,e.referral_count?e.referral_count:0))}))))))))}}]),a}(n.Component),Rs="undefined"!==typeof InstallTrigger;!!!document.documentMode&&window.StyleMedia,!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)&&window.CSS;ds.a.use([ms.a,ps.a,us.a,hs.a]);var Ps=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target.value;s.setState(Object(ie.a)({},e.target.name,t))},s.customSize=function(){var e=Math.random().toString(36).substring(7),t=!1,a=Object(se.a)();if(s.setState({widthErrorClass:"",heightErrorClass:"",formError:!1}),(void 0==typeof s.state.cheight||null==s.state.cheight||s.state.cheight<100||s.state.cheight>8e3)&&(s.setState({errorMessage:"",heightErrorClass:"fieldErrorHome",showModal:!0}),t=!0),(void 0==typeof s.state.cwidth||null==s.state.cwidth||s.state.cwidth<100||s.state.cwidth>8e3)&&(s.setState({errorMessage:"",widthErrorClass:"fieldErrorHome",showModal:!0}),t=!0),!0!==t){var n=s.state.cwidth/s.state.cheight,o={width:s.state.cwidth,height:s.state.cheight,zoomValue:n/3};s.props.setCanvasSize(o);var r={width:s.state.cwidth,height:s.state.cheight,zoomValue:n/3};if(sessionStorage.setItem("size",JSON.stringify(r)),!Rs){var i="/design/".concat(a,"/edit/").concat("cus","&cat=").concat(e);window.open().location.href=i}Rs&&setTimeout((function(){var t="/design/".concat(a,"/edit/").concat("cus","&cat=").concat(e);window.open(t,"_blank")}),0)}},s.showCustomModal=function(){s.setState({showModal:!s.state.showModal,widthErrorClass:"",heightErrorClass:""})},s.setOthers=function(){s.setState({showModal:!1,widthErrorClass:"",heightErrorClass:"",cheight:"",cwidth:""})},s.handleSubmit=function(e){if(s.props.exportEmptyData(),e.preventDefault(),s.state.term!==s.state.showterm)if(s.setState({searchActive:!0,searchResultsArray:[],currentPage:1,pageSize:20,showterm:s.state.term}),s.state.term){var t={term:s.state.term?s.state.term.trim():"",currentPage:1,pageSize:20};s.props.templateSearchOuter(t)}else s.handleSearchClose()},s.handleScroll=function(e){s.props.exportEmptyData();var t=e.target;if(t.scrollHeight-t.scrollTop===t.clientHeight&&s.state.searchActive&&s.state.currentPage!==s.state.count&&s.state.count!==s.state.pageSize){var a={currentPage:s.state.currentPage+1,pageSize:s.state.pageSize,term:s.state.term?s.state.term:s.state.showterm};s.props.templateSearchOuter(a),s.setState({currentPage:a.page})}},s.handleSearchClose=function(){s.props.exportEmptyData(),s.setState({term:"",searchActive:!1,searchResultsArray:[],currentPage:1,pageSize:20,showterm:"",showRefer:!1,showLeader:!1}),s.props.history.push("/home")},s.handleModalSubmit=function(){if(ke()){var e=!1,t=s.state.password;if(s.setState({emailError:"",passwordError:"",formError:!1,nameError:""}),void 0!=typeof s.state.name&&null!=s.state.name&&""!=s.state.name.trim()||(s.setState({errorMessage:"",nameError:"fieldError"}),e=!0),void 0!=typeof s.state.email&&null!=s.state.email&&""!=s.state.email||(s.setState({errorMessage:"",emailError:"fieldError"}),e=!0),s.state.password&&s.state.password.length){if(void 0!==typeof s.state.password&&null!==s.state.password&&""!==s.state.password||(s.setState({errorMessage:"",passwordError:"fieldError"}),e=!0),void 0!==typeof s.state.confirmPassword&&null!==s.state.confirmPassword&&""!==s.state.confirmPassword||(s.setState({errorMessage:"",confirmPasswordError:"fieldError"}),e=!0),!le.a.isEmail(s.state.email))return s.setState({formError:!0,emailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(e=!0);if(s.state.password.length<8)return s.setState({errorMessage:"Your password must be at least 8 characters",passwordError:"fieldError",formError:!0}),void(e=!0);if(t.search(/[a-z]/i)<0)return s.setState({errorMessage:"Your password must contain at least one letter.",passwordError:"fieldError",formError:!0}),void(e=!0);if(t.search(/[0-9]/)<0)return s.setState({errorMessage:"Your password must contain at least one digit.",passwordError:"fieldError",formError:!0}),void(e=!0);s.state.password!==s.state.confirmPassword&&(s.setState({errorMessage:"Password not matched!",passwordError:"fieldError",confirmPasswordError:"fieldError",formError:!0}),e=!0)}if(!0===e)return;var a=new FormData;a.append("profile_picture_url",s.state.file?s.state.file:""),a.append("email",s.state.email),a.append("password",s.state.password),a.append("name",s.state.name),s.props.updateMe(a)}},s.showModal=function(){s.setState({showProfileModal:!0,passwordError:"",confirmPasswordError:"",nameError:"",emailError:""})},s.dismissModal=function(){s.setState({showProfileModal:!1})},s.openFeedbackModal=function(){s.setState({showFeedbackModal:!0,showProfileModal:!1,fSubject:"",feedback:"",feedbackError:"",fSubjectError:"",message:""})},s.dismissFeedbackModal=function(){s.setState({showFeedbackModal:!1})},s.dismissReferModal=function(){s.setState({showRefer:!1,copied:!1})},s.handleFeedbackSubmit=function(e){if(e.preventDefault(),ke()){var t,a=!1;if(s.setState({fSubjectError:"",feedbackError:"",formError:!1}),void 0!==typeof s.state.fSubject&&null!==s.state.fSubject&&""!==s.state.fSubject.trim()||(s.setState({errorMessage:"",fSubjectError:"fieldError"}),a=!0),void 0!==typeof s.state.feedback&&null!==s.state.feedback&&""!==s.state.feedback.trim()||(s.setState({errorMessage:"",feedbackError:"fieldError"}),a=!0),!0===a)return;s.setState({message:"Please wait ...."}),t={subject:s.state.fSubject,feedback:s.state.feedback,email:s.state.email,name:s.state.name},s.props.shareFeedback(t)}},s.showReferModal=function(){s.props.history.push("/refer"),s.setState({showRefer:!0})},s.copyToClipBoard=function(){vs()(s.state.referLink),s.setState({copied:!0})},s.showLeaderModal=function(){s.props.getLeaders(),setTimeout((function(){s.props.history.push("/leaders")}),1e3),s.setState({showLeader:!0,showRefer:!1})},s.state={userInfo:{},cwidth:"",cheight:"",zoomValue:"",userCanvasList:[],userCanvas:{},category:"",allCanvas:{},searchActive:!1,searchResultsArray:[],term:"",currentPage:1,pageSize:20,count:-1,showterm:"",name:"",email:"",password:"",confirmPassword:"",file:"",showFeedbackModal:!1,feedback:"",fSubject:"",message:"",showRefer:!1,copied:!1,referLink:"",fName:"",lName:"",rEmail:"",path:s.props.match.path,showLeader:!1,leaders:[],referrals:[]},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){for(var e in"/refer"===this.props.match.path&&this.setState({showRefer:!0}),"/leaders"===this.props.match.path&&this.setState({showLeader:!0}),sessionStorage.removeItem("size"),sessionStorage.removeItem("canvasName"),sessionStorage)e[0]+e[1]=="J-"&&sessionStorage.removeItem(e);this.props.getLeaders(),this.props.getUser()}},{key:"componentDidUpdate",value:function(e,t,a){}},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var a=e.target.files[0];this.setState({file:a});var s=new FileReader;s.onloadend=function(){var e=s.result,a=s.result.split(",")[1],n=atob(a);t.setState({profileImage:JSON.stringify(n)}),t.setState({imagePreviewUrl:e,profilePicture:e,inShow:!0})},a&&s.readAsDataURL(a)}},{key:"render",value:function(){var e=this,t=this.state.imagePreviewUrl;return t?o.a.createElement("img",{src:t}):o.a.createElement("div",{className:"previewText"}),o.a.createElement("div",{style:{overflow:"auto",backgroundColor:"#0b0a12"},onScroll:this.handleScroll},o.a.createElement("div",{className:"landing-page"},o.a.createElement(zt,{name:this.state.name?this.state.name:""}),o.a.createElement(Jt,null),o.a.createElement(xs,{handleInputChange:this.handleInputChange,showModal:this.showModal,handleSearchClose:this.handleSearchClose,showCustomModal:this.showCustomModal,showModalE:this.state.showModal,cwidth:this.state.cwidth,widthErrorClass:this.state.widthErrorClass,cheight:this.state.cheight,heightErrorClass:this.state.heightErrorClass,customSize:function(){return e.customSize()},setOthers:this.setOthers,userInfo:this.state.userInfo,openFeedbackModal:this.openFeedbackModal,showReferModal:this.showReferModal,logout:function(){return ye()},showRefer:this.state.showRefer,showLeaderModal:this.showLeaderModal,showLeader:this.state.showLeader}),!this.state.showRefer&&!this.state.showLeader&&o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"search_section",onClick:this.setOthers},o.a.createElement("h2",null,"What would you like to design?"),o.a.createElement("div",{className:"search_templates"},o.a.createElement("img",{src:"./home-img/search.svg",alt:"icon"}),o.a.createElement("input",{type:"text",placeholder:"Search Templates",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange,name:"term"}),this.state.searchActive&&o.a.createElement("div",{className:"clear_all",onClick:this.handleSearchClose},"\u2715 Clear")))),o.a.createElement("div",{className:this.state.searchActive?"noDisplay":""},o.a.createElement("div",{className:"",onClick:this.setOthers},o.a.createElement(Ss,null)),o.a.createElement("div",{onClick:this.setOthers},o.a.createElement(ks,{userInfo:this.state.userInfo})),o.a.createElement("div",{onClick:this.setOthers},o.a.createElement(_s,{userInfo:this.state.userInfo}))),this.state.searchActive&&this.state.searchResultsArray&&o.a.createElement(Os,{searchArray:this.state.searchResultsArray.length?this.state.searchResultsArray:[],term:this.state.showterm})),this.state.showRefer&&o.a.createElement(Ls,{referLink:this.state.referLink,inviteUsers:this.state.inviteUsers,inviteUsersDate:this.state.inviteUsersDate}),this.state.showLeader&&!this.state.showRefer&&o.a.createElement(Ms,{leaders:this.state.leaders,referrals:this.state.referrals})),o.a.createElement("div",{className:this.state.showProfileModal?"modal-backdrop fade show":"modal fade noDisplay",id:"account_settings",tabIndex:"-1","aria-labelledby":"account_settings","aria-hidden":"true",style:{paddingRight:"15px",display:"block"}},o.a.createElement("form",null,o.a.createElement("div",{className:"modal-dialog modal_custom text-center modal-dialog-centered"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"close_button","data-dismiss":"modal","aria-label":"Close",onClick:this.dismissModal},o.a.createElement("img",{src:"/home-img/close.svg",alt:"icon"})),o.a.createElement("div",{className:"edit_profile"},o.a.createElement("div",{className:"profile_image"},this.state.profilePicture&&o.a.createElement("img",{src:this.state.profilePicture})),o.a.createElement("div",{className:"select_file"},o.a.createElement("label",{for:"select_file"},"Update Picture"),o.a.createElement("input",{type:"file",name:"profile_picture_url",onChange:function(t){return e._handleImageChange(t)},id:"select_file",accept:"image/png, image/jpeg, image/jpg"})),o.a.createElement("div",{className:"fields"},o.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:this.state.name,className:this.state.nameError?"fieldError":"",onChange:this.handleInputChange,autoComplete:"off",required:!0}),o.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",className:this.state.emailError?"fieldError":"",value:this.state.email,onChange:this.handleInputChange,required:!0,autoComplete:"off",disabled:!!this.state.email}),o.a.createElement("input",{type:"password",placeholder:"New Password",name:"password",value:this.state.password,className:this.state.passwordError?"fieldError":"",onChange:this.handleInputChange,required:!0,autoComplete:"off"}),o.a.createElement("input",{type:"password",value:this.state.confirmPassword,placeholder:"Confirm Password",name:"confirmPassword",className:this.state.confirmPasswordError?"fieldError":"",autoComplete:"off",onChange:this.handleInputChange,required:!0})),o.a.createElement("button",{className:"save_button",onClick:this.handleModalSubmit},"Save Changes")))))),this.state.showFeedbackModal&&o.a.createElement(Ns,{dismissFeedbackModal:function(){return e.dismissFeedbackModal()},handleInputChange:function(t){return e.handleInputChange(t)},feedbackError:this.state.feedbackError,fSubjectError:this.state.fSubjectError,handleFeedbackSubmit:function(t){return e.handleFeedbackSubmit(t)},message:this.state.message,fSubject:this.state.fSubject,feedback:this.state.feedback}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.exportEmptyData();var a={};return void 0!==e.userInfo&&e.userInfo!==t.userInfo&&e.userInfoDate!==t.userInfoDate&&(a.userInfo=e.userInfo?e.userInfo.data:{},a.email=e.userInfo?e.userInfo.data.email:"",a.name=e.userInfo?e.userInfo.data.name:"",a.profilePicture=e.userInfo?e.userInfo.data.profile_picture_url:"",a.referLink=e.userInfo?e.userInfo.data.refer_link:"",void 0!==e.updated&&1==e.updated&&(a.showProfileModal=!1,a.update=!1,a.file="",a.password="",a.confirmPassword="")),void 0!==e.allCanvas&&t.searchResultsArray&&0==t.searchResultsArray.length&&1==e.allCanvas.success&&(a.allCanvas=e.allCanvas?e.allCanvas.data:{},a.searchResultsArray=e.allCanvas.data?e.allCanvas.data.result:[],a.count=e.allCanvas.data?e.allCanvas.data.meta.count:0,a.currentPage=e.allCanvas.data?e.allCanvas.data.meta.currentPage:0,a.pageSize=e.allCanvas.data?e.allCanvas.data.meta.pageSize:0),void 0!==e.allCanvas&&e.allCanvas!==t.allCanvas&&0!==t.searchResultsArray.length&&e.allCanvasDate!==t.allCanvasDate&&(a.allCanvasDate=e.allCanvasDate,a.searchResultsArray=[].concat(Object(ta.a)(t.searchResultsArray),Object(ta.a)(e.allCanvas.data.result)),a.count=e.allCanvas.data?e.allCanvas.data.meta.count:0,a.currentPage=e.allCanvas.data?e.allCanvas.data.meta.currentPage:0),void 0!==e.feedbackSubmit&&e.feedbackSubmit!==t.feedbackSubmit&&e.feedbackSubmitDate!==t.feedbackSubmitDate&&(a.feedbackSubmitDate=e.feedbackSubmitDate,a.message=e.feedbackSubmit?e.feedbackSubmit.message:"",a.fSubject="",a.feedback=""),void 0!==e.errorData&&e.errorData!==t.errorData&&"success"!==e.errorData.status&&(a.message=e.errorData?e.errorData.message:"Internal server error"),void 0!==e.inviteUsers&&e.inviteUsers!==t.inviteUsers&&e.inviteUsersDate!==t.inviteUsersDate&&(a.inviteUsersDate=e.inviteUsersDate,a.inviteUsers=e.inviteUsers),void 0!==e.leaders&&e.leaders!==t.leaders&&e.leadersDate!==t.leadersDate&&(a.leadersDate=e.leadersDate,a.leaders=e.leaders?e.leaders.data:[],a.referrals=e.leaders?e.leaders.referrals:[]),a}}]),a}(n.Component),Us=Object(V.b)((function(e){var t={},a=e.HomeReducer;return a&&(t.canvasSize=a?a.data:{}),"USER_INFO"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userInfo=e.CanvasExternalReducer.data,t.userInfoDate=new Date)),"UPDATE_USER"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.userInfo=e.CanvasExternalReducer.data,t.userInfoDate=new Date,t.updated=!0)),"SEARCH_ALL_TEMPLATE"===e.CanvasExternalReducer.action&&(!0!==e.CanvasExternalReducer.data.success?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.allCanvas=e.CanvasExternalReducer.data,t.allCanvasDate=new Date)),"USER_FEEDBACK"===e.CanvasExternalReducer.action&&("success"!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.feedbackSubmit=e.CanvasExternalReducer.data,t.feedbackSubmitDate=new Date)),"INVITE_MAILS"===e.CanvasExternalReducer.action&&(200!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.inviteUsers=e.CanvasExternalReducer.data,t.inviteUsersDate=new Date)),"GET_LEADERS"===e.CanvasExternalReducer.action&&(200!==e.CanvasExternalReducer.data.status?(t.errorData=e.CanvasExternalReducer.data,t.errorDate=new Date):(t.leaders=e.CanvasExternalReducer.data,t.leadersDate=new Date)),t}),(function(e){return Object(d.b)({setCanvasSize:B,getUser:lt,updateMe:pt,templateSearchOuter:dt,shareFeedback:ut,getLeaders:vt,exportEmptyData:ft},e)}))(Object(H.g)(Ps)),Fs=(n.Component,function(e){var t=e.component,a=Object(s.a)(e,["component"]);return o.a.createElement(H.b,Object.assign({},a,{render:function(e){return be()?o.a.createElement(t,e):o.a.createElement(H.a,{to:"/login"})}}))}),Bs=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).state={hasError:!1},s}return Object(q.a)(a,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("div",{className:"main protected"},o.a.createElement("div",{className:"something-wrong"},o.a.createElement($.b,{to:"/logout",className:"click-logout"},"Click to Logout"))):this.props.children}}]),a}(o.a.Component),Gs=o.a.createElement(Bs,null,o.a.createElement(H.d,null,o.a.createElement(H.a,{exact:!0,path:"/",to:"/login"}),o.a.createElement(H.a,{exact:!0,path:"/login",to:"/login"}),o.a.createElement(H.a,{exact:!0,path:"/design/:id/edit/",to:"/login"}),o.a.createElement(H.a,{exact:!0,path:"/design/",to:"/login"}),o.a.createElement(H.a,{exact:!0,path:"/design/:id",to:"/login"}),o.a.createElement(Fs,{exact:!0,path:"/design/:id/edit/:cg&cat=:cd",component:ls}),o.a.createElement(Fs,{exact:!0,path:"/home",component:Us}),o.a.createElement(Fs,{exact:!0,path:"/refer",component:Us}),o.a.createElement(Fs,{exact:!0,path:"/leaders",component:Us}))),zs=a(51);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(1019),a(1020),a(1021),a(1022),a(1023),a(1024),a(1025),a(1026);var Vs=a(430),Hs=a.n(Vs),Js=a(431),Ys=a.n(Js),Ws=he,Xs=ue.a.create();function qs(e){return function(t){Xs.post(Ws+"user-signup",e).then((function(e){t({type:"SIGN_UP_BASIC",payload:e.data})})).catch((function(e){e.response&&t({type:"SIGN_UP_BASIC",payload:e.response.data})}))}}function Ks(e){return function(t){Xs.post(Ws+"user-login",e).then((function(e){t({type:"LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&t({type:"LOGIN_ERROR",payload:e.response.data})}))}}function Zs(e){return function(t){Xs.post(Ws+"social-login",e).then((function(e){t({type:"SOCIAL_LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&t({type:"SOCIAL_LOGIN_ERROR",payload:e.response.data})}))}}function $s(e){return function(t){Xs.post(Ws+"forget-password",e).then((function(e){t({type:"FORGET_PASSWORD",payload:e.data})})).catch((function(e){e.response&&t({type:"FORGET_PASSWORD",payload:e.response.data})}))}}function Qs(e){return function(t){Xs.post(Ws+"reset-password",e).then((function(e){t({type:"RESET_PASSWORD",payload:e.data})})).catch((function(e){e.response&&t({type:"RESET_PASSWORD",payload:e.response.data})}))}}function en(e){return function(t){Xs.post(Ws+"contact-us",e).then((function(e){t({type:"CONTACT_US",payload:e.data})})).catch((function(e){e.response&&t({type:"CONTACT_US",payload:e.response.data})}))}}function tn(){return function(e){Xs.get(Ws+"refer/get-leaders").then((function(t){e({type:"GET_LEADERS_OUTER",payload:t.data})})).catch((function(t){t.response&&e({type:"GET_LEADERS_OUTER",payload:t.response.data})}))}}Xs.interceptors.response.use((function(e){var t;return e.headers.access_token&&(t=e.headers.access_token,localStorage.setItem("access-token",JSON.stringify(t)),ue.a.defaults.headers.common.Authorization=Ee()),e}),(function(e){return 602===e.response.data.status&&(window.location.href="/"),Promise.reject(e)}));var an=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;"name"==e.target.name&&""!==a&&s.setState({nameError:""}),s.setState(Object(ie.a)({},e.target.name,a))},s.handleSubmit=function(e){if(e.preventDefault(),ke()){var t,a=!1;if(s.setState({emailError:"",passwordError:"",formError:!1,resetState:!1}),void 0!=typeof s.state.email&&null!=s.state.email&&""!=s.state.email||(s.setState({errorMessage:"",emailError:"fieldError"}),a=!0),void 0!==typeof s.state.password&&null!==s.state.password&&""!==s.state.password||(s.setState({errorMessage:"",passwordError:"fieldError"}),a=!0),!0===a)return;if(!le.a.isEmail(s.state.email))return s.setState({formError:!0,emailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(a=!0);t={email:s.state.email,password:s.state.password},1==s.state.remember_check&&(localStorage.setItem("sessionEmail",s.state.email),localStorage.setItem("session",s.state.remember_check)),0==s.state.remember_check&&(localStorage.removeItem("sessionEmail"),localStorage.removeItem("session")),s.setState({userChange:!1}),s.props.userLogin(t)}},s.handleSubmitSignup=function(e){if(e.preventDefault(),ke()){var t,a=!1,n=s.state.password;if(s.setState({emailError:"",passwordError:"",formError:!1,nameError:""}),void 0!=typeof s.state.name&&null!=s.state.name&&""!=s.state.name.trim()||(s.setState({errorMessage:"",nameError:"fieldError"}),a=!0),void 0!=typeof s.state.email&&null!=s.state.email&&""!=s.state.email||(s.setState({errorMessage:"",emailError:"fieldError"}),a=!0),void 0!==typeof s.state.password&&null!==s.state.password&&""!==s.state.password||(s.setState({errorMessage:"",passwordError:"fieldError"}),a=!0),!0===a)return;if(!le.a.isEmail(s.state.email))return s.setState({formError:!0,emailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(a=!0);if(s.state.password.length<8)return s.setState({errorMessage:"Your password must be at least 8 characters",passwordError:"fieldError",formError:!0}),void(a=!0);if(n.search(/[a-z]/i)<0)return s.setState({errorMessage:"Your password must contain at least one letter.",passwordError:"fieldError",formError:!0}),void(a=!0);if(n.search(/[0-9]/)<0)return s.setState({errorMessage:"Your password must contain at least one digit.",passwordError:"fieldError",formError:!0}),void(a=!0);t={email:s.state.email,password:s.state.password,name:s.state.name,refer:s.state.id?s.state.id:""},s.setState({userChange:!1}),s.props.signUpBasic(t)}},s.responseGoogle=function(e){var t={};e&&e.profileObj&&e.profileObj.email?(t={googleId:e.googleId?e.googleId:"",name:e.profileObj?e.profileObj.name:"",email:e.profileObj?e.profileObj.email:"",token:e.accessToken?e.accessToken:"",google_token:e.accessToken?e.accessToken:"",profile_picture_url:e.profileObj?e.profileObj.imageUrl:"",refer:s.state.id?s.state.id:""},s.setState({userChange:!1}),s.props.socialLogin(t)):console.error("Google error, please try again later!")},s.handleFBLogin=function(e){var t={};e?(t={fbId:e.userID?e.userID:"",name:e.name?e.name:"",email:e.email?e.email:"",token:e.accessToken?e.accessToken:"",profile_picture_url:e.picture?e.picture.data.url:"",refer:s.state.id?s.state.id:""},s.setState({userChange:!1}),s.props.socialLogin(t)):console.error("Facebook error, please try again later!")},s.showLoginModal=function(){s.setState({showLogin:!0,showButtons:!1,showSignup:!1,name:"",email:s.state.emailR,password:"",formError:!1,displayForget:!1,emailError:"",passwordError:"",showResetPass:!1,showPolicy:!1}),s.state.emailR||s.setState({showLogin:!0,showButtons:!1,showSignup:!1,name:"",email:"",password:"",formError:!1,displayForget:!1,emailError:"",passwordError:"",showResetPass:!1,showPolicy:!1})},s.showSignupModal=function(){s.setState({showSignup:!0,showButtons:!1,showLogin:!1,name:"",email:s.state.emailR?"":s.state.emailR,password:"",formError:!1,displayForget:!1,resetState:!1,emailError:"",passwordError:"",showPolicy:!1}),s.props.resetLoginState(!1)},s.showButtonsModal=function(){s.setState({showSignup:!1,showButtons:!0,showLogin:!1,name:"",email:"",password:"",formError:!1,displayForget:!1,showResetPass:!1,showPolicy:!1}),s.props.resetLoginState(!1)},s.showForgetPassword=function(){var e;s.setState((e={errorMessage:"",displayForget:!s.state.displayForget,showSignup:!1,showButtons:!1,showLogin:!1,name:"",email:"",password:"",formError:!1,showPolicy:!1,emailError:"",passwordError:""},Object(ie.a)(e,"errorMessage",""),Object(ie.a)(e,"userChange",!0),e)),s.props.resetLoginState(!1)},s.handleforgetPassword=function(e){if(e.preventDefault(),ke()){var t=!1;if(s.setState({emailError:"",passwordError:"",formError:!1}),void 0!=typeof s.state.email&&null!=s.state.email&&""!=s.state.email||(s.setState({errorMessage:"",emailError:"fieldError"}),t=!0),!le.a.isEmail(s.state.email))return s.setState({formError:!0,emailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(t=!0);if(!0===t)return;var a={email:s.state.email};s.setState({userChange:!1}),s.props.forgetPassword(a)}},s.showHome=function(){s.setState({showLogin:!1,showButtons:!0,showSignup:!1,name:"",email:s.state.emailR,password:"",formError:!1,displayForget:!1,emailError:"",passwordError:"",showResetPass:!1,showPolicy:!1})};var n=localStorage.getItem("sessionEmail"),o=localStorage.getItem("session");return s.state={showSignup:!1,showLogin:!1,showButtons:!0,name:"",email:"",emailR:n||"",password:"",errorMessage:"",formError:!1,displayForget:!1,showResetPass:!1,forgetPasswordData:{},resetSuccess:!1,resetState:!1,remember_check:o||!1,showPolicy:!1,userChange:!1,id:s.props.match.params.uid},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.setState({errorMessage:"",formError:!1})}},{key:"render",value:function(){return o.a.createElement("section",{className:"App-section"},o.a.createElement("div",{className:"container"},o.a.createElement(zt,{name:"Guest"}),o.a.createElement(Jt,null),o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("a",{className:"navbar-brand",onClick:this.showButtonsModal},o.a.createElement("img",{src:"/img/logo.png",alt:"logo"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03"},o.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link home",onClick:this.showButtonsModal},"Home ",o.a.createElement("span",{className:"sr-only"},"(current)")))),o.a.createElement("div",{className:"ml-auto mr-auto",style:{cursor:"pointer"}},o.a.createElement("a",{href:"https://apps.apple.com/us/app/poster-flyer-maker-icon-design/id1241339881",target:"_blank"},o.a.createElement("img",{src:"/img/apple-icon.svg"}))),o.a.createElement("form",{className:"form-inline my-2 my-lg-0"},o.a.createElement("button",{type:"button",className:"btn btn-light btn-login",onClick:this.showLoginModal},"Log in"),o.a.createElement("button",{type:"button",className:"btn btn-light btn-signup",onClick:this.showSignupModal},"Sign up"))))),o.a.createElement("div",{className:this.state.showPolicy?"noDisplay":"container"},o.a.createElement("div",{className:"login-box"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 col-sm-12"},o.a.createElement("div",{className:"log-sign_inner"},o.a.createElement("div",{className:"login-form"},this.state.displayForget&&o.a.createElement("div",null,o.a.createElement("h1",null,"Forgot your password"),o.a.createElement("p",null,"Enter your email below to receive your password reset instruction")),!this.state.displayForget&&o.a.createElement("div",{className:this.state.showResetPass?"noDisplay":""},o.a.createElement("h1",null," Design Anything Publish anywhere"),o.a.createElement("p",null,"Create an account, it\u2019s free. Logo is loved by beginners and expects, terms and individuals")),this.state.formError&&o.a.createElement("div",{className:"mt-3"},o.a.createElement("p",{class:"errorMsg"},this.state.errorMessage)),this.state.showButtons&&!this.state.resetState&&o.a.createElement("div",null,o.a.createElement("span",{className:"d-block login-btn gg-btn mb-3"},o.a.createElement("a",{className:"btn-google mt-3 "},o.a.createElement(Ys.a,{clientId:"839691531671-1imn2b7dgas59sgvksis1c0sp4l9o3oo.apps.googleusercontent.com",autoLoad:!1,onSuccess:this.responseGoogle,className:"google-btn w-100 btn",buttonText:"Login with Google"}))),o.a.createElement("span",{className:"d-block login-btn fb-btn"},o.a.createElement(Hs.a,{appId:"1229316637538231",autoLoad:!1,fields:"name,email,picture",callback:this.handleFBLogin,cssClass:"my-facebook-button-className btn btn-fb",icon:"fa-facebook"})),o.a.createElement("span",{className:"d-block sign-up-email mt-3",onClick:this.showSignupModal},"Sign up with Email"),o.a.createElement("span",{className:"d-block mt-2  already-txt"},"Already have account?",o.a.createElement("a",{className:"already-signup",onClick:this.showLoginModal},"Login"))),this.state.showSignup&&o.a.createElement("div",{className:this.state.showPolicy?"noDisplay":""},o.a.createElement("form",{onSubmit:this.handleSubmitSignup},o.a.createElement("span",{className:this.state.nameError?"input_user fieldError":"input_user"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",name:"name",className:"input-text",placeholder:"Your Name",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:this.state.emailError?"input_user  mt-3 fieldError":"input_user  mt-3"},o.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"text",name:"email",className:"input-text",placeholder:"Your email",value:this.state.email,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:this.state.passwordError?"input_user mt-3 fieldError":"input_user mt-3"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",name:"password",className:"input-text",placeholder:"Your password",value:this.state.password,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:"agree d-block mt-3"},"By signing up you agree to Poster Web's"," ",o.a.createElement("a",{className:"termCondition",href:"/term-conditions",target:"_blank"},"Terms of Use")," ","and"," ",o.a.createElement("a",{className:"termCondition",href:"/privacy-policy",target:"_blank"},"Privacy Policy")),o.a.createElement("div",{className:"mt-4"},o.a.createElement("button",{className:"login_btn",type:"submit"},"Sign up")))),(this.state.showLogin||this.state.resetState)&&o.a.createElement("div",{className:this.state.showPolicy?"noDisplay":""},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("span",{className:this.state.emailError?"input_user f-name fieldError":"input_user f-name"},o.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"text",name:"email",className:"input-text",placeholder:"Your email",value:this.state.email,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:this.state.passwordError?"input_user password-block fieldError mt-3 ":"input_user password-block mt-3"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",name:"password",className:"input-pass",placeholder:"Your password",value:this.state.password,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:"input_user forgot_user mt-2"},o.a.createElement("input",{type:"checkbox",name:"remember_check",onChange:this.handleInputChange,checked:!!this.state.remember_check&&"checked"}),o.a.createElement("label",{htmlFor:"Log_checkbox"},"Remember Me"),o.a.createElement("a",{className:"forgetP",onClick:this.showForgetPassword},"Forgot password?")),o.a.createElement("div",{className:"log-butns mt-3"},o.a.createElement("button",{className:"login_btn",type:"submit"},"Login"))),o.a.createElement("div",{class:"log-butns mt-2"},o.a.createElement("button",{onClick:this.showHome,className:"login_btn"},o.a.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"}),"Back"))),this.state.displayForget&&o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleforgetPassword},o.a.createElement("span",{className:this.state.emailError?"input_user  mt-3 fieldError":"input_user  mt-3"},o.a.createElement("i",{class:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"text",name:"email",class:"input-text",placeholder:"Your email",value:this.state.email,onChange:this.handleInputChange})),o.a.createElement("div",{class:"log-butns mt-3"},o.a.createElement("button",{type:"submit",className:"login_btn"},"Submit")),o.a.createElement("div",{class:"log-butns mt-2"},o.a.createElement("button",{onClick:this.showLoginModal,className:"login_btn"},o.a.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"}),"Back")))),this.state.showResetPass&&o.a.createElement("div",null,o.a.createElement("h1",null,"You are nearly there!"),o.a.createElement("p",null,"Please check your email. We've sent a link to reset your password"),o.a.createElement("div",{class:"log-butns mt-2"},o.a.createElement("button",{onClick:this.showLoginModal,className:"login_btn"},o.a.createElement("i",{className:"fa fa-caret-left","aria-hidden":"true"}),"Back")))))),o.a.createElement("div",{className:"col-md-6 col-sm-12"},o.a.createElement("div",{className:"Log-sign_image"},o.a.createElement("img",{src:"/img/login-img.png",alt:"login-img"})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.userData&&e.userData!==t.userData&&(localStorage.setItem("access-token",JSON.stringify(e.userData.token)),1==t.remember_check&&(localStorage.setItem("sessionEmail",e.userData.email),localStorage.setItem("session",t.remember_check)),a.errorMessage="",a.passwordError="",a.emailError="",a.formError=!1,function(){for(var e in localStorage)e[0]+e[1]=="J-"&&sessionStorage.removeItem(e);sessionStorage.removeItem("size"),localStorage.removeItem("canvasId"),localStorage.removeItem("videoId"),sessionStorage.removeItem("LTID")}(),e.history.push("/home")),void 0!==e.errorData&&"error"==e.errorData.status&&e.errorData!==t.errorData&&e.errorDate!==t.errorDate&&0==t.userChange&&(a.errorMessage=e.errorData.message?e.errorData.message:"",a.formError=!0,a.errorDate=e.errorDate),void 0!==e.forgetPasswordData&&200==e.forgetPasswordData.code&&e.forgetPasswordData!==t.forgetPasswordData&&e.forgetDate!==t.forgetDate&&(a.forgetDate=e.forgetDate,a.showResetPass=!0,a.displayForget=!1,a.formError=!1,a.emailError="",a.passwordError=""),void 0!==e.resetState&&e.resetState!==t.resetState&&(a.resetState=e.resetState,a.formError=!1),a}}]),a}(n.Component),sn=Object(V.b)((function(e){var t={};if(void 0!==e.CanvasReducer){var a=e.CanvasReducer;t.resetState=!!a&&a.reset}if("LOGIN"===e.LoginReducer.action)if("success"!==e.LoginReducer.Logindata.status)t.errorData=e.LoginReducer.Logindata,t.errorDate=new Date;else{var s=e.LoginReducer.Logindata.data;t.userData=e.LoginReducer.Logindata.data,localStorage.setItem("useMe",JSON.stringify(s)),localStorage.setItem("youLoggedIn",1)}if("SIGN_UP_BASIC"===e.LoginReducer.action)if("success"!==e.LoginReducer.data.status)t.errorData=e.LoginReducer.data,t.errorDate=new Date;else{var n=e.LoginReducer.data.data;t.userData=e.LoginReducer.data.data,localStorage.setItem("useMe",JSON.stringify(n)),localStorage.setItem("youLoggedIn",1)}if("SOCIAL_LOGIN"===e.LoginReducer.action)if("success"!==e.LoginReducer.Socialdata.status)t.errorData=e.LoginReducer.Socialdata,t.errorDate=new Date;else{var o=e.LoginReducer.Socialdata.data;t.userData=e.LoginReducer.Socialdata.data,localStorage.setItem("useMe",JSON.stringify(o)),localStorage.setItem("youLoggedIn",1)}return"FORGET_PASSWORD"===e.LoginReducer.action&&("success"!==e.LoginReducer.data.status?(t.errorData=e.LoginReducer.data,t.errorDate=new Date):(t.forgetPasswordData=e.LoginReducer.data,t.forgetDate=new Date)),t}),(function(e){return Object(d.b)({userLogin:Ks,signUpBasic:qs,socialLogin:Zs,forgetPassword:$s,resetLoginState:T},e)}))(Object(H.g)(an)),nn=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.handleSubmit=function(e){if(e.preventDefault(),ke()){var t,a=!1,n=s.state.password;if(s.setState({confirmPasswordError:"",passwordError:"",formError:!1,errorMessage:""}),void 0!==typeof s.state.password&&null!==s.state.password&&""!==s.state.password||(s.setState({errorMessage:"",passwordError:"fieldError"}),a=!0),void 0!==typeof s.state.confirmPassword&&null!==s.state.confirmPassword&&""!==s.state.confirmPassword||(s.setState({errorMessage:"",confirmPasswordError:"fieldError"}),a=!0),s.state.password!==s.state.confirmPassword&&(s.setState({errorMessage:"Password not matched!",passwordError:"fieldError",confirmPasswordError:"fieldError",formError:!0}),a=!0),!0===a)return;if(s.state.password.length<8)return s.setState({errorMessage:"Your password must be at least 8 characters",passwordError:"fieldError",formError:!0}),void(a=!0);if(n.search(/[a-z]/i)<0)return s.setState({errorMessage:"Your password must contain at least one letter.",passwordError:"fieldError",formError:!0}),void(a=!0);if(n.search(/[0-9]/)<0)return s.setState({errorMessage:"Your password must contain at least one digit.",passwordError:"fieldError",formError:!0}),void(a=!0);t={confirm_password:s.state.confirmPassword,password:s.state.password,token:s.state.token},s.props.resetPassword(t)}},s.redirectToLogin=function(){s.props.resetLoginState(!0),s.props.history.push("/login")},s.state={password:"",confirmPassword:"",errorMessage:"",resetSuccess:!1,token:!s.props.match.params.id||s.props.match.params.id},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){(!this.state.token||this.state.token.length<10)&&this.props.history.push("/login")}},{key:"render",value:function(){return o.a.createElement("section",{className:"App-section"},o.a.createElement("div",{className:"container"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("a",{className:"navbar-brand",onClick:this.redirectToLogin},o.a.createElement("img",{src:"/img/logo.png"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03"},o.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement("a",{className:"nav-link",onClick:this.redirectToLogin},"Home ",o.a.createElement("span",{className:"sr-only"},"(current)"))))))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"login-box"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 col-sm-12"},o.a.createElement("div",{className:"log-sign_inner"},o.a.createElement("div",{className:"login-form"},this.state.token&&this.state.token.length>10&&o.a.createElement("div",{className:this.state.resetSuccess?"noDisplay":""},o.a.createElement("h1",null,"Reset your password"),o.a.createElement("p",null),this.state.formError&&o.a.createElement("div",{className:"mt-3"},o.a.createElement("p",{class:"errorMsg"},this.state.errorMessage)),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("span",{className:this.state.passwordError?"input_user f-name fieldError":"input_user f-name"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",name:"password",class:"input-text",placeholder:"Enter a new password",value:this.state.password,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("span",{className:this.state.confirmPasswordError?"input_user f-name mt-3 fieldError":"input_user f-name mt-3"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",name:"confirmPassword",class:"input-text",placeholder:"Confirm new password",value:this.state.confirmPassword,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("div",{class:"log-butns mt-3"},o.a.createElement("button",{class:"login_btn",type:"submit"},"Submit")))),this.state.resetSuccess&&o.a.createElement("div",null,o.a.createElement("h1",null,"Password reset successful"),o.a.createElement("p",null,"You can now use your new password to login"),o.a.createElement("div",{class:"log-butns mt-3"},o.a.createElement("button",{onClick:this.redirectToLogin,class:"login_btn"},"Login")))))),o.a.createElement("div",{className:"col-md-6 col-sm-12"},o.a.createElement("div",{className:"Log-sign_image"},o.a.createElement("img",{src:"/img/login-img.png",alt:""})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.resetStatus&&e.resetStatus!==t.resetStatus&&(a.resetSuccess=!0),void 0!==e.errorData&&"error"==e.errorData.status&&e.errorData!==t.errorData&&e.errorDate!==t.errorDate&&(a.errorMessage=e.errorData.message?e.errorData.message:"",a.formError=!0,a.errorDate=e.errorDate),a}}]),a}(n.Component),on=Object(V.b)((function(e){var t={};return"RESET_PASSWORD"===e.LoginReducer.action&&("success"!==e.LoginReducer.data.status?(t.errorData=e.LoginReducer.data,t.errorDate=new Date):t.resetStatus=e.LoginReducer.data),t}),(function(e){return Object(d.b)({resetPassword:Qs,resetLoginState:T},e)}))(Object(H.g)(nn));var rn=function(){return o.a.createElement("div",{className:"privacy-width"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"content-bg all-padding px-5 tandc"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12 text-center"},o.a.createElement("h1",{class:"internal-main-heading text-center my-4"},"Privacy Policy"))),o.a.createElement("div",{class:"row terms-privacy"},o.a.createElement("div",{class:"col-12"},o.a.createElement("p",null,"This Application collects some Personal Data from its Users."),o.a.createElement("h4",{class:"text-left mb-3"},"Policy summary",o.a.createElement("br",null),"Personal Data collected for the following purposes and using the following services:"),o.a.createElement("p",null,o.a.createElement("h6",null,"Access to third party services' accounts")," ",o.a.createElement("br",null),o.a.createElement("h6",null,"Access to the Facebook account"),"Permissions: Contact email"," "),o.a.createElement("p",null,o.a.createElement("b",null,"Advertising"),o.a.createElement("h6",null,"AppLovin and AdMob"),"Personal Data: Cookies and Usage data"),o.a.createElement("p",null,o.a.createElement("b",null,"Contacting the User"),o.a.createElement("h6",null,"Contact form and Mailing List or Newsletter"),"Personal Data: date of birth, email address, first name, gender and last name"," "),o.a.createElement("p",null,o.a.createElement("b",null,"Interaction with external social networks and platforms"),o.a.createElement("h6",null,"Twitter Tweet button and social widgets"),"Personal Data: Cookies and Usage data"),o.a.createElement("p",null,o.a.createElement("b",null,"Managing contacts and sending messages"),o.a.createElement("h6",null,"MailChimp"),"Personal Data: email address")),o.a.createElement("div",{class:"col-12"},o.a.createElement("h4",{class:"internal-main-heading text-left mb-3"},"Contact information"),o.a.createElement("h6",null,"Data owner"),o.a.createElement("b",null,"jagwinder singh/iapptechnologies"),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("h6",null,"Full policy"),o.a.createElement("b",null,"jagsinder singh/iapptechnologies"))),o.a.createElement("div",{class:"col-12"},o.a.createElement("h5",{class:"text-left my-3"},"Types of Data collected"),o.a.createElement("p",null,"Among the types of Personal Data that this Application collects, by itself or through third parties, there are: email address, first name, last name, gender, date of birth, Cookies and Usage data. ",o.a.createElement("br",null),"Other Personal Data collected may be described in other sections of this privacy policy or by dedicated explanation text contextually with the Data collection.",o.a.createElement("br",null),"The Personal Data may be freely provided by the User, or collected automatically when using this Application.",o.a.createElement("br",null),"Any use of Cookies - or of other tracking tools - by this Application or by the owners of third party services used by this Application, unless stated otherwise, serves to identify Users and remember their preferences, for the sole purpose of providing the service required by the User.",o.a.createElement("br",null),"Failure to provide certain Personal Data may make it impossible for this Application to provide its services.",o.a.createElement("br",null),"Users are responsible for any Personal Data of third parties obtained, published or shared through this Application and confirm that they have the third party's consent to provide the Data to the Owner.")),o.a.createElement("div",{class:"col-12"},o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Mode and place of processing the Data"),o.a.createElement("h6",null,"Methods of processing"),o.a.createElement("p",null,"The Data Controller processes the Data of Users in a proper manner and shall take appropriate security measures to prevent unauthorized access, disclosure, modification, or unauthorized destruction of the Data."),o.a.createElement("p",null,"The Data processing is carried out using computers and/or IT enabled tools, following organizational procedures and modes strictly related to the purposes indicated. In addition to the Data Controller, in some cases, the Data may be accessible to certain types of persons in charge, involved with the operation of the site (administration, sales, marketing, legal, system administration) or external parties (such as third party technical service providers, mail carriers, hosting providers, IT companies, communications agencies) appointed, if necessary, as Data Processors by the Owner. The updated list of these parties may be requested from the Data Controller at any time."),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Place"),o.a.createElement("p",null,"The Data is processed at the Data Controller's operating offices and in any other places where the parties involved with the processing are located. For further information, please contact the Data Controller."),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Retention time"),o.a.createElement("p",null,"The Data is kept for the time necessary to provide the service requested by the User, or stated by the purposes outlined in this document, and the User can always request that the Data Controller suspend or remove the data."),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"The use of the collected Data"),o.a.createElement("p",null,"The Data concerning the User is collected to allow the Owner to provide its services, as well as for the following purposes: Managing contacts and sending messages, Contacting the User, Access to third party services' accounts, Advertising and Interaction with external social networks and platforms."),o.a.createElement("p",null,"The Personal Data used for each purpose is outlined in the specific sections of this document."),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Facebook permissions asked by this Application"),o.a.createElement("p",null,"This Application may ask for some Facebook permissions allowing it to perform actions with the User's Facebook account and to retrieve information, including Personal Data, from it."),o.a.createElement("p",null,"For more information about the following permissions, refer to the"," ",o.a.createElement("a",{href:"https://developers.facebook.com/docs/facebook-login/permissions"},"Facebook permissions documentation"),"and to the"," ",o.a.createElement("a",{href:"https://www.facebook.com/about/privacy/"},"Facebook privacy policy.")),o.a.createElement("p",null,"The permissions asked are the following:"),o.a.createElement("h6",null,"Basic information"),o.a.createElement("p",null,"By default, this includes certain User\u2019s Data such as id, name, picture, gender, and their locale. Certain connections of the User, such as the Friends, are also available. If the User has made more of their Data public, more information will be available."),o.a.createElement("h6",null,"Birthday"),o.a.createElement("p",null,"Provides access to the birthday."),o.a.createElement("h6",null,"Contact email"),o.a.createElement("p",null,"Access the User's contact email address."),o.a.createElement("h6",null,"Detailed information on the processing of Personal Data"),o.a.createElement("p",null,"Personal Data is collected for the following purposes and using the following services:"),o.a.createElement("h6",null,"Access to third party services' accounts"),o.a.createElement("p",null,"This type of services allows this Application to access Data from your account on a third party service and perform actions with it.",o.a.createElement("br",null),"These services are not activated automatically, but require explicit authorization by the User."),o.a.createElement("p",null,"Access to the Facebook account (This Application) This service allows this Application to connect with the User's account on the Facebook social network, provided by Facebook, Inc."),o.a.createElement("p",null,"Permissions asked: Birthday and Contact email."),o.a.createElement("p",null,"Place of processing: US \u2013"," ",o.a.createElement("a",{href:"https://www.facebook.com/policy.php"},"Privacy Policy")),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Advertising"),o.a.createElement("p",null,"This type of services allows User Data to be utilized for advertising communication purposes displayed in the form of banners and other advertisements on this Application, possibly based on User interests. This does not mean that all Personal Data are used for this purpose. Information and conditions of use are shown below."),o.a.createElement("p",null,"Some of the services listed below may use Cookies to identify Users or they may use the behavioral retargeting technique, i.e. displaying ads tailored to the User\u2019s interests and behavior, including those detected outside this Application. For more information, please check the privacy policies of the relevant services."),o.a.createElement("p",null,o.a.createElement("b",null,"AppLovin (AppLovin Corporation)"),o.a.createElement("br",null),"AppLovin is an advertising service provided by AppLovin Corporation.",o.a.createElement("p",null,"Personal Data collected: Cookies and Usage data.",o.a.createElement("br",null),"Place of processing: US \u2013"," ",o.a.createElement("a",{href:"https://www.applovin.com/privacy/"},"Privacy Policy \u2013 Opt out"))),o.a.createElement("p",null,o.a.createElement("b",null,"AdMob (AdMob Google Inc.)"),o.a.createElement("br",null),"AdMob is an advertising service provided by AdMob Google Inc.",o.a.createElement("br",null),"Personal Data collected: Cookies and Usage data.",o.a.createElement("br",null),"Place of processing: US \u2013"," ",o.a.createElement("a",{href:"https://policies.google.com/technologies/ads"},"Privacy Policy")),o.a.createElement("p",null,o.a.createElement("b",null,"Contacting the User"),o.a.createElement("br",null),"Contact form (This Application)",o.a.createElement("br",null),o.a.createElement("p",null,"By filling in the contact form with their Data, the User authorizes this Application to use these details to reply to requests for information, quotes or any other kind of request as indicated by the form\u2019s header.Personal Data collected: date of birth, email address, first name, gender and last name. Mailing List or Newsletter (This Application) By registering on the mailing list or for the newsletter, the User\u2019s email address will be added to the contact list of those who may receive email messages containing information of commercial or promotional nature concerning this Application. Your email address might also be added to this list as a result of signing up to this Application or after making a purchase. Personal Data collected: date of birth, email address, first name, gender and last name.")),o.a.createElement("p",null,"This type of services allows interaction with social networks or other external platforms directly from the pages of this Application. The interaction and information obtained through this Application are always subject to the User\u2019s privacy settings for each social network. This type of service might still collect traffic data for the pages where the service is installed, even when Users do not use it."),o.a.createElement("h6",null,"Twitter Tweet button and social widgets (Twitter, Inc.)"),o.a.createElement("p",null,"The Twitter Tweet button and social widgets are services allowing interaction with the Twitter social network provided by Twitter, Inc. Personal Data collected: Cookies and Usage data.",o.a.createElement("br",null),"Place of processing: US \u2013"," ",o.a.createElement("a",{href:"https://twitter.com/en/privacy"},"Privacy Policy")),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Managing contacts and sending messages"),o.a.createElement("p",null,"This type of services makes it possible to manage a database of email contacts, phone contacts or any other contact information to communicate with the User. These services may also collect data concerning the date and time when the message was viewed by the User, as well as when the User interacted with it, such as by clicking on links included in the message.",o.a.createElement("br",null),o.a.createElement("b",null,"MailChimp (The Rocket Science Group, LLC.)"),o.a.createElement("br",null),"MailChimp is an email address management and message sending service provided by The Rocket Science Group, LLC. Personal Data collected: email address.",o.a.createElement("br",null),"Place of processing: US \u2013"," ",o.a.createElement("a",{href:"https://mailchimp.com/legal/privacy/"},"Privacy Policy")),o.a.createElement("h5",{class:"internal-main-heading text-left mb-3"},"Additional information about Data collection and processing"),o.a.createElement("h6",null,"Legal action"),o.a.createElement("p",null,"The User's Personal Data may be used for legal purposes by the Data Controller, in Court or in the stages leading to possible legal action arising from improper use of this Application or the related services. The User declares to be aware that the Data Controller may be required to reveal personal data upon request of public authorities."),o.a.createElement("br",null),o.a.createElement("b",null,"Additional information about User's Personal Data"),o.a.createElement("br",null),o.a.createElement("p",null,"In addition to the information contained in this privacy policy, this Application may provide the User with additional and contextual information concerning particular services or the collection and processing of Personal Data upon request."),o.a.createElement("br",null),o.a.createElement("b",null,"System Logs and Maintenance"),o.a.createElement("br",null),o.a.createElement("p",null,"For operation and maintenance purposes, this Application and any third party services may collect files that record interaction with this Application (System Logs) or use for this purpose other Personal Data (such as IP Address)."),o.a.createElement("br",null),o.a.createElement("b",null,"Information not contained in this policy"),o.a.createElement("br",null),o.a.createElement("p",null,"More details concerning the collection or processing of Personal Data may be requested from the Data Controller at any time. Please see the contact information at the beginning of this document."),o.a.createElement("br",null),o.a.createElement("b",null,"The rights of Users"),o.a.createElement("br",null),o.a.createElement("p",null,"Users have the right, at any time, to know whether their Personal Data has been stored and can consult the Data Controller to learn about their contents and origin, to verify their accuracy or to ask for them to be supplemented, cancelled, updated or corrected, or for their transformation into anonymous format or to block any data held in violation of the law, as well as to oppose their treatment for any and all legitimate reasons. Requests should be sent to the Data Controller at the contact information set out above."),o.a.createElement("p",null,"This Application does not support \u201cDo Not Track\u201d requests. To determine whether any of the third party services it uses honor the \u201cDo Not Track\u201d requests, please read their privacy policies."),o.a.createElement("br",null),o.a.createElement("b",null,"Changes to this privacy policy"),o.a.createElement("br",null),o.a.createElement("p",null,"The Data Controller reserves the right to make changes to this privacy policy at any time by giving notice to its Users on this page. It is strongly recommended to check this page often, referring to the date of the last modification listed at the bottom. If a User objects to any of the changes to the Policy, the User must cease using this Application and can request that the Data Controller remove the Personal Data. Unless stated otherwise, the then-current privacy policy applies to all Personal Data the Data Controller has about Users."),o.a.createElement("br",null),o.a.createElement("b",null,"Information about this privacy policy"),o.a.createElement("br",null),o.a.createElement("p",null,"The Data Controller is responsible for this privacy policy, prepared starting from the modules provided by Iubenda and hosted on Iubenda's servers."),o.a.createElement("br",null),o.a.createElement("b",null,"Definitions and legal references"),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("h6",null,"Personal Data (or Data)"),"Any information regarding a natural person, a legal person, an institution or an association, which is, or can be, identified, even indirectly, by reference to any other information, including a personal identification number."),o.a.createElement("p",null,o.a.createElement("h6",null,"Usage Data"),"Information collected automatically from this Application (or third party services employed in this Application), which can include: the IP addresses or domain names of the computers utilized by the Users who use this Application, the URI addresses (Uniform Resource Identifier), the time of the request, the method utilized to submit the request to the server, the size of the file received in response, the numerical code indicating the status of the server's answer (successful outcome, error, etc.), the country of origin, the features of the browser and the operating system utilized by the User, the various time details per visit (e.g., the time spent on each page within the Application) and the details about the path followed within the Application with special reference to the sequence of pages visited, and other parameters about the device operating system and/or the User's IT environment."),o.a.createElement("p",null,o.a.createElement("h6",null,"User"),"The individual using this Application, which must coincide with or be authorized by the Data Subject, to whom the Personal Data refers."),o.a.createElement("p",null,o.a.createElement("h6",null,"Data Subject"),"The legal or natural person to whom the Personal Data refers."),o.a.createElement("p",null,o.a.createElement("h6",null,"Data Processor (or Data Supervisor)"),"The natural person, legal person, public administration or any other body, association or organization authorized by the Data Controller to process the Personal Data in compliance with this privacy policy."),o.a.createElement("p",null,o.a.createElement("h6",null,"Data Controller (or Owner)"),"The natural person, legal person, public administration or any other body, association or organization with the right, also jointly with another Data Controller, to make decisions regarding the purposes, and the methods of processing of Personal Data and the means used, including the security measures concerning the operation and use of this Application. The Data Controller, unless otherwise specified, is the Owner of this Application."),o.a.createElement("p",null,o.a.createElement("h6",null,"This Application"),"The hardware or software tool by which the Personal Data of the User is collected."),o.a.createElement("p",null,o.a.createElement("h6",null,"Cookies"),"Small piece of data stored in the User's device."),o.a.createElement("p",null,o.a.createElement("h6",null,"Legal information"),"Notice to European Users: this privacy statement has been prepared in fulfillment of the obligations under Art. 10 of EC Directive n. 95/46/EC, and under the provisions of Directive 2002/58/EC, as revised by Directive 2009/136/EC, on the subject of Cookies."),"This privacy policy relates solely to this Application.",o.a.createElement("br",null),"Latest update: December 22, 2017")))))};var cn=function(){return o.a.createElement("div",{className:"privacy-width"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"content-bg all-padding px-5 tandc"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12 text-center"},o.a.createElement("h1",{class:"internal-main-heading text-center my-4"},"Terms & Conditions"))),o.a.createElement("div",{class:"row terms-privacy"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h4",{class:"text-left mb-3"},'End-User License Agreement ("Agreement")',o.a.createElement("br",null)),o.a.createElement("p",null,"Last updated: December 22, 2017"),o.a.createElement("p",null,'Please read this End-User License Agreement ("Agreement") carefully before clicking the "I Agree" button, downloading or using ("Application").'),o.a.createElement("p",null,'By clicking the "I Agree" button, downloading or using the Application, you are agreeing to be bound by the terms and conditions of this Agreement.'),o.a.createElement("p",null,"This Agreement is a legal agreement between you (either an individual or a single entity) and and it governs your use of the Application made available to you by PosterMaker."),o.a.createElement("p",null,'If you do not agree to the terms of this Agreement, do not click on the "I Agree" button and do not download or use the Application.'),o.a.createElement("p",null,"The Application is licensed, not sold, to you by for use strictly in accordance with the terms of this Agreement."),o.a.createElement("h4",{class:"text-left mb-3"},"License",o.a.createElement("br",null)),o.a.createElement("p",null,"PosterMaker grants you a revocable, non-exclusive, non-transferable, limited license to download, install and use the Application solely for your personal, non-commercial purposes strictly in accordance with the terms of this Agreement."),o.a.createElement("h4",{class:"text-left mb-3"},"Restrictions",o.a.createElement("br",null)),o.a.createElement("p",null,"You agree not to, and you will not permit others to:",o.a.createElement("ul",{style:{marginLeft:"40px"}},o.a.createElement("li",null,"License, sell, rent, lease, assign, distribute, transmit, host, outsource, disclose or otherwise commercially exploit the Application or make the Application available to any third party."),o.a.createElement("li",null,"Copy or use the Application for any purpose other than as permitted under the above section 'License'."),o.a.createElement("li",null,"Modify, make derivative works of, disassemble, decrypt, reverse compile or reverse engineer any part of the Application."),o.a.createElement("li",null,"Remove, alter or obscure any proprietary notice (including any notice of copyright or trademark) of or its affiliates, partners, suppliers or the licensors of the Application."))),o.a.createElement("h4",{class:"text-left mb-3"},"Intellectual Property",o.a.createElement("br",null)),o.a.createElement("p",null,"The Application, including without limitation all copyrights, patents, trademarks, trade secrets and other intellectual property rights are, and shall remain, the sole and exclusive property of PosterMaker."),o.a.createElement("h4",{class:"text-left mb-3"},"Your Suggestions",o.a.createElement("br",null)),o.a.createElement("p",null,'Any feedback, comments, ideas, improvements or suggestions (collectively, "Suggestions") provided by you to with respect to the Application shall remain the sole and exclusive property of shall be free to use, copy, modify, publish, or redistribute the Suggestions for any purpose and in any way without any credit or any compensation to you.'),o.a.createElement("h4",{class:"text-left mb-3"},"Modifications to Application",o.a.createElement("br",null)),o.a.createElement("p",null,"PosterMaker reserves the right to modify, suspend or discontinue, temporarily or permanently, the Application or any service to which it connects, with or without notice and without liability to you."),o.a.createElement("h4",{class:"text-left mb-3"},"Updates to Application",o.a.createElement("br",null)),o.a.createElement("p",null,'PosterMaker may from time to time provide enhancements or improvements to the features/functionality of the Application, which may include patches, bug fixes, updates, upgrades and other modifications ("Updates").'),o.a.createElement("p",null,"Updates may modify or delete certain features and/or functionalities of the Application. You agree that has no obligation to (i) provide any Updates, or (ii) continue to provide or enable any particular features and/or functionalities of the Application to you."),o.a.createElement("p",null,"You further agree that all Updates will be (i) deemed to constitute an integral part of the Application, and (ii) subject to the terms and conditions of this Agreement."),o.a.createElement("h4",{class:"text-left mb-3"},"Third-Party Services",o.a.createElement("br",null)),o.a.createElement("p",null,'The Application may display, include or make available third-party content (including data, information, applications and other products services) or provide links to third-party websites or services ("Third- Party Services").'),o.a.createElement("p",null,"You acknowledge and agree that shall not be responsible for any Third-Party Services, including their accuracy, completeness, timeliness, validity, copyright compliance, legality, decency, quality or any other aspect thereof. does not assume and shall not have any liability or responsibility to you or any other person or entity for any Third-Party Services."),o.a.createElement("p",null,"Third-Party Services and links thereto are provided solely as a convenience to you and you access and use them entirely at your own risk and subject to such third parties' terms and conditions."),o.a.createElement("h4",{class:"text-left mb-3"},"Term and Termination",o.a.createElement("br",null)),o.a.createElement("p",null,"This Agreement shall remain in effect until terminated by you or PosterMaker may, in its sole discretion, at any time and for any or no reason, suspend or terminate this Agreement with or without prior notice."),o.a.createElement("p",null,"This Agreement will terminate immediately, without prior notice from , in the event that you fail to comply with any provision of this Agreement. You may also terminate this Agreement by deleting the Application and all copies thereof from your mobile device or from your computer."),o.a.createElement("p",null,"Upon termination of this Agreement, you shall cease all use of the Application and delete all copies of the Application from your mobile device or from your computer."),o.a.createElement("p",null,"Termination of this Agreement will not limit any of s rights or remedies at law or in equity in case of breach by you (during the term of this Agreement) of any of your obligations under the present Agreement."),o.a.createElement("h4",{class:"text-left mb-3"},"Indemnification",o.a.createElement("br",null)),o.a.createElement("p",null,"You agree to indemnify and hold and its parents, subsidiaries, affiliates, officers, employees, agents, partners and licensors (if any) harmless from any claim or demand, including reasonable attorneys' fees, due to or arising out of your: (a) use of the Application; (b) violation of this Agreement or any law or regulation; or (c) violation of any right of a third party."),o.a.createElement("h4",{class:"text-left mb-3"},"No Warranties",o.a.createElement("br",null)),o.a.createElement("p",null,'The Application is provided to you "AS IS" and "AS AVAILABLE" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, , on its own behalf and on behalf of its affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Application, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice. Without limitation to the foregoing provides no warranty or undertaking, and makes no representation of any kind that the Application will meet your requirements, achieve any intended results, be compatible or work with any other software, applications, systems or services, operate without interruption, meet any performance or reliability standards or be error free or that any errors or defects can or will be corrected.'),o.a.createElement("p",null,"Without limiting the foregoing, neither nor any provider makes any representation or warranty of any kind, express or implied: (i) as to the operation or availability of the Application, or the information, content, and materials or products included thereon; (ii) that the Application will be uninterrupted or error-free; (iii) as to the accuracy, reliability, or currency of any information or content provided through the Application; or (iv) that the Application, its servers, the content, or e-mails sent from or on behalf of are free of viruses, scripts, trojan horses, worms, malware, timebombs or other harmful components."),o.a.createElement("p",null,"Some jurisdictions do not allow the exclusion of or limitations on implied warranties or the limitations on the applicable statutory rights of a consumer, so some or all of the above exclusions and limitations may not apply to you."),o.a.createElement("h4",{class:"text-left mb-3"},"Limitation of Liability",o.a.createElement("br",null)),o.a.createElement("p",null,"Notwithstanding any damages that you might incur, the entire liability of and any of its suppliers under any provision of this Agreement and your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by you for the Application."),o.a.createElement("p",null,"To the maximum extent permitted by applicable law, in no event shall PosterMaker or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, for loss of data or other information, for business interruption, for personal injury, for loss of privacy arising out of or in any way related to the use of or inability to use the Application, third-party software and/or third-party hardware used with the Application, or otherwise in connection with any provision of this Agreement), even if or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose."),o.a.createElement("p",null,"Some states/jurisdictions do not allow the exclusion or limitation of incidental or consequential damages, so the above limitation or exclusion may not apply to you."),o.a.createElement("h4",{class:"text-left mb-3"},"Severability",o.a.createElement("br",null)),o.a.createElement("p",null,"If any provision of this Agreement is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect."),o.a.createElement("h4",{class:"text-left mb-3"},"Waiver",o.a.createElement("br",null)),o.a.createElement("p",null,"Except as provided herein, the failure to exercise a right or to require performance of an obligation under this Agreement shall not effect a party's ability to exercise such right or require such performance at any time thereafter nor shall be the waiver of a breach constitute waiver of any subsequent breach."),o.a.createElement("h4",{class:"text-left mb-3"},"For U.S. Government End Users",o.a.createElement("br",null)),o.a.createElement("p",null,'The Application and related documentation are "Commercial Items", as that term is defined under 48 C.F.R. \xa72.101, consisting of "Commercial Computer Software" and "Commercial Computer Software Documentation", as such terms are used under 48 C.F.R. \xa712.212 or 48 C.F.R. \xa7227.7202, as applicable. In accordance with 48 C.F.R. \xa712.212 or 48 C.F.R. \xa7227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein.'),o.a.createElement("h4",{class:"text-left mb-3"},"Export Compliance",o.a.createElement("br",null)),o.a.createElement("p",null,"You may not export or re-export the Application except as authorized by United States law and the laws of the jurisdiction in which the Application was obtained."),o.a.createElement("p",null,"In particular, but without limitation, the Application may not be exported or re-exported (a) into or to a nation or a resident of any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Department's list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person's List or Entity List."),o.a.createElement("p",null,"By installing or using any component of the Application, you represent and warrant that you are not located in, under control of, or a national or resident of any such country or on any such list."),o.a.createElement("h4",{class:"text-left mb-3"},"Amendments to this Agreement",o.a.createElement("br",null)),o.a.createElement("p",null,"Poster Maker reserves the right, at its sole discretion, to modify or replace this Agreement at any time. If a revision is material we will provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."),o.a.createElement("p",null,"By continuing to access or use our Application after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use the Application."),o.a.createElement("h4",{class:"text-left mb-3"},"Governing Law",o.a.createElement("br",null)),o.a.createElement("p",null,"The laws of New Jersey, United States, excluding its conflicts of law rules, shall govern this Agreement and your use of the Application. Your use of the Application may also be subject to other local, state, national, or international laws."),o.a.createElement("p",null,"This Agreement shall not be governed by the United Nations Convention on Contracts for the International Sale of Good."),o.a.createElement("h4",{class:"text-left mb-3"},"Contact Information",o.a.createElement("br",null)),o.a.createElement("p",null,"If you have any questions about this Agreement, please contact us."),o.a.createElement("h4",{class:"text-left mb-3"},"Entire Agreement",o.a.createElement("br",null)),o.a.createElement("p",null,"The Agreement constitutes the entire agreement between you and regarding your use of the Application and supersedes all prior and contemporaneous written or oral agreements between you and PosterMaker."),o.a.createElement("p",null,"You may be subject to additional terms and conditions that apply when you use or purchase other services, which will provide to you at the time of such use or purchase"))))))},ln=function(e){Object(K.a)(a,e);var t=Object(Z.a)(a);function a(e){var s;return Object(X.a)(this,a),(s=t.call(this,e)).redirectToHome=function(){s.props.history.push("/login")},s.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(ie.a)({},e.target.name,a))},s.handleSubmit=function(e){e.preventDefault();var t,a=!1;if(s.setState({emailError:"",nameError:"",messageError:""}),void 0!==typeof s.state.email&&null!==s.state.email&&""!==s.state.email||(s.setState({errorMessage:"",emailError:"fieldError"}),a=!0),void 0!==typeof s.state.name&&null!==s.state.name&&""!==s.state.name||(s.setState({errorMessage:"",nameError:"fieldError"}),a=!0),void 0!==typeof s.state.message&&null!==s.state.message&&""!==s.state.message||(s.setState({errorMessage:"",messageError:"fieldError"}),a=!0),!le.a.isEmail(s.state.email))return s.setState({formError:!0,emailError:"fieldError",errorMessage:"Email entered is invalid!"}),void(a=!0);!0!==a&&(t={email:s.state.email,name:s.state.name,message:s.state.message},s.setState({msg:"Sending request... "}),s.props.contactUs(t))},s.state={email:"",name:"",message:"",msg:"",leaders:[]},s}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.props.getLeadersOuter()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{class:"iphone-banner"},o.a.createElement("div",{className:"header-refer"},o.a.createElement("div",{className:"container"},o.a.createElement(zt,{name:"Guest"}),o.a.createElement(Jt,null),o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("a",{className:"navbar-brand",onClick:this.redirectToHome},o.a.createElement("img",{src:"/img/logo.png",alt:"logo"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03"},o.a.createElement("div",{className:"ml-auto mr-auto",style:{cursor:"pointer"}},o.a.createElement("a",{href:"https://apps.apple.com/us/app/poster-flyer-maker-icon-design/id1241339881",target:"_blank"},o.a.createElement("img",{src:"/img/apple-icon.svg"}))))))),o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("div",{class:"inner-banner-container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-6 col-12"},o.a.createElement("div",{class:"iphone-img"},o.a.createElement("img",{src:"/home-img/iphone.png",class:"img-fluid"}))),o.a.createElement("div",{class:"col-md-6 col-12"},o.a.createElement("div",{class:"iphone-text"},o.a.createElement("span",{class:"refer"},"refer to friends"),o.a.createElement("span",{class:"win"},"& get a chance to "),o.a.createElement("span",{class:"iphone"},o.a.createElement("span",{class:"ip-color"},"win an iphone")," & MORE..."))))))))),o.a.createElement("div",{class:"how-works"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h1",{class:"refer-heading"},"How it works")),o.a.createElement("div",{class:"col-12"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-3 text-center"},o.a.createElement("span",{class:"how-img"},o.a.createElement("img",{src:"/home-img/login.png",class:"img-fluid"})),o.a.createElement("span",{class:"how-text"},"1. Login to your account")),o.a.createElement("div",{class:"col-md-3 text-center"},o.a.createElement("span",{class:"how-img"},o.a.createElement("img",{src:"/home-img/refer.png",class:"img-fluid"})),o.a.createElement("span",{class:"how-text"},"2. go to refer and earn")),o.a.createElement("div",{class:"col-md-3 text-center"},o.a.createElement("span",{class:"how-img"},o.a.createElement("img",{src:"/home-img/friend.png",class:"img-fluid"})),o.a.createElement("span",{class:"how-text"},"3. refer to a friend")),o.a.createElement("div",{class:"col-md-3 text-center"},o.a.createElement("span",{class:"how-img"},o.a.createElement("img",{src:"/home-img/win.png",class:"img-fluid"})),o.a.createElement("span",{class:"how-text"},"4. Win Prizes"))))))),o.a.createElement("div",{class:"container features"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h1",{class:"refer-heading mb-4"},"features"),o.a.createElement("h5",{class:"text-center mt-0 pb-4 mb-4"},"Create stunning designs with the help of each Poster App Lab feature")),o.a.createElement("div",{class:"col-md-7 features-text"},o.a.createElement("h4",null),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("span",null,"Give your message impact, no matter what you have to say. With Poster App you can add text to photos easily and quickly.")),o.a.createElement("li",null,o.a.createElement("span",null,"Crop your photos the simple way! Crop it.")),o.a.createElement("li",null,o.a.createElement("span",null,"Add amazing photo filters to make your photos magnificent.")),o.a.createElement("li",null,o.a.createElement("span",null,"Flip & Rotate a picture in a second to make a quick and efficient print edit, balance your design or bring symmetry.")),o.a.createElement("li",null,o.a.createElement("span",null,"Add stickers to your photos for free - now with thousands of choices.")))),o.a.createElement("div",{class:"col-md-5 col-12"},o.a.createElement("div",{class:"video-section"},o.a.createElement("video",{width:"500",height:"320",autoPlay:!0,muted:!0,loop:!0,controls:!0},o.a.createElement("source",{src:"https://"+ +window.location.hostname+"/api/videos/2.mp4",type:"video/mp4"}),o.a.createElement("source",{src:"https://"+window.location.hostname+"/api/videos/3.mov",type:"video/ogg"}),"Your browser does not support the video tag."))))),o.a.createElement("div",{class:"container team-member-container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("div",{class:"team-members"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h1",{class:"refer-heading mb-1",style:{color:"#000"}},"Leadership Board"),o.a.createElement("p",{class:"text-center mt-0 pt-0"},"Check Who Are The Top Inviters")),o.a.createElement("div",{class:"referral-box-container"},o.a.createElement("h1",null,"Top Inviters"),o.a.createElement("div",{class:"table-responsive"},o.a.createElement("table",{class:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"}),o.a.createElement("th",{scope:"col"},"Name"),o.a.createElement("th",{scope:"col"},"Joined"))),o.a.createElement("tbody",null,this.state.leaders&&this.state.leaders.length>0&&this.state.leaders.map((function(e,t){if(!(5===t||t>=5))return o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{class:"d-flex"},o.a.createElement("div",{class:"star"},o.a.createElement("span",{class:"winner"},t+1)),o.a.createElement("div",{class:"winner-img"},o.a.createElement("img",{src:e.profile_picture_url?e.profile_picture_url:"./home-img/placeholder.svg",class:"img-fluid"})))),o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.referral_count?e.referral_count:0))})))))))))),o.a.createElement("div",{class:" footer-referral"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-md-5 col-12 mr-auto send-message"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12"},o.a.createElement("h1",{class:"refer-heading"},"Contact Us")),o.a.createElement("div",{class:"col-12 separate-text"},"Need some help with Poster App? Or maybe you just have a question or want to tell us how much you love Poster App!? write a message to get in touch with us."))),o.a.createElement("div",{class:"col-md-6 col-12 send-message-form"},this.state.msg&&o.a.createElement("p",{style:{color:"#ffffff"}},this.state.msg),o.a.createElement("form",null,o.a.createElement("div",{class:"form-group"},o.a.createElement("input",{type:"text",class:this.state.nameError?"form-control fieldError":"form-control",placeholder:"Name",name:"name",value:this.state.name,onChange:this.handleInputChange})),o.a.createElement("div",{class:"form-group"},o.a.createElement("input",{type:"email",class:this.state.emailError?"form-control fieldError":"form-control",placeholder:"Email Address",value:this.state.email,onChange:this.handleInputChange,name:"email"})),o.a.createElement("div",{class:"form-group"},o.a.createElement("textarea",{class:this.state.messageError?"form-control fieldError":"form-control",placeholder:"Message",name:"message",value:this.state.message,onChange:this.handleInputChange})),o.a.createElement("div",{class:"form-group"},o.a.createElement("button",{type:"submit",class:"btn btn-refer-form float-right",onClick:this.handleSubmit},"submit"))))))),o.a.createElement("div",{class:"footer-copyright"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col-12 text-center"},"Copyright \xa9 2020 ",o.a.createElement("span",null,"POSTERMAKER")," | ALL RIGHTS RESERVED")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.contactData&&e.contactData!==t.contactData&&e.contactDate!==t.contactDate&&200===e.contactData.code&&(a.msg=e.contactData.message,a.email="",a.name="",a.message=""),void 0!==e.leaders&&e.leaders!==t.leaders&&e.leadersDate!==t.leadersDate&&(a.leadersDate=e.leadersDate,a.leaders=e.leaders?e.leaders.data:[]),a}}]),a}(n.Component),dn=Object(V.b)((function(e){var t={};return"CONTACT_US"===e.LoginReducer.action&&("success"!==e.LoginReducer.data.status?(t.errorData=e.LoginReducer.data,t.errorDate=new Date):(t.contactData=e.LoginReducer.data,t.contactDate=new Date)),"GET_LEADERS_OUTER"===e.LoginReducer.action&&(200!==e.LoginReducer.data.status?(t.errorData=e.LoginReducer.data,t.errorDate=new Date):(t.leaders=e.LoginReducer.data,t.leadersDate=new Date)),t}),(function(e){return Object(d.b)({contactUs:en,getLeadersOuter:tn},e)}))(Object(H.g)(ln)),mn=Object(d.d)(z,Object(d.a)(l.a));function pn(){var e=JSON.parse(localStorage.getItem("useMe")),t=localStorage.getItem("youLoggedIn");return!(!e||!t)&&be()}c.a.initialize("UA-171799851-1"),c.a.pageview(window.location.pathname+window.location.search);var un=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return o.a.createElement(H.b,Object.assign({},a,{render:function(e){return pn()?o.a.createElement(H.a,{to:{pathname:"/home",state:{from:e.location}}}):o.a.createElement(t,e)}}))},hn=Object(zs.a)();hn.location;hn.listen((function(e){window.ga("set","page",e.pathname+e.search),window.ga("send","pageview")})),i.a.render(o.a.createElement(V.a,{store:mn},o.a.createElement(W.a,{config:{google:{families:["Alfa Slab One","Source Sans Pro:300,600","Grenze Gotisch","Lobster","Dancing Script","Indie Flower","Caveat","Concert One","Lexend Zetta","Modak","Raleway","Ultra"]}},onStatus:function(e){console.log(e)}},o.a.createElement(H.c,{history:hn},o.a.createElement(H.d,null,o.a.createElement(un,{path:"/login",component:sn}),o.a.createElement(un,{path:"/refer-earn",component:dn}),o.a.createElement(un,{exact:!0,path:"/privacy-policy",component:rn}),o.a.createElement(un,{exact:!0,path:"/term-conditions",component:cn}),o.a.createElement(un,{path:"/refer-friends/:uid/:id",component:sn}),o.a.createElement(un,{path:"/reset-password/:id",component:on}),Gs,o.a.createElement(H.a,{from:"/*",to:"/login"}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},447:function(e,t,a){e.exports=a(1027)},690:function(e,t){},691:function(e,t){},692:function(e,t){}},[[447,1,2]]]);
//# sourceMappingURL=main.f847f0b6.chunk.js.map